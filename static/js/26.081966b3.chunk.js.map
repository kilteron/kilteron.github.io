{"version":3,"sources":["../node_modules/@material-ui/icons/Edit.js","MyCollection/Cards/CardBottom/MenuButton.js","MyCollection/Cards/CardBottom/CardBottomRight.js","MyCollection/Cards/CardList.js","MyCollection/Cards/CategoriesMenu.js","../node_modules/@material-ui/core/esm/internal/svg-icons/Cancel.js","../node_modules/@material-ui/core/esm/Chip/Chip.js","MyCollection/Cards/DeleteButtonsForCategories.js","MyCollection/Cards/EditButtonsForCategories.js","MyCollection/Navigation/TopTitleLists.js","MyCollection/Navigation/TopTitleListsAppBar.js","MyCollection/Cards/Service/addCard.js","MyCollection/Cards/Service/saveCard.js","MyCollection/Categories/Service/deleteCategory.tsx","MyCollection/Categories/Service/addCategoryAndMoveChildren.js","MyCollection/Categories/Service/editCategory.js","General/Navigation/TopAppBar.js","MyCollection/index.tsx","DataSource/getRemoteCollection.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","MenuButton","props","useState","anchorEl","setAnchorEl","IconButton","onClick","event","currentTarget","id","aria-owns","Boolean","aria-haspopup","color","Menu","anchorOrigin","vertical","horizontal","transformOrigin","open","onClose","MenuItem","handleMoveCard","handleDeleteCard","CardBottomRight","moveCardModal","useMoveCardModal","editCardModal","useEditCardModal","deleteCard","useDeleteCard","Grid","item","style","flexGrow","container","xs","justify","stackOfIds","join","show","card","categoryTitle","cats","handleEditCard","delete","CardList","useAddCardModal","children","direction","alignItems","spacing","entries","map","undefined","GeneralCard","cardId","title","delCardHandler","moveCardHandler","openMoveCardModal","editCardHandler","openEditCardModal","CategoriesMenu","addCategoryModal","useAddCategoryModal","FormControl","aria-label","disableFocusRipple","disableRipple","handleNormalCategiries","aria-controls","keepMounted","onBlur","generalTitleIds","handleEditCategiries","handleDeleteCategiries","createSvgIcon","React","isDeleteKeyboardEvent","keyboardEvent","key","Chip","ref","avatarProp","avatar","classes","className","clickableProp","clickable","_props$color","ComponentProp","component","deleteIconProp","deleteIcon","_props$disabled","disabled","iconProp","icon","label","onDelete","onKeyDown","onKeyUp","_props$size","size","_props$variant","variant","other","_objectWithoutProperties","chipRef","handleRef","useForkRef","handleDeleteIconClick","stopPropagation","small","Component","ButtonBase","moreProps","customClasses","clsx","concat","capitalize","deleteIconSmall","CancelIcon","avatarSmall","iconSmall","_extends","role","root","outlined","outlinedPrimary","outlinedSecondary","sizeSmall","deletable","tabIndex","target","preventDefault","current","blur","labelSmall","withStyles","theme","backgroundColor","palette","type","grey","deleteIconColor","fade","text","primary","fontFamily","typography","fontSize","pxToRem","display","justifyContent","height","getContrastText","borderRadius","whiteSpace","transition","transitions","create","cursor","outline","textDecoration","border","padding","verticalAlign","boxSizing","opacity","pointerEvents","marginLeft","marginRight","width","contrastText","dark","secondary","colorPrimary","main","colorSecondary","userSelect","WebkitTapHighlightColor","emphasize","boxShadow","shadows","clickableColorPrimary","clickableColorSecondary","deletableColorPrimary","deletableColorSecondary","action","hoverOpacity","avatarColorPrimary","avatarColorSecondary","iconColorPrimary","iconColorSecondary","overflow","textOverflow","paddingLeft","paddingRight","margin","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","name","DeleteButtonsForCategories","useStyles","clickAway","makeStyles","formControl","marginTop","marginBottom","deleteEvent","useRef","deleteCategoryModal","useDeleteCategoryModal","handleDelete","useCallback","slice","console","log","EditButtonsForCategories","editCategoryModal","useEditCategoryModal","TopTitleLists","MenuType","generalTitle","userCollection","menuType","setMenuType","useEffect","isVisible","ClickAwayListener","onClickAway","touchEvent","flexDirection","SelectBoxWithCategories","isShowAddCategory","TopTitleListsAppBar","deleteCategory","useDeleteCategory","addCategory","useAddCategory","editCategory","useEditCategory","navBarMenuType","setNavBarMenuType","setGeneralTitle","setGeneralTitleIds","drawerWithMenu","useDrawerWithMenu","useTopTitleListsAppBarObserver","visibleChunks","chunkRefs","generalTitle_","generalTitleIds_","keys","length","prev","clone","newCategoryName","Set","MoveOnScrollAppBar","Container","maxWidth","flexWrap","overflowX","addCardService","path","arr","forEach","k","v","index","findIndex","el","find","element","find2","reverse","elem","splice","unshift","push","saveCardService","o","deleteCategoryService","filter","Number","addCategoryAndMoveChildrenService","stack","newCategory","newArr","orphans","nextId","parseInt","editCategoryService","menuButton","TopAppBar","MoveOnScrollTopAppBar","Toolbar","Typography","edge","Right","newCardList","Index","collectionId","useParams","moveCard","useMoveCard","addCard","useAddCard","anchorRefs","removeAll","store","useLocalForage","setedUp","setup","signInRemoteCollectionSetedUp","signInRemoteCollectionSetup","useGetDocFromLocalForage","localData","localLoading","IDataJson","data","setData","loading","setLoading","fireBaseAuth","useFireBaseAuth","fetchData","a","isSignIn","firebase","firestore","collection","doc","uid","get","JSON","parse","pako","inflate","Uint8Array","from","ch","charCodeAt","to","e","useGetRemoteCollection","remoteData","remoteLoading","useGetCollectionChunkHeight","localCollectionChunkHeight","localCollectionChunkHeightLoading","useFetch","remoteGithubStat","remoteGithubStatLoading","remoteGithubStatSetup","chunks","titleToChunkMathing","isObserverSetedUp","mergeCollections","useMergeCollections","componentSizes","useComponentSizes","useReducer","p","render","location","useLocation","prevLocation","storeUserCollectionToServer","useStoreUserCollectionToServer","saveCard","useSaveCard","showSignInBar","useShowSignInBar","status","topTitleListsAppBarHeight","topSignInAppBarHeight","scrollMargin","setScrollMargin","settings","setItem","addGithubUpdates","localUserCollection","localUserCollectionValue","url","stars","updatedAt","useChunksFromObserver","chunksForRender","scrollTo","initFinished","fromStackOfIds","toStackOfIds","split","deleteCardService","toCategoryTitle","reset","then","getItem","cardsNumber","result","listCards","getCategoriesService","GenerateCardList2","generateChunks","chunks_","titleToChunkMathing_","counter","useScrollTo","TopTabsMenuSkeleton","cardList","position","NAV_BAR_HEIGHT","SkeletonLoaderForHashNavigation","chunk_","r","background"],"mappings":"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","file":"static/js/26.081966b3.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\n\nexports.default = _default;","import{ useState } from \"react\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { IconButton, MenuItem } from \"@material-ui/core\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\n\nexport const MenuButton = (props) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleEditCard = () => {\n    setAnchorEl(null);\n    props.handleEditCard();\n  };\n\n  const handleMoveCard = () => {\n    setAnchorEl(null);\n    props.handleMoveCard();\n  };\n\n  const handleDeleteCard = () => {\n    setAnchorEl(null);\n    props.handleDeleteCard();\n  };\n\n  return (\n    <div>\n      <IconButton onClick={handleMenu}>\n        <MoreVertIcon\n          id={\"open-card-menu-\" + props.id}\n          aria-owns={Boolean(anchorEl) ? \"menu-appbar\" : null}\n          aria-haspopup=\"true\"\n          color=\"contrast\"\n        />\n      </IconButton>\n      <Menu\n        id=\"menu-appbar\"\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {/* <MenuItem\n          id={\"open-modal-edit-card-\" + props.id}\n          onClick={handleEditCard}\n        >\n          Edit\n        </MenuItem> */}\n        <MenuItem\n          id={\"open-modal-move-card-\" + props.id}\n          onClick={handleMoveCard}\n        >\n          Move\n        </MenuItem>\n        <MenuItem id={\"delete-card-\" + props.id} onClick={handleDeleteCard}>\n          Delete\n        </MenuItem>\n      </Menu>\n    </div>\n  );\n};\n","import Grid from \"@material-ui/core/Grid\";\nimport { MenuButton } from \"./MenuButton\";\nimport { useMoveCardModal } from \"../Context/MoveCardModal\";\nimport { useDeleteCard } from \"../Context/DeleteCard\";\nimport { useEditCardModal } from \"../Context/EditCardModal\";\n\nexport function CardBottomRight(props) {\n\n  \n  const moveCardModal = useMoveCardModal();\n  const editCardModal = useEditCardModal();\n  const deleteCard = useDeleteCard();\n\n  const handleMoveCard = () => {\n    moveCardModal.show(\n      props.card,\n      props.card.id,\n      props.stackOfIds,\n      props.categoryTitle,\n      props.cats\n    );\n  };\n\n  const handleEditCard = () => {\n    editCardModal.show(props.card, props.stackOfIds);\n  };\n\n  const handleDeleteCard = () => {\n    deleteCard.delete(props.stackOfIds, props.card.id);\n  };\n\n  return (\n    <Grid item style={{ flexGrow: 2 }}>\n      <Grid container item xs={12} justify=\"flex-end\">\n        <MenuButton\n          id={props.stackOfIds.join(\"-\")}\n          handleMoveCard={handleMoveCard}\n          handleEditCard={handleEditCard}\n          handleDeleteCard={handleDeleteCard}\n        />\n      </Grid>\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useAddCardModal } from \"./Context/AddCardModal\";\nimport { GeneralCard } from \"../../General/Cards/GeneralCard\";\nimport { CardBottomRight } from \"./CardBottom/CardBottomRight\";\n\nexport default function CardList(props) {\n  const addCardModal = useAddCardModal();\n  \n  let children = props.children;\n\n  return (\n    <Grid\n      id={\"card-list-\" + props.stackOfIds.join(\"-\")}\n      key={\"card-list-\" + props.stackOfIds.join(\"-\")}\n      container\n      direction=\"column\"\n      justify=\"flex-start\"\n      alignItems=\"stretch\"\n      spacing={1}\n    >\n      {Object.entries(children).map(\n        ([, card]) =>\n          undefined !== card && (\n            <Grid key={card.id} item>\n              <GeneralCard\n                cardId={card.id}\n                card={card}\n                title={card.title}\n                stackOfIds={props.stackOfIds}\n                delCardHandler={props.delCardHandler}\n                moveCardHandler={props.openMoveCardModal}\n                editCardHandler={props.openEditCardModal}\n                cats={props.cats}\n                categoryTitle={props.categoryTitle}\n                CardBottomRight={CardBottomRight}\n              />\n            </Grid>\n          )\n      )}\n      {/* {props.isNextCardHasCategoryTitleOrItIsLastCard === true && (\n        <h4\n          id={\"open-add-card-modal-\" + props.stackOfIds.join(\"-\")}\n          onClick={() => addCardModal.show(props.stackOfIds)}\n        >\n          ++\n        </h4>\n      )} */}\n    </Grid>\n  );\n}\n","import React, { useState } from \"react\";\nimport Menu from \"@material-ui/core/Menu\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { useAddCategoryModal } from \"../Categories/Context/AddCategoryModal\";\n\nexport const CategoriesMenu = (props) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const addCategoryModal = useAddCategoryModal()\n\n  const handleClick = (event) => {\n    props.handleNormalCategiries();\n\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleAddCategory = () => {\n    //props.handleAddCategory();\n    addCategoryModal.show(props.generalTitleIds, true);\n  };\n  const handleEditCategories = () => {\n    props.handleEditCategiries();\n    \n  };\n  const handleDeleteCategories = () => {\n    props.handleDeleteCategiries();\n  };\n  const handleOnBlur = () => {\n    setAnchorEl(null);\n  };\n  return (\n    <FormControl>\n      <IconButton\n        id=\"open-category-top-menu\"\n        aria-label=\"delete\"\n        disableFocusRipple\n        disableRipple\n        onClick={handleClick}\n      >\n        <MoreVertIcon aria-controls=\"category-top-menu\" aria-haspopup=\"true\" />\n      </IconButton>\n      <Menu\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onBlur={handleOnBlur}\n      >\n        <MenuItem id=\"open-modal-add-category\" onClick={handleAddCategory}>\n          + Add category\n        </MenuItem>\n        <MenuItem\n          id=\"switch-to-categories-editing\"\n          onClick={handleEditCategories}\n        >\n          Edit\n        </MenuItem>\n        <MenuItem\n          id=\"switch-to-categories-deleting\"\n          onClick={handleDeleteCategories}\n        >\n          Delete\n        </MenuItem>\n      </Menu>\n    </FormControl>\n  );\n};\n","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport withStyles from '../styles/withStyles';\nimport { emphasize, fade } from '../styles/colorManipulator';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nexport var styles = function styles(theme) {\n  var backgroundColor = theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700];\n  var deleteIconColor = fade(theme.palette.text.primary, 0.26);\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      fontFamily: theme.typography.fontFamily,\n      fontSize: theme.typography.pxToRem(13),\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: 32,\n      color: theme.palette.getContrastText(backgroundColor),\n      backgroundColor: backgroundColor,\n      borderRadius: 32 / 2,\n      whiteSpace: 'nowrap',\n      transition: theme.transitions.create(['background-color', 'box-shadow']),\n      // label will inherit this from root, then `clickable` class overrides this for both\n      cursor: 'default',\n      // We disable the focus ring for mouse, touch and keyboard users.\n      outline: 0,\n      textDecoration: 'none',\n      border: 'none',\n      // Remove `button` border\n      padding: 0,\n      // Remove `button` padding\n      verticalAlign: 'middle',\n      boxSizing: 'border-box',\n      '&$disabled': {\n        opacity: 0.5,\n        pointerEvents: 'none'\n      },\n      '& $avatar': {\n        marginLeft: 5,\n        marginRight: -6,\n        width: 24,\n        height: 24,\n        color: theme.palette.type === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n        fontSize: theme.typography.pxToRem(12)\n      },\n      '& $avatarColorPrimary': {\n        color: theme.palette.primary.contrastText,\n        backgroundColor: theme.palette.primary.dark\n      },\n      '& $avatarColorSecondary': {\n        color: theme.palette.secondary.contrastText,\n        backgroundColor: theme.palette.secondary.dark\n      },\n      '& $avatarSmall': {\n        marginLeft: 4,\n        marginRight: -4,\n        width: 18,\n        height: 18,\n        fontSize: theme.typography.pxToRem(10)\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      height: 24\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `onClick` is defined or `clickable={true}`. */\n    clickable: {\n      userSelect: 'none',\n      WebkitTapHighlightColor: 'transparent',\n      cursor: 'pointer',\n      '&:hover, &:focus': {\n        backgroundColor: emphasize(backgroundColor, 0.08)\n      },\n      '&:active': {\n        boxShadow: theme.shadows[1]\n      }\n    },\n\n    /* Styles applied to the root element if `onClick` and `color=\"primary\"` is defined or `clickable={true}`. */\n    clickableColorPrimary: {\n      '&:hover, &:focus': {\n        backgroundColor: emphasize(theme.palette.primary.main, 0.08)\n      }\n    },\n\n    /* Styles applied to the root element if `onClick` and `color=\"secondary\"` is defined or `clickable={true}`. */\n    clickableColorSecondary: {\n      '&:hover, &:focus': {\n        backgroundColor: emphasize(theme.palette.secondary.main, 0.08)\n      }\n    },\n\n    /* Styles applied to the root element if `onDelete` is defined. */\n    deletable: {\n      '&:focus': {\n        backgroundColor: emphasize(backgroundColor, 0.08)\n      }\n    },\n\n    /* Styles applied to the root element if `onDelete` and `color=\"primary\"` is defined. */\n    deletableColorPrimary: {\n      '&:focus': {\n        backgroundColor: emphasize(theme.palette.primary.main, 0.2)\n      }\n    },\n\n    /* Styles applied to the root element if `onDelete` and `color=\"secondary\"` is defined. */\n    deletableColorSecondary: {\n      '&:focus': {\n        backgroundColor: emphasize(theme.palette.secondary.main, 0.2)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"`. */\n    outlined: {\n      backgroundColor: 'transparent',\n      border: \"1px solid \".concat(theme.palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'),\n      '$clickable&:hover, $clickable&:focus, $deletable&:focus': {\n        backgroundColor: fade(theme.palette.text.primary, theme.palette.action.hoverOpacity)\n      },\n      '& $avatar': {\n        marginLeft: 4\n      },\n      '& $avatarSmall': {\n        marginLeft: 2\n      },\n      '& $icon': {\n        marginLeft: 4\n      },\n      '& $iconSmall': {\n        marginLeft: 2\n      },\n      '& $deleteIcon': {\n        marginRight: 5\n      },\n      '& $deleteIconSmall': {\n        marginRight: 3\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"primary\"`. */\n    outlinedPrimary: {\n      color: theme.palette.primary.main,\n      border: \"1px solid \".concat(theme.palette.primary.main),\n      '$clickable&:hover, $clickable&:focus, $deletable&:focus': {\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"secondary\"`. */\n    outlinedSecondary: {\n      color: theme.palette.secondary.main,\n      border: \"1px solid \".concat(theme.palette.secondary.main),\n      '$clickable&:hover, $clickable&:focus, $deletable&:focus': {\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity)\n      }\n    },\n    // TODO v5: remove\n\n    /* Styles applied to the `avatar` element. */\n    avatar: {},\n\n    /* Styles applied to the `avatar` element if `size=\"small\"`. */\n    avatarSmall: {},\n\n    /* Styles applied to the `avatar` element if `color=\"primary\"`. */\n    avatarColorPrimary: {},\n\n    /* Styles applied to the `avatar` element if `color=\"secondary\"`. */\n    avatarColorSecondary: {},\n\n    /* Styles applied to the `icon` element. */\n    icon: {\n      color: theme.palette.type === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      marginLeft: 5,\n      marginRight: -6\n    },\n\n    /* Styles applied to the `icon` element if `size=\"small\"`. */\n    iconSmall: {\n      width: 18,\n      height: 18,\n      marginLeft: 4,\n      marginRight: -4\n    },\n\n    /* Styles applied to the `icon` element if `color=\"primary\"`. */\n    iconColorPrimary: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the `icon` element if `color=\"secondary\"`. */\n    iconColorSecondary: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the label `span` element. */\n    label: {\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      paddingLeft: 12,\n      paddingRight: 12,\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the label `span` element if `size=\"small\"`. */\n    labelSmall: {\n      paddingLeft: 8,\n      paddingRight: 8\n    },\n\n    /* Styles applied to the `deleteIcon` element. */\n    deleteIcon: {\n      WebkitTapHighlightColor: 'transparent',\n      color: deleteIconColor,\n      height: 22,\n      width: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: fade(deleteIconColor, 0.4)\n      }\n    },\n\n    /* Styles applied to the `deleteIcon` element if `size=\"small\"`. */\n    deleteIconSmall: {\n      height: 16,\n      width: 16,\n      marginRight: 4,\n      marginLeft: -4\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"primary\"` and `variant=\"default\"`. */\n    deleteIconColorPrimary: {\n      color: fade(theme.palette.primary.contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.primary.contrastText\n      }\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"secondary\"` and `variant=\"default\"`. */\n    deleteIconColorSecondary: {\n      color: fade(theme.palette.secondary.contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.secondary.contrastText\n      }\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"primary\"` and `variant=\"outlined\"`. */\n    deleteIconOutlinedColorPrimary: {\n      color: fade(theme.palette.primary.main, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.primary.main\n      }\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"secondary\"` and `variant=\"outlined\"`. */\n    deleteIconOutlinedColorSecondary: {\n      color: fade(theme.palette.secondary.main, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.secondary.main\n      }\n    }\n  };\n};\n\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\n\n\nvar Chip = /*#__PURE__*/React.forwardRef(function Chip(props, ref) {\n  var avatarProp = props.avatar,\n      classes = props.classes,\n      className = props.className,\n      clickableProp = props.clickable,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      ComponentProp = props.component,\n      deleteIconProp = props.deleteIcon,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      iconProp = props.icon,\n      label = props.label,\n      onClick = props.onClick,\n      onDelete = props.onDelete,\n      onKeyDown = props.onKeyDown,\n      onKeyUp = props.onKeyUp,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'default' : _props$variant,\n      other = _objectWithoutProperties(props, [\"avatar\", \"classes\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\"]);\n\n  var chipRef = React.useRef(null);\n  var handleRef = useForkRef(chipRef, ref);\n\n  var handleDeleteIconClick = function handleDeleteIconClick(event) {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  var handleKeyUp = function handleKeyUp(event) {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n\n  var clickable = clickableProp !== false && onClick ? true : clickableProp;\n  var small = size === 'small';\n  var Component = ComponentProp || (clickable ? ButtonBase : 'div');\n  var moreProps = Component === ButtonBase ? {\n    component: 'div'\n  } : {};\n  var deleteIcon = null;\n\n  if (onDelete) {\n    var customClasses = clsx(color !== 'default' && (variant === \"default\" ? classes[\"deleteIconColor\".concat(capitalize(color))] : classes[\"deleteIconOutlinedColor\".concat(capitalize(color))]), small && classes.deleteIconSmall);\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    }) : /*#__PURE__*/React.createElement(CancelIcon, {\n      className: clsx(classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    });\n  }\n\n  var avatar = null;\n\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className, small && classes.avatarSmall, color !== 'default' && classes[\"avatarColor\".concat(capitalize(color))])\n    });\n  }\n\n  var icon = null;\n\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className, small && classes.iconSmall, color !== 'default' && classes[\"iconColor\".concat(capitalize(color))])\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('Material-UI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    role: clickable || onDelete ? 'button' : undefined,\n    className: clsx(classes.root, className, color !== 'default' && [classes[\"color\".concat(capitalize(color))], clickable && classes[\"clickableColor\".concat(capitalize(color))], onDelete && classes[\"deletableColor\".concat(capitalize(color))]], variant !== \"default\" && [classes.outlined, {\n      'primary': classes.outlinedPrimary,\n      'secondary': classes.outlinedSecondary\n    }[color]], disabled && classes.disabled, small && classes.sizeSmall, clickable && classes.clickable, onDelete && classes.deletable),\n    \"aria-disabled\": disabled ? true : undefined,\n    tabIndex: clickable || onDelete ? 0 : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef\n  }, moreProps, other), avatar || icon, /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.label, small && classes.labelSmall)\n  }, label), deleteIcon);\n});\nprocess.env.NODE_ENV !== \"production\" ? Chip.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Avatar element.\n   */\n  avatar: PropTypes.element,\n\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the chip will appear clickable, and will raise when pressed,\n   * even if the onClick prop is not defined.\n   * If false, the chip will not be clickable, even if onClick prop is defined.\n   * This can be used, for example,\n   * along with the component prop to indicate an anchor Chip is clickable.\n   */\n  clickable: PropTypes.bool,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Override the default delete icon element. Shown only if `onDelete` is set.\n   */\n  deleteIcon: PropTypes.element,\n\n  /**\n   * If `true`, the chip should be displayed in a disabled state.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Icon element.\n   */\n  icon: PropTypes.element,\n\n  /**\n   * The content of the label.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback function fired when the delete icon is clicked.\n   * If set, the delete icon will be shown.\n   */\n  onDelete: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n\n  /**\n   * The size of the chip.\n   */\n  size: PropTypes.oneOf(['medium', 'small']),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['default', 'outlined'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiChip'\n})(Chip);","import Chip from \"@material-ui/core/Chip\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { useDeleteCategoryModal } from \"../Categories/Context/DeleteCategoryModal\";\nimport { ClickAwayListener, makeStyles } from \"@material-ui/core\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\n\nexport const DeleteButtonsForCategories = ({\n  id,\n  generalTitleIds,\n  title,\n  clickAway,\n}) => {\n  \n  const useStyles = makeStyles((theme) => ({\n    formControl: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n  }));\n  const deleteEvent = useRef(false);\n  const classes = useStyles();\n  const deleteCategoryModal = useDeleteCategoryModal();\n  const [isClickAway, setIsClickAway] = useState();\n\n  const handleDelete = useCallback(() => {\n    \n\n    deleteCategoryModal.show(generalTitleIds.slice(0, id + 1), title);\n    deleteEvent.current = true;\n    \n  }, [deleteEvent.current]);\n\n/*   useEffect(() => {\n    if (isClickAway) {\n      //if (!deleteEvent.current) {\n      \n      //clickAway();\n      //}\n      setIsClickAway(false);\n    }\n    return () => {\n      console.log(\"unmount\", title);\n    };\n  }, [isClickAway, deleteEvent.current]); */\n\n/*   const handleClickAway = useCallback(() => {\n    \n\n    setIsClickAway(true);\n \n  }, [deleteEvent.current]);\n */\n  return (\n    <>\n      {console.log(\"render\", title)}\n      \n        <FormControl className={classes.formControl}>\n          <Chip\n            id={\n              \"open-modal-delete-category-\" +\n              generalTitleIds.slice(0, id + 1).join(\"-\")\n            }\n            label={title}\n            onDelete={handleDelete}\n            onClick={handleDelete}\n            color=\"secondary\"\n            clickable\n          />\n        </FormControl>\n      \n    </>\n  );\n};\n","import React from \"react\";\nimport Chip from \"@material-ui/core/Chip\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { useEditCategoryModal } from \"../Categories/Context/EditCategoryModal\";\nimport { makeStyles } from \"@material-ui/core\";\n\nexport const EditButtonsForCategories = (props) => {\n  const editCategoryModal = useEditCategoryModal();\n  const useStyles = makeStyles((theme) => ({\n    formControl: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n  }));\n  const classes = useStyles();\n\n  const handleEdit = () => {\n\n    editCategoryModal.show(\n      props.generalTitleIds.slice(0, props.id + 1),\n      props.title\n    );\n  };\n  return (\n    <FormControl className={classes.formControl}>\n      <Chip\n        id={\n          \"open-modal-edit-category-\" +\n          props.generalTitleIds.slice(0, props.id + 1).join(\"-\")\n        }\n        label={props.title}\n        onClick={handleEdit}\n        color=\"primary\"\n        deleteIcon={<EditIcon />}\n        clickable\n      />\n    </FormControl>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { SelectBoxWithCategories } from \"../../General/Navigation/SelectBoxWithCategories\";\nimport { DeleteButtonsForCategories } from \"../Cards/DeleteButtonsForCategories\";\nimport { EditButtonsForCategories } from \"../Cards/EditButtonsForCategories\";\nimport { ClickAwayListener, FormControl } from \"@material-ui/core\";\nimport { useDeleteCategoryModal } from \"../Categories/Context/DeleteCategoryModal\";\nimport { useEditCategoryModal } from \"../Categories/Context/EditCategoryModal\";\n\nexport const TopTitleLists = ({\n  MenuType,\n  generalTitle,\n  generalTitleIds,\n  userCollection,\n}) => {\n  \n  const deleteCategoryModal = useDeleteCategoryModal();\n  const editCategoryModal = useEditCategoryModal();\n\n  const [menuType, setMenuType] = useState(MenuType);\n  \n\n  useEffect(() => {\n    setMenuType(MenuType);\n  }, [MenuType]);\n\n  const clickAway = () => {\n    if (deleteCategoryModal.isVisible || editCategoryModal.isVisible) {\n      return;\n    }\n    \n    setMenuType(\"default\");\n  };\n\n  \n\n  return (\n    <>\n      {console.log(\"render TopTitleLists\")}\n      <ClickAwayListener onClickAway={clickAway} touchEvent=\"onTouchStart\">\n        <FormControl style={{ flexDirection: \"row\" }}>\n          {generalTitle.map((title, id) => {\n            if (menuType === \"normal\" || menuType === \"default\") {\n              return (\n                <SelectBoxWithCategories\n                  key={id}\n                  id={id}\n                  title={title}\n                  generalTitle={generalTitle}\n                  generalTitleIds={generalTitleIds}\n                  userCollection={userCollection}\n                  isShowAddCategory={true}\n                />\n              );\n            } else if (menuType === \"delete\") {\n              return (\n                <DeleteButtonsForCategories\n                  key={id}\n                  id={id}\n                  title={title}\n                  generalTitleIds={generalTitleIds}\n                  clickAway={clickAway}\n                />\n              );\n            } else if (menuType === \"edit\") {\n              return (\n                <EditButtonsForCategories\n                  key={id}\n                  id={id}\n                  title={title}\n                  generalTitleIds={generalTitleIds}\n                />\n              );\n            }\n            return [];\n          })}\n        </FormControl>\n      </ClickAwayListener>\n    </>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { CategoriesMenu } from \"../Cards/CategoriesMenu\";\nimport { TopTitleLists } from \"./TopTitleLists\";\nimport { MoveOnScrollAppBar } from \"../../Awesome/Navigation/MoveOnScrollAppBar\";\nimport Container from \"@material-ui/core/Container\";\nimport { useTopTitleListsAppBarObserver } from \"../../General/Navigation/useTopTitleListsAppBarObserver\";\nimport { useDeleteCategory } from \"../Categories/Context/DeleteCategory\";\nimport { useAddCategory } from \"../Categories/Context/AddCategory\";\nimport { useEditCategory } from \"../Categories/Context/EditCategory\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { useDrawerWithMenu } from \"../../General/DrawerWithMenu/Context/Drawer\";\n\nexport const TopTitleListsAppBar = (props) => {\n  const deleteCategory = useDeleteCategory();\n  const addCategory = useAddCategory();\n  const editCategory = useEditCategory();\n\n  const [navBarMenuType, setNavBarMenuType] = useState(\"default\");\n  const [generalTitle, setGeneralTitle] = useState([]);\n  const [generalTitleIds, setGeneralTitleIds] = useState([]);\n  const drawerWithMenu = useDrawerWithMenu();\n\n  const handleDeleteCategiries = () => {\n    setNavBarMenuType(\"delete\");\n  };\n  const handleEditCategiries = () => {\n    setNavBarMenuType(\"edit\");\n  };\n  const handleNormalCategiries = () => {\n    setNavBarMenuType(\"normal\");\n  };\n\n  //useIoObserver(props, setGeneralTitle, setGeneralTitleIds);\n  const [generalTitle_, generalTitleIds_] = useTopTitleListsAppBarObserver(\n    props.visibleChunks,\n    props.chunkRefs\n  );\n  //const [generalTitle, generalTitleIds] = [[], []]\n  useEffect(() => {\n    setGeneralTitle(generalTitle_);\n    setGeneralTitleIds(generalTitleIds_);\n  }, [generalTitle_, generalTitleIds_]);\n\n  useEffect(() => {\n    if (Object.keys(deleteCategory.stackOfIds).length > 0) {\n      setNavBarMenuType(\"normal\");\n\n      setGeneralTitle((prev) =>\n        [...prev].slice(0, deleteCategory.stackOfIds.length - 1)\n      );\n      setGeneralTitleIds((prev) =>\n        [...prev].slice(0, deleteCategory.stackOfIds.length - 1)\n      );\n    }\n  }, [deleteCategory]);\n\n  useEffect(() => {\n    if (addCategory.title.length > 0) {\n      if (addCategory.horizontal === true) {\n        setGeneralTitle((prev) => [...prev, addCategory.title]);\n        setGeneralTitleIds((prev) => [...prev, \"0\"]);\n      }\n    }\n  }, [addCategory]);\n\n  useEffect(() => {\n    if (Object.keys(editCategory.stackOfIds).length > 0) {\n      setNavBarMenuType(\"normal\");\n      setGeneralTitle((prev) => {\n        let clone = [...prev];\n        clone[editCategory.stackOfIds.length - 1] =\n          editCategory.newCategoryName;\n        return clone;\n      });\n    }\n  }, [editCategory]);\n\n  useEffect(() => {}, [generalTitle]);\n\n  let visibleChunks = [...new Set(props.visibleChunks)];\n  return (\n    <MoveOnScrollAppBar\n      visibleChunks={visibleChunks}\n      generalTitle={generalTitle}\n    >\n      <Container maxWidth=\"sm\" style={{ paddingLeft: 8, paddingRight: 8 }}>\n      <Grid\n          container\n          justify=\"space-between\"\n          alignItems=\"center\"\n          style={{ flexWrap: \"unset\", height: 48 }}\n        >\n          <Grid item style={{ overflowX: \"auto\", display: \"flex\" }}>\n            <TopTitleLists\n              generalTitle={generalTitle}\n              generalTitleIds={generalTitleIds}\n              userCollection={props.userCollection}\n              MenuType={navBarMenuType}\n            />\n            <CategoriesMenu\n              generalTitle={generalTitle}\n              generalTitleIds={generalTitleIds}\n              userCollection={props.userCollection}\n              handleDeleteCategiries={handleDeleteCategiries}\n              handleEditCategiries={handleEditCategiries}\n              handleNormalCategiries={handleNormalCategiries}\n            />\n          </Grid>\n          <Grid item>\n            <MenuIcon onClick={() => drawerWithMenu.show()} />\n          </Grid>\n        </Grid>\n      </Container>\n    </MoveOnScrollAppBar>\n  );\n};\n","export const addCardService = (path, arr, card, categoryTitle) => {\n  \n\n  if (undefined !== path[0]) {\n    Object.entries(arr).forEach(([k, v]) => {\n      if (k === path[0]) {\n        addCardService(\n          path.slice(1, path.length),\n          v.children,\n          card,\n          categoryTitle\n        );\n      }\n    });\n  } else {\n    /* let contains = Object.values(arr).some((elem) => {\n        return JSON.stringify(card) === JSON.stringify(elem);\n      });\n      if (!contains) { */\n    /*  let nextId = 0;\n    if (Object.keys(arr).length > 0) {\n      const lastId = parseInt(Object.keys(arr)[Object.keys(arr).length - 1]);\n      nextId = lastId + 1;\n    } */\n\n    if (categoryTitle !== undefined) {\n      \n      //arr[nextId] = card;\n      const index = arr.findIndex((el) => el.title === categoryTitle);\n      \n\n      const found = arr[index].children.find(\n        (element) => undefined !== element.children\n      );\n      \n      if (found) {\n        const find2 = arr[index].children\n          .slice()\n          .reverse()\n          .findIndex((elem) => elem.id !== undefined);\n        if (find2 !== -1) {\n          arr[index].children.splice(\n            arr[index].children.length - find2,\n            0,\n            card\n          );\n        } else {\n          arr[index].children.unshift(card);\n        }\n      } else {\n        arr[index].children.push(card);\n      }\n    } else {\n      const found = arr.find((element) => undefined !== element.children);\n      \n      if (found) {\n        const find2 = arr\n          .slice()\n          .reverse()\n          .findIndex((elem) => elem.id !== undefined);\n        if (find2 !== -1) {\n          arr.splice(arr.length - find2, 0, card);\n        } else {\n          arr.unshift(card);\n        }\n      } else {\n        arr.push(card);\n      }\n    }\n\n    //NextCardId = nextId;\n\n    /* } */\n  }\n};\n","export const saveCardService = (path, arr, card) => {\n  \n  if (path.length > 0) {\n    Object.entries(arr).forEach(([k, v]) => {\n      if (k === path[0]) {\n        saveCardService(path.slice(1, path.length), v.children, card);\n      }\n    });\n  } else {\n    const index = arr.findIndex(\n      (o) => o && card.id && o.id === card.id \n    );\n    \n    arr[index] = card;\n    /*  let nextId = 0;\n      if (Object.keys(arr).length > 0) {\n        const lastId = parseInt(Object.keys(arr)[Object.keys(arr).length - 1]);\n        nextId = lastId + 1;\n      }\n      \n      arr[nextId] = card;\n       */\n  }\n};\n","import  IDataJson from \"../../../General/Interfaces/IDataJson\";\n\nexport const deleteCategoryService = (arr: IDataJson[], path: any): any => {\n  //\n  //if (undefinded === path[0]) {\n  //  \n\n  if (path.length === 1) {\n    \n    delete arr[path[0]];\n    arr = arr.filter(function (el: any) {\n      \n      return el != null;\n    });\n    \n    return arr;\n    //\n  } else {\n    Object.entries(arr).forEach(([k, v]) => {\n      //let newArr = v[path[0]];\n      //Object.entries(newArr.children).map(([k, v]) => {\n      //\n      //  if (undefined !== v) {\n      if (k == path[0]) {\n        \n        arr[Number(k)].children = deleteCategoryService(\n          v.children,\n          path.slice(1)\n        );\n      }\n      //  }\n      //});\n      //delete arr[0];\n    });\n    \n\n    return arr;\n  }\n};\n","export const addCategoryAndMoveChildrenService = (arr, stack, newCategory) => {\n  let newArr = arr[stack[0]];\n\n  \n  if (undefined !== newArr && undefined !== newArr.children) {\n    if (stack.length === 1) {\n      let orphans = [];\n      \n\n      const isCatsAmongOrphans = newArr.children.find(\n        (el) => el.id === undefined && el.title !== undefined\n      );\n\n      \n\n      if (undefined === isCatsAmongOrphans) {\n        newArr.children.forEach(function (v, k) {\n          \n\n          if (undefined !== v.id) {\n            orphans.push(v);\n            \n            delete newArr.children[k];\n          }\n        });\n      }\n      newArr.children = newArr.children.filter(function (el) {\n        return el != null;\n      });\n      if (orphans.length > 0) {\n        const children = orphans;\n        newArr.children.push({ title: newCategory, children: children });\n      } else {\n        let nextId = 0;\n        if (Object.keys(newArr.children).length > 0) {\n          const lastId = parseInt(\n            Object.keys(newArr.children)[\n              Object.keys(newArr.children).length - 1\n            ]\n          );\n          nextId = lastId + 1;\n        }\n        //const nextId =\n        //parseInt(Object.keys(newArr.children)[Object.keys(newArr.children).length - 1]) + 1;\n\n        newArr.children[nextId] = { title: newCategory, children: [] };\n      }\n    } else {\n      addCategoryAndMoveChildrenService(\n        newArr.children,\n        stack.slice(1),\n        newCategory\n      );\n    }\n  } else {\n    \n    let nextId = 0;\n    if (Object.keys(arr).length > 0) {\n      const lastId = parseInt(Object.keys(arr)[Object.keys(arr).length - 1]);\n      nextId = lastId + 1;\n    }\n    arr[nextId] = { title: newCategory, children: [] };\n  }\n};\n","export const editCategoryService = (arr, stack, newCategory) => {\n  let newArr = arr[stack[0]];\n  \n\n  if (undefined !== newArr && undefined !== newArr.children) {\n    if (stack.length === 1) {\n      newArr.title = newCategory;\n    } else {\n      editCategoryService(newArr.children, stack.slice(1), newCategory);\n    }\n  }\n};\n","import Toolbar from \"@material-ui/core/Toolbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { MoveOnScrollTopAppBar } from \"./MoveOnScrollTopAppBar\";\nimport { Right } from \"./TopAppBar/Right\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport function TopAppBar() {\n  const classes = useStyles();\n\n  return (\n    <MoveOnScrollTopAppBar>\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          Saved\n          <IconButton\n            aria-label=\"display more actions\"\n            edge=\"end\"\n            color=\"inherit\"\n            style={{ marginRight: 8 }}\n          >\n          </IconButton>\n        </Typography>\n\n        <Right/>\n      </Toolbar>\n    </MoveOnScrollTopAppBar>\n  );\n}\n","import { useState, useEffect, useRef, useReducer, useCallback } from \"react\";\nimport CardList from \"./Cards/CardList\";\nimport { deleteCardService } from \"./Cards/Service/delCard\";\nimport { getCategoriesService } from \"./Categories/Service/getCategories\";\nimport { TopTitleListsAppBar } from \"./Navigation/TopTitleListsAppBar\";\nimport { NAV_BAR_HEIGHT } from \"../General/Navigation/useTopTitleListsAppBarStyles\";\nimport { useLocalForage } from \"../DataSource/localForageContext\";\nimport { useGetDocFromLocalForage } from \"../DataSource/getLocalCollection\";\nimport { useGetCollectionChunkHeight } from \"../DataSource/getCollectionChunkHeight\";\nimport { useParams } from \"react-router-dom\";\nimport { CollectionLoader } from \"../Loader/collection\";\nimport Container from \"@material-ui/core/Container\";\nimport \"../skeleton.css\";\nimport \"../App.css\";\nimport { GenerateCardList } from \"../General/GenerateCardList\";\nimport { GenerateCardList2 } from \"../General/GenerateCardList2\";\nimport { generateChunks } from \"../General/generateChunks\";\nimport { useComponentSizes } from \"../General/Context/ComponentSizesContext\";\nimport { useChunksFromObserver } from \"../General/Chunks/useChunksFromObserver\";\nimport { addCardService } from \"./Cards/Service/addCard\";\nimport { saveCardService } from \"./Cards/Service/saveCard\";\nimport { deleteCategoryService } from \"./Categories/Service/deleteCategory\";\nimport { addCategoryAndMoveChildrenService } from \"./Categories/Service/addCategoryAndMoveChildren\";\nimport { editCategoryService } from \"./Categories/Service/editCategory\";\nimport { useMoveCard } from \"./Cards/Context/MoveCard\";\nimport { useAddCard } from \"./Cards/Context/AddCard\";\nimport { useDeleteCard } from \"./Cards/Context/DeleteCard\";\nimport { useSaveCard } from \"./Cards/Context/SaveCard\";\nimport { useAddCategory } from \"./Categories/Context/AddCategory\";\nimport { useDeleteCategory } from \"./Categories/Context/DeleteCategory\";\nimport { useEditCategory } from \"./Categories/Context/EditCategory\";\nimport { TopAppBar } from \"../General/Navigation/TopAppBar\";\nimport { TopTabsMenu } from \"../General/Navigation/TopTabsMenu\";\nimport { useLocation } from \"react-router-dom\";\nimport { useScrollTo } from \"../General/Navigation/useScrollTo\";\nimport { useStoreUserCollectionToServer } from \"../DataSource/Context/StoreUserCollectionToServer\";\nimport { useGetRemoteCollection } from \"../DataSource/getRemoteCollection\";\nimport { useMergeCollections } from \"../DataSource/Context/MergeCollectionsContext\";\nimport { TopTabsMenuSkeleton } from \"../General/TopTabsMenuSkeleton\";\nimport { SkeletonLoaderForHashNavigation } from \"../General/Navigation/SkeletonLoaderForHashNavigation\";\nimport { useFetch } from \"../DataSource/useFetch\";\nimport IDataJson from \"../General/Interfaces/IDataJson\";\nimport { useShowSignInBar } from \"../General/Context/ShowSignInBarContext\";\ndeclare module \"react\" {\n  interface HTMLAttributes<T> extends AriaAttributes, DOMAttributes<T> {\n    // extends React's HTMLAttributes\n    name?: string;\n  }\n}\n/* const doc = firebase\n  .firestore()\n  .collection(\"users\")\n  .doc(\"MdkMWbddc5hyTD6s29AByBzgDTx2\")\n  .collection(\"collection\")\n  .doc(\"doc\"); */\n\nlet newCardList: any[] = [];\nexport default function Index(props: any) {\n  let { collectionId } = useParams<Record<string, string | undefined>>();\n  const moveCard = useMoveCard();\n  const addCard = useAddCard();\n  const addCategory = useAddCategory();\n  const editCategory = useEditCategory();\n  const deleteCategory = useDeleteCategory();\n  const deleteCard = useDeleteCard();\n  const chunkRefs = useRef<any[]>([]);\n  const anchorRefs = useRef<any[]>([]);\n  const removeAll = useRef<boolean>(false);\n  const store = useLocalForage();\n  const [githubChunkUpdate, setGithubChunkUpdate] = useState(false);\n  const [setedUp, setup] = useState(false);\n  const [signInRemoteCollectionSetedUp, signInRemoteCollectionSetup] = useState(\n    false\n  );\n\n  const userCollection = useRef<IDataJson[]>([]);\n  let [localData, localLoading] = useGetDocFromLocalForage(\"doc\");\n  const [remoteData, remoteLoading] = useGetRemoteCollection(\"doc\");\n  const [\n    localCollectionChunkHeight,\n    localCollectionChunkHeightLoading,\n  ] = useGetCollectionChunkHeight(collectionId);\n\n  const [remoteGithubStat, remoteGithubStatLoading] = useFetch(\"/github.json\");\n  const remoteGithubStatSetup = useRef(false);\n\n  //const [chunks, setChunks] = useState<any[]>([]);\n  const chunks = useRef<any[]>([]);\n  const titleToChunkMathing = useRef<any[]>([]);\n  const isObserverSetedUp = useRef(false);\n  //const hashChanged = useHashChange();\n  //const cardsNumber = useCardsNumberInUserCollection();\n  const mergeCollections = useMergeCollections();\n  const componentSizes = useComponentSizes();\n  const [, render] = useReducer((p) => !p, false);\n  const [setedUp2, setup2] = useState(false);\n  const location = useLocation();\n  const prevLocation = useRef<any>();\n  //const cardsNumberInUserCollection = useCardsNumberInUserCollection();\n  const storeUserCollectionToServer = useStoreUserCollectionToServer();\n\n  const saveCard = useSaveCard();\n\n  const showSignInBar = useShowSignInBar();\n\n  const [scrollMargin, setScrollMargin] = useState(\n    showSignInBar.status === false\n      ? componentSizes.topTitleListsAppBarHeight\n      : componentSizes.topTitleListsAppBarHeight +\n          componentSizes.topSignInAppBarHeight\n  );\n\n  store.settings.setItem(\"cardsNumberCurrent\", 0);\n\n  useEffect(() => {\n    if (showSignInBar.status === false) {\n      setScrollMargin(componentSizes.topTitleListsAppBarHeight);\n    } else {\n      setScrollMargin(\n        componentSizes.topTitleListsAppBarHeight +\n          componentSizes.topSignInAppBarHeight\n      );\n    }\n  }, [showSignInBar.status, componentSizes.topSignInAppBarHeight]);\n\n  const addGithubUpdates = useCallback(\n    (localUserCollection: IDataJson[]) => {\n      \n      Object.entries(localUserCollection).forEach(\n        ([k, localUserCollectionValue]) => {\n          if (\n            null !== localUserCollectionValue &&\n            undefined !== localUserCollectionValue.children\n          ) {\n            addGithubUpdates(localUserCollectionValue.children);\n          } else if (\n            null !== localUserCollectionValue &&\n            undefined !== localUserCollectionValue.title\n          ) {\n            if (undefined !== remoteGithubStat[localUserCollectionValue.url]) {\n              localUserCollectionValue.stars =\n                remoteGithubStat[localUserCollectionValue.url].stars;\n              localUserCollectionValue.updatedAt =\n                remoteGithubStat[localUserCollectionValue.url].updatedAt;\n            }\n          }\n        }\n      );\n    },\n    [remoteGithubStat]\n  );\n\n  \n  /*   useLayoutEffect(() => {\n    console.log(\"location:::\");\n    topTranformerTrigger.reset();\n    wheelDirection.setDirection(\"down\");\n    console.log(\"useLayoutEffect:::::\")\n  }, []); */\n  useEffect(() => {\n    //topTranformerTrigger.reset();\n    //wheelDirection.setDirection(\"down\");\n    //hashChanged.setHash(window.location.hash.substr(1));\n    //cardsNumberInUserCollection.set(0);\n  }, []);\n\n  const [\n    visibleChunks,\n    chunksForRender,\n    scrollTo,\n    initFinished,\n  ] = useChunksFromObserver(\n    chunks.current,\n    store,\n    \"user\",\n    chunkRefs,\n    isObserverSetedUp,\n    localCollectionChunkHeight,\n    titleToChunkMathing,\n    localLoading,\n    localCollectionChunkHeightLoading,\n    setedUp,\n    signInRemoteCollectionSetedUp\n  );\n\n  useEffect(() => {\n    if (Object.keys(moveCard.fromStackOfIds).length > 0) {\n      let toStackOfIds = moveCard.toStackOfIds.split(\"-\");\n      if (toStackOfIds.length > 1) {\n        toStackOfIds = toStackOfIds.slice(0, -1);\n      }\n\n      let clone = [...userCollection.current];\n      \n      deleteCardService(clone, moveCard.fromStackOfIds, moveCard.card.id);\n\n      addCardService(\n        toStackOfIds,\n        clone,\n        moveCard.card,\n        moveCard.toCategoryTitle\n      );\n      moveCard.reset();\n      store.userCollection.setItem(\"doc\", clone).then(() => {\n        \n        storeUserCollectionToServer.store();\n      });\n      userCollection.current = clone;\n      \n      render();\n    }\n  }, [moveCard, store.userCollection]);\n\n  useEffect(() => {\n    if (Object.keys(deleteCard.stackOfIds).length > 0) {\n      \n      let clone = [...userCollection.current];\n      deleteCardService(clone, deleteCard.stackOfIds, deleteCard.cardId);\n      deleteCard.reset();\n      \n      store.userCollection.setItem(\"doc\", clone).then(() => {\n        \n        \n        storeUserCollectionToServer.store();\n      });\n\n      userCollection.current = clone;\n      \n\n      store.settings\n        .getItem(\"cardsNumberTotal\")\n        .then(function (cardsNumber: number) {\n          store.settings.setItem(\"cardsNumberTotal\", cardsNumber - 1);\n        });\n      store.settings\n        .getItem(\"cardsNumberCurrent\")\n        .then(function (cardsNumber: number) {\n          store.settings.setItem(\"cardsNumberCurrent\", cardsNumber - 1);\n        });\n\n      render();\n    }\n  }, [deleteCard, store.userCollection]);\n\n  useEffect(() => {\n    \n\n    if (Object.keys(saveCard.stackOfIds).length > 0) {\n      let clone = [...userCollection.current];\n      saveCardService(saveCard.stackOfIds, clone, saveCard.card);\n      saveCard.reset();\n      store.userCollection.setItem(\"doc\", clone).then(() => {\n        \n\n        storeUserCollectionToServer.store();\n      });\n      userCollection.current = clone;\n      \n\n      render();\n    }\n  }, [saveCard, store.userCollection]);\n\n  useEffect(() => {\n    if (Object.keys(addCard.stackOfIds).length > 0) {\n      let clone = [...userCollection.current];\n      addCardService(\n        addCard.stackOfIds,\n        clone,\n        addCard.card,\n        addCard.categoryTitle\n      );\n      addCard.reset();\n      store.userCollection.setItem(\"doc\", clone).then(() => {\n        \n\n        storeUserCollectionToServer.store();\n      });\n      userCollection.current = clone;\n      \n\n      render();\n    }\n  }, [addCard, store.userCollection]);\n\n  useEffect(() => {\n    if (addCategory.title.length > 0) {\n      let clone = [...userCollection.current];\n      addCategoryAndMoveChildrenService(\n        clone,\n        addCategory.stackOfIds,\n        addCategory.title\n      );\n      addCategory.reset();\n      store.userCollection.setItem(\"doc\", clone).then(() => {\n        \n\n        storeUserCollectionToServer.store();\n      });\n      userCollection.current = clone;\n      \n\n      render();\n    }\n  }, [addCategory, store.userCollection]);\n\n  useEffect(() => {\n    if (Object.keys(deleteCategory.stackOfIds).length > 0) {\n      let clone = [...userCollection.current];\n      let newArr = deleteCategoryService(clone, deleteCategory.stackOfIds);\n      if (newArr.length === 0) {\n        removeAll.current = true;\n      }\n      \n      deleteCategory.reset();\n      store.userCollection.setItem(\"doc\", newArr).then(() => {\n        \n\n        storeUserCollectionToServer.store();\n      });\n      userCollection.current = newArr;\n      \n\n      render();\n    }\n  }, [deleteCategory, store.userCollection]);\n\n  useEffect(() => {\n    if (Object.keys(editCategory.stackOfIds).length > 0) {\n      let clone = [...userCollection.current];\n      editCategoryService(\n        clone,\n        editCategory.stackOfIds,\n        editCategory.newCategoryName\n      );\n      editCategory.reset();\n      store.userCollection.setItem(\"doc\", clone).then(() => {\n        \n\n        storeUserCollectionToServer.store();\n      });\n      userCollection.current = clone;\n      \n\n      render();\n    }\n  }, [editCategory, store.userCollection]);\n\n  useEffect(() => {\n    prevLocation.current = location;\n  });\n\n  /*   scrollMargin +=\n    showSignInBar.status === true ? componentSizes.topSignInAppBarHeight : 0; */\n\n  let cats: any[] = [];\n\n  useEffect(() => {\n    store.userCollection.getItem(\"doc\").then(function (result: any) {\n      if (result && result.length > 0 && userCollection.current.length > 0) {\n        //doc.get().then((data) => {\n        //\n        //const returnedTarget = Object.assign(result, JSON.parse(data.data().data));\n        //\n        userCollection.current = result;\n        \n\n        //store.userCollection.setItem(\"doc\", returnedTarget);\n        //});\n        render();\n      }\n    });\n  }, [mergeCollections, store.userCollection]);\n\n  useEffect(() => {\n    \n  }, [localData]);\n  useEffect(() => {\n    \n  }, [localLoading]);\n  useEffect(() => {\n    \n  }, [userCollection.current]);\n  useEffect(() => {\n    \n  }, [remoteLoading]);\n  useEffect(() => {\n    \n  }, [store.userCollection]);\n\n  useEffect(() => {\n    \n\n    if (localLoading || remoteLoading) {\n      return;\n    }\n\n    if (localData === null || Object.keys(localData).length === 0) {\n      \n\n      setup(true);\n\n      if (remoteData) {\n        \n        localData = remoteData;\n        store.userCollection.setItem(\"doc\", localData);\n        \n      } else if (Object.keys(userCollection.current).length === 0) {\n        return;\n      }\n    }\n    let listCards: any[] = [];\n    let listCardsWithCategories: any[] = [];\n    let cardListForSelect: any[] = []; \n    let cardListForSelectDesktop: any[] = []; \n\n    if (\n      (localData && Object.keys(localData).length > 0) ||\n      Object.keys(userCollection.current).length > 0\n    ) {\n      if (Object.keys(userCollection.current).length === 0) {\n        \n\n        if (removeAll.current === false) {\n          \n          userCollection.current = localData;\n        } else {\n          removeAll.current = false;\n          localData = [];\n        }\n        //setUserCollection2(localData);\n      }\n\n      getCategoriesService(userCollection.current, 0, [], cats);\n\n      /* let cardsNumber = 0;\n      if (undefined !== localData.doc) {ggggfgf\n        cardsNumber = getCardsNumber(localData.doc);\n      } \n      \n      modifierCardsNumberInUserCollection.set(cardsNumber);*/\n\n      GenerateCardList2(\n        userCollection.current,\n        [],\n        [],\n        [],\n        listCards,\n        listCardsWithCategories,\n        cats,\n        \"user\",\n        cardListForSelect,\n        cardListForSelectDesktop\n      );\n      newCardList = listCards;\n      \n\n      /*     let listCards2: any[] = [];\n      GenerateCardList2(\n        userCollection.current,\n        [],\n        [],\n        [],\n        listCards2,\n        cats,\n        \"user\"\n      );\n       */\n\n      setup(true);\n\n      let [chunks_, titleToChunkMathing_] = generateChunks(\n        newCardList,\n        CardList,\n        anchorRefs,\n        scrollMargin\n      );\n      titleToChunkMathing.current = titleToChunkMathing_;\n      //setChunks(chunks_);\n      chunks.current = chunks_;\n      //chunks.current = updGithubInChunks(chunks.current);\n\n\n      render();\n      //setChunksForRender(chunks_.slice(0, 1));\n    }\n  }, [\n    localData,\n    localLoading,\n    userCollection.current,\n    remoteLoading,\n    store.userCollection,\n  ]);\n\n  useEffect(() => {\n    if (\n      visibleChunks.length === 0 &&\n      chunksForRender.length > 0 &&\n      mergeCollections.counter > 0\n    ) {\n      signInRemoteCollectionSetup(true);\n    }\n  }, [visibleChunks, chunksForRender, mergeCollections]);\n\n  useEffect(() => {\n    \n    if (\n      remoteGithubStatLoading ||\n      Object.keys(remoteGithubStat).length === 0 ||\n      chunks.current.length === 0 ||\n      remoteGithubStatSetup.current === true ||\n      Object.keys(userCollection.current).length === 0\n    ) {\n      return;\n    }\n    addGithubUpdates(userCollection.current);\n    \n    userCollection.current = [...userCollection.current];\n    \n    \n    render();\n    /* \n    let chunksCurrentClone = [...chunks.current];\n    chunksCurrentClone = updGithubInChunks(chunksCurrentClone);\n    chunks.current = chunksCurrentClone; */\n    remoteGithubStatSetup.current = true;\n  }, [\n    remoteGithubStatLoading,\n    remoteGithubStat,\n    chunks.current,\n    remoteGithubStatSetup.current,\n    userCollection.current,\n  ]);\n\n  /* const updGithubInChunks = useCallback(\n    (chunksCurrentClone) => {\n      chunksCurrentClone.map((chunk_: any, key: any) => {\n        \n        chunk_.map((chunk1: any, key: any) => {\n          if (!chunk1.props.children[3]) {\n            return;\n          }\n          \n          if (chunk1.props.children[3].props.children) {\n            chunk1.props.children[3].props.children.map(\n              (chunk2: any, key: any) => {\n                if (chunk2) {\n                  \n                  if (undefined !== remoteGithubStat[chunk2.url]) {\n                    chunk2.stars = remoteGithubStat[chunk2.url].s;\n                    chunk2.upd = remoteGithubStat[chunk2.url].u;\n                  }\n                }\n              }\n            );\n          }\n        });\n      });\n      return chunksCurrentClone;\n    },\n    [remoteGithubStat]\n  ); */\n\n  useScrollTo(scrollTo, anchorRefs, scrollMargin);\n\n  if (\n    localLoading ||\n    localCollectionChunkHeightLoading ||\n    remoteLoading ||\n    setedUp === false ||\n    initFinished === false\n  ) {\n    \n    return (\n      <>\n        <TopAppBar />\n        <TopTabsMenuSkeleton />\n        <CollectionLoader />\n      </>\n    );\n  }\n\n  \n\n  return (\n    <>\n      <TopAppBar />\n      <div id=\"main\">\n        <Container\n          maxWidth=\"sm\"\n          style={{\n            paddingLeft: 8,\n            paddingRight: 8,\n            display: \"flex\",\n            flexDirection: \"column\",\n            marginTop: 10,\n          }}\n        >\n          <TopTitleListsAppBar\n            userCollection={userCollection.current}\n            cardList={newCardList}\n            visibleChunks={visibleChunks}\n            chunkRefs={chunkRefs}\n          />\n\n          <div\n            id=\"firstCollectionTitleFix\"\n            style={{\n              position: \"absolute\",\n              height: NAV_BAR_HEIGHT + 10,\n              width: 1,\n            }}\n          />\n          <SkeletonLoaderForHashNavigation />\n          {chunksForRender.length > 0 && chunks.current.length > 0 ? (\n            chunksForRender.map((chunk_: any, key: any) => {\n              return (\n                <div\n                  key={key}\n                  id={\"chunk-\" + key}\n                  ref={(r) => (chunkRefs.current[key] = r)}\n                  style={{\n                    backgroundColor: props.theme.palette.background.default,\n                  }}\n                >\n                  {chunk_}\n                </div>\n              );\n            })\n          ) : (\n            <h1>Empty here :( Let's add something from Browse!</h1>\n          )}\n        </Container>\n      </div>\n    </>\n  );\n}\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useFireBaseAuth } from \"../General/Autorization/Context/FireBase\";\nimport firebase from \"firebase/app\";\nimport pako from \"pako\";\nimport { IDataJson } from \"../General/Interfaces/IDataJson\";\n\nexport const useGetRemoteCollection = (key) => {\n  const [data, setData] = useState(IDataJson);\n  const [loading, setLoading] = useState(true);\n  //const store = useLocalForage();\n  const fireBaseAuth = useFireBaseAuth();\n\n  const fetchData = useCallback(async () => {\n    if (fireBaseAuth.isSignIn) {\n      const doc = await firebase\n        .firestore()\n        .collection(\"users\")\n        .doc(fireBaseAuth.uid)\n        .collection(\"collection\")\n        .doc(\"doc\")\n        .get();\n\n      let data;\n      try {\n        data = JSON.parse(\n          pako.inflate(\n            Uint8Array.from(\n              [...doc.data().data].map((ch) => ch.charCodeAt())\n            ),\n            { to: \"string\" }\n          )\n        );\n      } catch (e) {\n        data = [];\n      }\n      setData(data);\n      setLoading(false);\n    } else {\n      setData(undefined);\n      setLoading(false);\n    }\n  }, [fireBaseAuth]);\n\n  useEffect(() => {\n    if (fireBaseAuth.loading === true) {\n      return;\n    }\n    fetchData();\n  }, [fetchData, fireBaseAuth]);\n  return [data, loading];\n};\n"],"sourceRoot":""}