{"version":3,"sources":["MyCollection/Categories/Service/getCategories.js","MyCollection/Categories/Service/replacePathSymbols.js","General/Navigation/useTopTitleListsAppBarStyles.tsx","General/GenerateCardList2.tsx","Awesome/Navigation/MoveOnScrollAppBar.js","General/Navigation/useTopTitleListsAppBarObserver.tsx","DataSource/getCollectionChunkHeight.tsx","General/generateChunks.tsx","General/Navigation/useScrollTo.js","General/Cards/CardTop/CardTop.js","General/Gist.tsx","General/Cards/CardsBottom/CardBottomLeft.js","General/Cards/CardsBottom/CardBottom.js","General/Cards/GeneralCard.tsx","MyCollection/Categories/Service/findTitlesForLevel.js","MyCollection/Navigation/AddCategory.js","General/Navigation/SelectBoxWithCategories.js","General/CardsSkeletonSafari.tsx","General/Chunks/useChunksFromObserver.tsx","General/CardsSkeleton2.tsx","General/Navigation/SkeletonLoaderForHashNavigation.js"],"names":["getCategoriesService","json","spaces","catStack","cats","Object","entries","forEach","id","newJson","undefined","children","NewCatStack","Array","prototype","push","apply","text","repeat","title","type","stack","replacePathSymbolsService","path","replace","NAV_BAR_HEIGHT","useTopTitleListsAppBarStyles","visibleChunks","generalTitles","theme","useTheme","wheelDirection","useWheelDirection","hashInInitialUrl","useHashInInitialUrl","topTranformerTrigger","useTopTranformerTrigger","showSignInBar","useShowSignInBar","componentSizes","useComponentSizes","isPageInTop","useIsPageInTop","useState","backgroundColor","palette","background","paper","color","primary","height","display","position","transform","status","topSignInAppBarHeight","transition","Styles","setStyles","collectionFirstTitleObserverFix","setCollectionFirstTitleObserverFix","useEffect","window","pageYOffset","prev","IntersectionObserverCallback","useCallback","e","isIntersecting","intersectionRatio","history","pushState","urlPath","off","on","disconnect","IntersectionObserver","root","rootMargin","threshold","key","Number","firstCollectionTitleFix","document","getElementById","observe","hash","zIndex","length","direction","currentStack","GenerateCardList2","dataJson","stackOfIds","stackOfTitles","stackOfIndexes","listCards","listCardsWithCategories","collectionName","cardListForSelect","cardListForSelectDesktop","forAwesome","localInxedColection","waitNextStack","console","log","k","v","newStackOfIds","newStackOfTitles","newStackOfIndexes","keys","findIndex","slice","categoryTitle","padding","startIndex","i","anhors","saved","card","catData","youtubeId","stop","start","avatar","description","stackOfLocalIds","MoveOnScrollAppBar","props","topTitleListsAppBarStyles","generalTitle","style","useTopTitleListsAppBarObserver","chunkRefs","setGeneralTitle","generalTitleIds","setGeneralTitleIds","observer","useRef","windowHeight","useWindowHeight","uniqVisibleChunks","Set","current","topMargin","topTitleListsAppBarHeight","setTimeout","getTitles","currentObserver","querySelectorAll","element","entry","hiddenTitle","target","querySelector","innerHTML","hiddenIds","jsonTitles","JSON","parse","join","useGetCollectionChunkHeight","data","setData","loading","setLoading","store","useLocalForage","a","colectionChunkHeight","getItem","response","fetchData","isNextCardHasCategoryTitle","newCardList","generateChunks","CardList","anchorRefs","scrollMargin","chunk","result","released","cards","titleObj","titleToChunkMathing_","cardList","delCardHandler","isNextCardHasCategoryTitleOrItIsLastCard","array","className","marginTop","marginBottom","variant","map","name","href","ref","r","stringify","useScrollTo","scrollTo","chunksForRender","scrollToPrev","scrollMarginPrev","skeletonLoaderForHashNavigation","useSkeletonLoaderForHashNavigation","turnOff","substr","elem","scrollIntoView","offsetTop","top","left","useStyles","makeStyles","flexGrow","CardTop","classes","handleExpandClick","handleStop","expanded","handleShowTitle","showHiddenTitle","classes2","action","disabled","url","URL","error","avatars","svg","rightIcon","options","dataUri","width","radius","isInteger","Avatars","spritesJdenticon","spritesIdenticon","spritesAvataaars","spritesFemale","spritesMale","spritesHuman","spritesInitials","spritesBottts","create","license","HorizontalCenterIconAndText","icon","faBalanceScale","fontSize","paddingLeft","documentation","cursor","onClick","open","Box","lineHeight","CardHeader","titleTypographyProps","Avatar","alignSelf","src","hideTitleAndDescription","hostname","subheader","updatedAt","moment","unix","fromNow","Gist","file","mode","iframe","gistLink","doc","contentDocument","contentWindow","gistScript","iframeHtml","writeln","close","React","createElement","n","frameBorder","CardBottomLeft","Grid","item","container","createdAt","paddingRight","stars","CardBottom","secondary","justifyContent","hours","duration","minutes","seconds","durationSec","justify","alignItems","Link","fullVideo","IconButton","handleReplay","aria-expanded","aria-label","handleEndlessExpandClick","laboratory","marginLeft","faFlask","CardBottomRight","existsLocal","cardId","minWidth","MemorizedGist","useMemo","gistId","gistFile","GeneralCard","videoLoader","videoHidden","playedSecsPrev","useHistory","player","setPlayer","playing","setPlaying","endless","setEndless","setExpanded","setDisplay","setShowHiddenTitle","videoPlayerContext","useVideoPlayer","marginRight","media","default","main","useStylesCardContent","paddingBottom","useStyles2","paddingTop","opacity","videoHiddenStyles","setVideoHiddenStyles","classesCardContent","Card","CardActionArea","CardMedia","image","CardContent","hideDescription","CardActions","seekTo","set","Collapse","in","timeout","unmountOnExit","CircularProgress","controls","onReady","onProgress","playedSeconds","progressInterval","findTitlesForLevelService","ids","userCollection","stopLevel","newArr","AddCategory","addCategoryModal","useAddCategoryModal","MenuItem","value","show","handleAddCategory","findInKits","kitCats","cat","finds","find","SelectBoxWithCategories","isShowAddCategory","hashChange","useHashChange","setOpen","styles","formControl","spacing","select","textDecoration","kitCatsForOneLevel","selectBoxId","FormControl","Select","disableUnderline","autoWidth","IconComponent","NavigateNext","preventDefault","location","slicedTitles","newElement","setHash","turnOn","routeChange","CardsSkeletonSafari","items","useChunksFromObserver","chunks","collectionId","isObserverSetedUp","localCollectionChunkHeight","titleToChunkMathing","localLoading","localCollectionChunkHeightLoading","setedUp","signInRemoteCollectionSetedUp","setChunksForRender","setVisibleChunks","setScrollTo","initFinished","setInitFinished","loaded","fullLoadedAfterHashChanging","setFullLoadedAfterHashChanging","browser","isHashInInitialUrlRef","reset","detect","observerFns","visibleChunks_","match","parseInt","clientHeight","setItem","intersectSorted","filter","includes","sort","equal","every","index","updChunksForRenderAndVisibleChunks","onePrevAndNewVisibleChunks","concatedVisibleChunks","concat","clone2","id1","idInt","CardsSkeleton","Element","chunksForRender_","onHashChange","chunkId","clone","CardsSkeleton2","SkeletonLoaderForHashNavigation","maxWidth"],"mappings":"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","file":"static/js/3.01b15f22.chunk.js","sourcesContent":["export const getCategoriesService = (json, spaces, catStack, cats) => {\n  Object.entries(json).forEach(([id, newJson]) => {\n    if (undefined !== newJson && null !== newJson && undefined !== newJson.children) {\n      let NewCatStack = [];\n      Array.prototype.push.apply(NewCatStack, catStack);\n      Array.prototype.push.apply(NewCatStack, [id]);\n\n      /* if (\n        (undefined !== Object.values(newJson.children)[0] &&\n          null !== Object.values(newJson.children)[0]) ||\n        undefined === Object.values(newJson.children)[0]\n      ) { */\n        cats.push({\n          text: `  `.repeat(spaces) + newJson.title,\n          type: \"enabled\",\n          stack: NewCatStack,\n          spaces: spaces,\n        });\n      /* } else {\n        cats.push({\n          text: `  `.repeat(spaces) + newJson.title,\n          type: \"disabled\",\n          stack: NewCatStack,\n          spaces: spaces,\n        });\n      } */\n      getCategoriesService(newJson.children, spaces + 1, NewCatStack, cats);\n    }\n  });\n};\n","export const replacePathSymbolsService = (path) => {\n  return path.replace(/([/#\\s])/g, \"-\");\n};\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useTopTranformerTrigger } from \"../Context/TopTranformerTriggerContext\";\nimport { useHashInInitialUrl } from \"../Context/HashInInitialUrlContext\";\nimport { useWheelDirection } from \"../Context/WheelDirectionContext\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { useShowSignInBar } from \"../Context/ShowSignInBarContext\";\nimport { useComponentSizes } from \"../Context/ComponentSizesContext\";\nimport { usePrevious } from \"../usePrevious\";\nimport { useIsPageInTop } from \"../Context/IsPageInTopContext\";\n\nexport const NAV_BAR_HEIGHT = 50;\n\nexport const useTopTitleListsAppBarStyles = (\n  visibleChunks: any[],\n  generalTitles: any[]\n) => {\n  const theme = useTheme();\n  const wheelDirection = useWheelDirection();\n  const hashInInitialUrl = useHashInInitialUrl();\n  const topTranformerTrigger = useTopTranformerTrigger();\n  const showSignInBar = useShowSignInBar();\n  const componentSizes = useComponentSizes();\n  const isPageInTop = useIsPageInTop();\n\n  const [Styles, setStyles] = useState({\n    backgroundColor: theme.palette.background.paper,\n    color: theme.palette.text.primary,\n    height: NAV_BAR_HEIGHT,\n    display: \"none\",\n    position: \"fixed\",\n    //top:\n    //  showSignInBar.status === false ? 0 : componentSizes.topSignInAppBarHeight,\n    transform:\n      \"translateY(\" +\n      (showSignInBar.status === false\n        ? 0\n        : componentSizes.topSignInAppBarHeight) +\n      \"px)\",\n    transition: \"transform 200ms\",\n  });\n\n  \n\n  \n\n  const [\n    collectionFirstTitleObserverFix,\n    setCollectionFirstTitleObserverFix,\n  ] = useState<IntersectionObserver>();\n\n  useEffect(() => {\n    \n\n    if (window.pageYOffset === 0) return;\n\n    setStyles((prev) => ({\n      ...prev,\n      transform:\n        \"translateY(\" +\n        (showSignInBar.status === false\n          ? 0\n          : componentSizes.topSignInAppBarHeight) +\n        \"px)\",\n    }));\n  }, [componentSizes.topSignInAppBarHeight, showSignInBar.status]);\n\n  useEffect(() => {\n    \n    if (isPageInTop.status) {\n      setStyles((prev) => ({\n        ...prev,\n        transform: \"translateY(-\" + NAV_BAR_HEIGHT + \"px)\",\n        transition: \"transform 0ms\",\n      }));\n    }\n  }, [isPageInTop.status]);\n\n  const IntersectionObserverCallback = useCallback(\n    (e) => {\n      if (e[0].isIntersecting === true && e[0].intersectionRatio === 1) {\n        window.history.pushState({ urlPath: \"/\" }, \"\", \"#\");\n\n        topTranformerTrigger.off();\n        \n\n        setStyles((prev) => ({\n          ...prev,\n          //top: topSignInAppBarHeight.current,\n          //display: \"none\",\n          /* top: -50, */\n          transform: \"translateY(-\" + NAV_BAR_HEIGHT + \"px)\",\n          transition: \"transform 0ms\",\n          display: \"block\",\n        }));\n      } else if (\n        e[0].isIntersecting === false &&\n        e[0].intersectionRatio === 0\n      ) {\n        \n\n        setStyles((prev) => ({\n          ...prev,\n          /* top: topSignInAppBarHeight.current +0,*/\n          transform:\n            \"translateY(\" +\n            (showSignInBar.status === false\n              ? 0\n              : componentSizes.topSignInAppBarHeight) +\n            \"px)\",\n          display: \"block\",\n          transition: \"transform 500ms\",\n        }));\n\n        topTranformerTrigger.on();\n      }\n    },\n    [componentSizes.topSignInAppBarHeight, showSignInBar.status]\n  );\n\n  useEffect(() => {\n    setCollectionFirstTitleObserverFix((prev) => {\n      if (undefined !== prev) {\n        \n        prev.disconnect();\n      }\n\n      \n\n      return new IntersectionObserver((e) => IntersectionObserverCallback(e), {\n        root: null,\n        rootMargin: \"0px\",\n        threshold: [0, 1],\n      });\n    });\n  }, [showSignInBar.status]);\n\n  useEffect(() => {\n    if (undefined !== visibleChunks) {\n      visibleChunks.forEach((key) => {\n        if (Number(key) === 0) {\n          if (undefined !== collectionFirstTitleObserverFix) {\n            const firstCollectionTitleFix = document.getElementById(\n              \"firstCollectionTitleFix\"\n            );\n            if (firstCollectionTitleFix !== null) {\n              collectionFirstTitleObserverFix.observe(firstCollectionTitleFix);\n            }\n          }\n        }\n      });\n    }\n  }, [visibleChunks, collectionFirstTitleObserverFix]);\n  useEffect(() => {\n    if (hashInInitialUrl.hash) {\n      \n\n      setStyles((prev) => ({\n        ...prev,\n        /*top:  topSignInAppBarHeight.current +0,*/\n        transform:\n          \"translateY(\" +\n          (showSignInBar.status === false\n            ? 0\n            : componentSizes.topSignInAppBarHeight) +\n          \"px)\",\n        display: \"block\",\n        zIndex: 2,\n      }));\n      topTranformerTrigger.on();\n    }\n  }, [\n    hashInInitialUrl.hash,\n    showSignInBar.status,\n    componentSizes.topSignInAppBarHeight,\n  ]);\n\n  useEffect(() => {\n    \n\n    setStyles((prev) => ({\n      ...prev,\n      backgroundColor: theme.palette.background.paper,\n      color: theme.palette.text.primary,\n    }));\n  }, [theme]);\n\n  useEffect(() => {\n    if (\n      generalTitles.length > 0 &&\n      wheelDirection.direction === \"down\" &&\n      window.pageYOffset > 300\n    ) {\n      \n      setStyles((prev) => ({\n        ...prev,\n        transform:\n          \"translateY(\" +\n          (showSignInBar.status === false\n            ? 0\n            : componentSizes.topSignInAppBarHeight) +\n          \"px)\",\n        display: \"block\",\n        transition: \"transform 500ms\",\n      }));\n    }\n  }, [\n    generalTitles,\n    wheelDirection.direction,\n    showSignInBar.status,\n    componentSizes.topSignInAppBarHeight,\n  ]);\n\n  \n  return Styles;\n};\n","import IDataJson from \"./Interfaces/IDataJson\";\n\nvar currentStack: any[] = [];\n\nexport const GenerateCardList2 = (\n  dataJson: IDataJson[],\n  stackOfIds: any,\n  stackOfTitles: any,\n  stackOfIndexes: any,\n  listCards: any,\n  listCardsWithCategories: any,\n  cats: any,\n  collectionName: any,\n  cardListForSelect: any[],\n  cardListForSelectDesktop: any[],\n  forAwesome: boolean = false,\n  localInxedColection: number = -1\n) => {\n  let waitNextStack = false;\n  if (process.env.REACT_APP_DEBUG)\n    console.log(\"localInxedColection\", localInxedColection);\n  if (dataJson.length > 0) {\n    Object.entries(dataJson).forEach(([k, v]) => {\n      if (\n        v !== undefined &&\n        v !== null &&\n        v.children !== undefined /*  &&\n      v.children.length > 0 */\n      ) {\n        var newStackOfIds: any[] = [];\n        let newStackOfTitles: any[] = [];\n        let newStackOfIndexes: any[] = [];\n        Array.prototype.push.apply(newStackOfIds, stackOfIds);\n        Array.prototype.push.apply(\n          newStackOfIds,\n          localInxedColection !== -1 && k === \"0\" ? [localInxedColection] : [k]\n        );\n        Array.prototype.push.apply(newStackOfTitles, stackOfTitles);\n        Array.prototype.push.apply(newStackOfTitles, [v.title]);\n        Array.prototype.push.apply(newStackOfIndexes, stackOfIndexes);\n        Array.prototype.push.apply(newStackOfIndexes, [\n          Object.keys(dataJson).findIndex((key) => key === k),\n        ]);\n        GenerateCardList2(\n          v.children,\n          newStackOfIds,\n          newStackOfTitles,\n          newStackOfIndexes,\n          listCards,\n          listCardsWithCategories,\n          cats,\n          collectionName,\n          cardListForSelect,\n          cardListForSelectDesktop,\n          forAwesome\n        );\n      } else if (v !== undefined && v !== null && v.id !== undefined) {\n        const [categoryTitle] = stackOfTitles.slice(-1);\n\n        if (currentStack !== stackOfIndexes || waitNextStack) {\n          cardListForSelect.push({\n            id: v.id,\n            title: categoryTitle,\n            type: \"category\",\n            padding: 12,\n          });\n          cardListForSelectDesktop.push({\n            title: categoryTitle,\n            stackOfIds: stackOfIds,\n            stackOfTitles: stackOfTitles,\n            children: [],\n          });\n\n          let startIndex = 0;\n          for (let i = stackOfIndexes.length - 1; i > 0; i--) {\n            if (stackOfIndexes[i] > 0) {\n              startIndex = i;\n              break;\n            }\n          }\n          let anhors: any[] = [];\n          for (let i = startIndex + 1; i < stackOfIndexes.length + 1; i++) {\n            anhors.push(stackOfIndexes.slice(0, i));\n          }\n\n          /* if (v.children !== undefined) {\n          Array.prototype.push.apply(stackOfTitles, [v.title]);\n         } */\n\n          currentStack = stackOfIndexes;\n\n          if (v.saved || forAwesome) {\n            listCards.push({\n              card: v,\n              catData: {\n                stackOfIds,\n                stackOfTitles,\n                categoryTitle,\n                cats,\n                collectionName,\n                anhors,\n              },\n            });\n            waitNextStack = false;\n          } else {\n            waitNextStack = true;\n          }\n        } else {\n          if (v.saved || forAwesome) {\n            listCards.push({ card: v });\n          }\n        }\n        listCardsWithCategories.push({\n          card: v,\n          catData: {\n            stackOfIds,\n            stackOfTitles,\n            categoryTitle,\n            cats,\n            collectionName,\n          },\n        });\n        cardListForSelect.push({\n          id: v.id,\n          title: v.title,\n          type: \"card\",\n          padding: 40,\n        });\n        cardListForSelectDesktop\n          .slice(-1)[0]\n          .children.push({\n            id: v.id,\n            title: v.title,\n            youtubeId: v.youtubeId,\n            stop: v.stop,\n            start: v.start,\n            avatar: v.avatar,\n            description: v.description,\n            stackOfLocalIds: v.stackOfLocalIds,\n          });\n      }\n    });\n  } else {\n    let startIndex = 0;\n    for (let i = stackOfIndexes.length - 1; i > 0; i--) {\n      if (stackOfIndexes[i] > 0) {\n        startIndex = i;\n        break;\n      }\n    }\n    let anhors: any[] = [];\n    for (let i = startIndex + 1; i < stackOfIndexes.length + 1; i++) {\n      anhors.push(stackOfIndexes.slice(0, i));\n    }\n    const [categoryTitle] = stackOfTitles.slice(-1);\n    listCards.push({\n      catData: {\n        stackOfIds,\n        stackOfTitles,\n        categoryTitle,\n        cats,\n        collectionName,\n        anhors,\n      },\n    });\n  }\n};\n","import AppBar from \"@material-ui/core/AppBar\";\nimport { useTopTitleListsAppBarStyles } from \"../../General/Navigation/useTopTitleListsAppBarStyles\";\n\nexport function MoveOnScrollAppBar(props) {\n  const topTitleListsAppBarStyles = useTopTitleListsAppBarStyles(props.visibleChunks, props.generalTitle);\n  return (\n    <AppBar style={topTitleListsAppBarStyles}>\n      {props.children}\n    </AppBar>\n  );\n}\n","import { useState, useEffect, useRef } from \"react\";\nimport { replacePathSymbolsService } from \"../../MyCollection/Categories/Service/replacePathSymbols\";\nimport { useWindowHeight } from \"../Context/WindowHeightContext\";\nimport { useComponentSizes } from \"../Context/ComponentSizesContext\";\nimport { useShowSignInBar } from \"../Context/ShowSignInBarContext\";\n\nexport const useTopTitleListsAppBarObserver = (\n  visibleChunks: any[],\n  chunkRefs: any\n) => {\n  const [generalTitle, setGeneralTitle] = useState([]);\n  const [generalTitleIds, setGeneralTitleIds] = useState([]);\n  const observer = useRef<any>();\n  const windowHeight = useWindowHeight();\n  const componentSizes = useComponentSizes();\n  const showSignInBar = useShowSignInBar();\n\n  useEffect(() => {\n    let uniqVisibleChunks = [...new Set(visibleChunks)];\n\n    \n    if (\n      uniqVisibleChunks.length === 0 ||\n      !chunkRefs ||\n      chunkRefs.current.length === 0\n    ) {\n      return;\n    }\n\n    const topMargin =\n      showSignInBar.status === false\n        ? componentSizes.topTitleListsAppBarHeight + 7\n        : componentSizes.topTitleListsAppBarHeight +\n          7 +\n          componentSizes.topSignInAppBarHeight;\n    let rootMargin =\n      \"-\" +\n      topMargin +\n      \"px 0px -\" +\n      (windowHeight.height - topMargin) +\n      \"px 0px\";\n\n    if (observer.current) {\n      observer.current.disconnect();\n    }\n    \n\n    observer.current = new IntersectionObserver(\n      (e) =>\n        // needs setTimeout for safari, because it execute callback synchronously\n        setTimeout(() => {\n          getTitles(e);\n        }, 50),\n      {\n        root: null,\n        rootMargin: rootMargin,\n        threshold: 0,\n      }\n    );\n    const { current: currentObserver } = observer;\n\n    uniqVisibleChunks.forEach((key) => {\n      if (chunkRefs && undefined !== chunkRefs.current[key]) {\n        const stickyContainers = chunkRefs.current[key].querySelectorAll(\n          \".sticky-container\"\n        );\n        stickyContainers.forEach((element: Element) => {\n          \n          currentObserver.observe(element);\n        });\n      }\n    });\n\n    return () => {\n      if (currentObserver) {\n        \n        currentObserver.disconnect();\n      }\n    };\n\n    /* return () => {\n      console.log('ioObserver.current.disconnect();', ioObserver.current)\n      if (undefined !== ioObserver.current) {\n        ioObserver.current.disconnect();\n      }\n    }; */\n  }, [\n    visibleChunks,\n    windowHeight.height,\n    chunkRefs,\n    componentSizes.topTitleListsAppBarHeight,\n    showSignInBar.status,\n    componentSizes.topSignInAppBarHeight,\n  ]);\n\n  const getTitles = (entries: any[]) => {\n    entries.forEach((entry) => {\n      if (entry.isIntersecting === true) {\n        const hiddenTitle = entry.target.querySelector(\".hiddenTitle\")\n          .innerHTML;\n        const hiddenIds = entry.target.querySelector(\".hiddenIds\").innerHTML;\n\n        \n        let jsonTitles = JSON.parse(hiddenTitle);\n        if (jsonTitles.length > 0) {\n          let path = jsonTitles.join(\"-\");\n          path = replacePathSymbolsService(path);\n\n          window.history.pushState({ urlPath: \"/\" }, \"\", \"#\" + path);\n          setGeneralTitle(JSON.parse(hiddenTitle));\n          setGeneralTitleIds(JSON.parse(hiddenIds));\n        }\n      }\n    });\n  };\n\n  return [generalTitle, generalTitleIds];\n};\n","import { useState, useEffect } from \"react\";\nimport { useLocalForage } from \"../DataSource/localForageContext\";\n\nexport const useGetCollectionChunkHeight = (key: string | undefined): any => {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const store = useLocalForage();\n\n  useEffect(() => {\n    \n    async function fetchData() {\n      const response = await store.colectionChunkHeight.getItem(key);\n      setData(response);\n      setLoading(false);\n      \n    }\n    fetchData();\n    \n  }, [key, store.colectionChunkHeight]);\n  return [data, loading];\n};\n","import Typography from \"@material-ui/core/Typography\";\nimport { replacePathSymbolsService } from \"../MyCollection/Categories/Service/replacePathSymbols\";\n\nconst isNextCardHasCategoryTitle = (newCardList: any, i: any) => {\n  return (\n    undefined !== newCardList[i + 1] &&\n    undefined !== newCardList[i + 1].catData &&\n    undefined !== newCardList[i + 1].catData.categoryTitle\n  );\n};\nexport const generateChunks = (\n  newCardList: string | any[],\n  CardList: any,\n  anchorRefs: any,\n  scrollMargin: any\n) => {\n  let chunk = [];\n  let result = [];\n  let released = true;\n  let cards = [];\n  let titleObj: {\n    stackOfIds?: any[];\n    stackOfTitles?: any[];\n    cats?: any[];\n    delCardHandler?: any;\n    categoryTitle?: any;\n    collectionName?: any;\n    anhors?: any[];\n  } = {};\n  let title = true;\n  let titleToChunkMathing_: any = {};\n\n  \n  for (let i = 0; i < newCardList.length; i++) {\n    if (undefined !== newCardList[i].catData && released) {\n      //type = \"titledBlock\";\n      released = false;\n      titleObj = newCardList[i].catData;\n      title = true;\n    } else if (released) {\n      //type = \"untitledBlock\";\n      released = false;\n    }\n    cards.push(newCardList[i].card);\n\n    if (\n      ((i + 1) % 10 === 0 && i !== 0) /* i !== 0 && */ ||\n      isNextCardHasCategoryTitle(newCardList, i) ||\n      i === newCardList.length - 1\n    ) {\n      let cardList = (\n        <CardList\n          children={cards}\n          stackOfIds={titleObj.stackOfIds}\n          newStackOfTitles={titleObj.stackOfTitles}\n          cats={titleObj.cats}\n          delCardHandler={titleObj.delCardHandler}\n          categoryTitle={titleObj.categoryTitle}\n          collectionName={titleObj.collectionName}\n          isNextCardHasCategoryTitleOrItIsLastCard={\n            isNextCardHasCategoryTitle(newCardList, i) ||\n            i === newCardList.length - 1\n          }\n        />\n      );\n      ////<h1>{JSON.stringify(titleObj.stackOfTitles)}</h1>\n      let anhors: any[] = [];\n      let stackOfTitles: any[] = [];\n      let stackOfIds: any[] = [];\n      if (Object.keys(titleObj).length > 0 && title) {\n        if (undefined !== titleObj.anhors) {\n          anhors = titleObj.anhors;\n          anhors.forEach((array) => {\n            if (undefined !== titleObj.stackOfTitles) {\n              stackOfTitles = titleObj.stackOfTitles;\n              titleToChunkMathing_[\n                replacePathSymbolsService(\n                  stackOfTitles.slice(0, array.length).join(\"-\")\n                )\n              ] = chunk.length;\n            }\n          });\n          if (undefined !== titleObj.stackOfIds) {\n            stackOfIds = titleObj.stackOfIds;\n          }\n        }\n        if (undefined !== titleObj.stackOfIds) {\n          result.push(\n            <div\n              key={titleObj.stackOfIds.join(\"-\")}\n              className=\"sticky-container\"\n              style={{ marginTop: 16, marginBottom: 8 }}\n            >\n              <div>\n                <Typography\n                  variant=\"h4\"\n                  id={i === 9 ? \"firstCollectionTitle\" : \"\"}\n                >\n                  {titleObj.categoryTitle}{\" \"}\n                  {/* {JSON.stringify(titleObj.stackOfTitles)}{\" \"}\n                      {JSON.stringify(titleObj.stackOfIndexes)} */}\n                  {undefined !== titleObj.anhors &&\n                    titleObj.anhors.map((array) => {\n                      const name = replacePathSymbolsService(\n                        stackOfTitles.slice(0, array.length).join(\"-\")\n                      );\n                      return (\n                        <a\n                          key={name}\n                          name={name}\n                          id={\"name-\" + name}\n                          href={\"#name-\" + name}\n                          //className=\"scrollMargin\"\n                          style={{ scrollMargin: scrollMargin }}\n                          ref={(r) => (anchorRefs.current[name] = r)}\n                        ></a>\n                      );\n                    })}\n                </Typography>\n              </div>\n              <div className=\"hiddenTitle\">\n                {JSON.stringify(titleObj.stackOfTitles)}\n              </div>\n              <div className=\"hiddenIds\">\n                {JSON.stringify(titleObj.stackOfIds)}\n              </div>\n              {cardList}\n            </div>\n          );\n        }\n        released = true;\n        title = false;\n      } else {\n        result.push(\n          <div\n            key={stackOfIds.join(\"-\")}\n            className=\"sticky-container\"\n            style={{ marginBottom: 8 }}\n          >\n            <div className=\"hiddenTitle\">\n              {JSON.stringify(titleObj.stackOfTitles)}\n            </div>\n            <div className=\"hiddenIds\">\n              {JSON.stringify(titleObj.stackOfIds)}\n            </div>\n            {cardList}\n          </div>\n        );\n        released = true;\n      }\n      cards = [];\n    }\n\n    if (((i + 1) % 10 === 0 && i !== 0) || i === newCardList.length - 1) {\n      chunk.push(result);\n      result = [];\n    }\n  }\n  \n  return [chunk, titleToChunkMathing_];\n};\n","import { useEffect, useRef } from \"react\";\nimport { useSkeletonLoaderForHashNavigation } from \"./Context/SkeletonLoaderForHashNavigationContext\";\n\nexport const useScrollTo = (\n  scrollTo,\n  anchorRefs,\n  scrollMargin,\n  chunksForRender\n) => {\n  const scrollToPrev = useRef();\n  const scrollMarginPrev = useRef();\n  const skeletonLoaderForHashNavigation = useSkeletonLoaderForHashNavigation();\n  \n  useEffect(() => {\n    \n\n    if (\n      scrollToPrev.current === scrollTo &&\n      scrollMarginPrev.current === scrollMargin\n    ) {\n      \n      skeletonLoaderForHashNavigation.turnOff();\n      return;\n    }\n\n    skeletonLoaderForHashNavigation.turnOff();\n\n    if (\n      scrollTo &&\n      anchorRefs.current &&\n      anchorRefs.current[scrollTo.substr(5)]\n    ) {\n      \n\n      const elem = document.getElementById(scrollTo);\n      if (elem) {\n        scrollToPrev.current = scrollTo;\n        scrollMarginPrev.current = scrollMargin;\n        \n\n        elem.scrollIntoView();\n      }\n\n      if (\n        anchorRefs.current[scrollTo.substr(5)].offsetTop - window.pageYOffset <\n        scrollMargin\n      ) {\n        \n\n        let top =\n          anchorRefs.current[scrollTo.substr(5)].offsetTop - scrollMargin;\n        \n        window.scrollTo({\n          left: 0,\n          top: top,\n        });\n      }\n    }\n  }, [scrollTo, anchorRefs, scrollMargin, chunksForRender]);\n};\n","import { lazy } from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBalanceScale } from \"@fortawesome/free-solid-svg-icons\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport moment from \"moment\";\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\nimport { HorizontalCenterIconAndText } from \"../HorizontalCenterIconAndText\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Avatars from \"@dicebear/avatars\";\nimport spritesBottts from \"@dicebear/avatars-bottts-sprites\";\nimport spritesAvataaars from \"@dicebear/avatars-avataaars-sprites\";\nimport spritesFemale from \"@dicebear/avatars-female-sprites\";\nimport spritesMale from \"@dicebear/avatars-male-sprites\";\nimport spritesHuman from \"@dicebear/avatars-human-sprites\";\nimport spritesIdenticon from \"@dicebear/avatars-identicon-sprites\";\nimport spritesJdenticon from \"@dicebear/avatars-jdenticon-sprites\";\nimport spritesInitials from \"@dicebear/avatars-initials-sprites\";\n\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport { NUMBER_OF_LOADED_COMPONENTS } from \"../../Loader\";\n\n/* const spritesBottts = lazy(\n  () =>\n    new Promise(async (resolve) => {\n      const module = await import(\"@dicebear/avatars-bottts-sprites\");\n      NUMBER_OF_LOADED_COMPONENTS.inc();\n      resolve(module);\n    })\n); */\nconst useStyles = makeStyles(() => ({\n  root: (props) => ({\n    backgroundColor: props.backgroundColor,\n    height: 30,\n    flexGrow: 1,\n  }),\n}));\nexport const CardTop = ({\n  card,\n  classes,\n  handleExpandClick,\n  handleStop,\n  expanded,\n  display,\n  handleShowTitle,\n  showHiddenTitle\n}) => {\n  const theme = useTheme();\n  const classes2 = useStyles({\n    backgroundColor: theme.palette.action.disabled,\n  });\n  try {\n    var url = new URL(card.url);\n  } catch (error) {\n    url = undefined;\n  }\n  let options = {\n    dataUri: true,\n    width: 40,\n    height: 40,\n    radius: 50,\n    background:\n      theme.palette.type === \"dark\" ? theme.palette.background.paper : \"\",\n  };\n\n  let avatars;\n  let svg;\n  if (Number.isInteger(card.avatar)) {\n    switch (card.avatar) {\n      case 1:\n        avatars = new Avatars(spritesJdenticon, options);\n        break;\n      case 2:\n        avatars = new Avatars(spritesIdenticon, options);\n        break;\n      case 3:\n        avatars = new Avatars(spritesAvataaars, options);\n        break;\n      case 4:\n        avatars = new Avatars(spritesFemale, options);\n        break;\n      case 5:\n        avatars = new Avatars(spritesMale, options);\n        break;\n      case 6:\n        avatars = new Avatars(spritesHuman, options);\n        break;\n      case 7:\n        avatars = new Avatars(spritesInitials, options);\n        break;\n\n      default:\n        avatars = new Avatars(spritesBottts, options);\n\n        break;\n    }\n    svg = avatars.create(card.title);\n  } else if (!card.avatar) {\n    avatars = new Avatars(spritesBottts, options);\n    svg = avatars.create(card.title);\n  }\n\n  let rightIcon;\n  if (undefined !== card.license) {\n    rightIcon = (\n      <HorizontalCenterIconAndText>\n        <FontAwesomeIcon icon={faBalanceScale} style={{ fontSize: 15 }} />\n        <span style={{ paddingLeft: 10 }}>{card.license}</span>\n      </HorizontalCenterIconAndText>\n    );\n  }\n\n  if (undefined !== card.documentation) {\n    rightIcon = (\n      <DescriptionIcon\n        style={{ cursor: \"pointer\", fontSize: 19 }}\n        onClick={() => window.open(card.documentation, \"_blank\")}\n      />\n    );\n  }\n\n  return (\n    <Box lineHeight=\"normal\">\n      <CardHeader\n        classes={{ action: classes.action }}\n        titleTypographyProps={{ variant: \"h6\" }}\n        avatar={\n          <Avatar\n            style={{\n              alignSelf: \"start\",\n              cursor: \"pointer\",\n              backgroundColor:\n                undefined !== card.avatar && !Number.isInteger(card.avatar)\n                  ? \"white\"\n                  : \"\",\n            }}\n            src={\n              undefined !== card.avatar && !Number.isInteger(card.avatar)\n                ? card.avatar\n                : svg\n            }\n            onClick={() => {\n              if (undefined !== card.youtubeId) {\n                {\n                  display && expanded ? handleStop() : handleExpandClick();\n                }\n              } else {\n                window.open(card.url, \"_blank\");\n              }\n            }}\n          ></Avatar>\n        }\n        action={rightIcon}\n        title={\n          <>\n            {card.hideTitleAndDescription && !showHiddenTitle ? (\n              <div\n                className={classes2.root}\n                onClick={handleShowTitle}\n              ></div>\n            ) : (\n              <HorizontalCenterIconAndText url={card.url}>\n                <span style={{lineHeight:\"normal\"}}>{card.title}</span>\n\n                {url && url.hostname === \"github.com\" && (\n                  <GitHubIcon\n                    style={{ cursor: \"pointer\", fontSize: 19, paddingLeft: 5 }}\n                  />\n                )}\n              </HorizontalCenterIconAndText>\n            )}\n          </>\n        }\n        subheader={\n          undefined !== card.updatedAt && (\n            <span>{moment.unix(card.updatedAt).fromNow()}</span>\n          )\n        }\n      />\n    </Box>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\n\ntype CardProps = {\n  id: any;\n  file: any;\n  mode: any;\n  palette: any;\n};\nconst dark = `\nbody .gist .highlight {\n  background: #1c1a18;\n}\nbody .gist .blob-num,\nbody .gist .blob-code-inner,\nbody .gist .highlight,\nbody .gist .pl-enm,\nbody .gist .pl-ko,\nbody .gist .pl-mo,\nbody .gist .pl-mp1 .pl-sf,\nbody .gist .pl-ms,\nbody .gist .pl-pdc1,\nbody .gist .pl-scp,\nbody .gist .pl-smc,\nbody .gist .pl-som,\nbody .gist .pl-va,\nbody .gist .pl-vpf,\nbody .gist .pl-vpu,\nbody .gist .pl-mdr {\n   color: #848484;\n}\nbody .gist .pl-mb,\nbody .gist .pl-pdb {\n   font-weight: 700;\n}\nbody .gist .pl-c,\nbody .gist .pl-c span,\nbody .gist .pl-pdc {\n   color: #5b6270;\n   font-style: italic;\n}\nbody .gist .pl-sr .pl-cce {\n   color: #56b5c2;\n   font-weight: 400;\n}\nbody .gist .pl-ef,\nbody .gist .pl-en,\nbody .gist .pl-enf,\nbody .gist .pl-eoai,\nbody .gist .pl-kos,\nbody .gist .pl-mh .pl-pdh,\nbody .gist .pl-mr {\n   color: #61afef;\n}\nbody .gist .pl-ens,\nbody .gist .pl-vi {\n   color: #be5046;\n}\nbody .gist .pl-enti,\nbody .gist .pl-mai .pl-sf,\nbody .gist .pl-ml,\nbody .gist .pl-sf,\nbody .gist .pl-sr,\nbody .gist .pl-sr .pl-sra,\nbody .gist .pl-src,\nbody .gist .pl-st,\nbody .gist .pl-vo {\n   color: #56b5c2;\n}\nbody .gist .pl-eoi,\nbody .gist .pl-mri,\nbody .gist .pl-pds,\nbody .gist .pl-pse .pl-s1,\nbody .gist .pl-s,\nbody .gist .pl-s1 {\n   color: #97c279;\n}\nbody .gist .pl-k,\nbody .gist .pl-kolp,\nbody .gist .pl-mc,\nbody .gist .pl-pde {\n   color: #c578dd;\n}\nbody .gist .pl-mi,\nbody .gist .pl-pdi {\n   color: #c578dd;\n   font-style: italic;\n}\nbody .gist .pl-mp,\nbody .gist .pl-stp {\n   color: #818896;\n}\nbody .gist .pl-mdh,\nbody .gist .pl-mdi,\nbody .gist .pl-mdr {\n   font-weight: 400;\n}\nbody .gist .pl-mdht,\nbody .gist .pl-mi1 {\n   color: #97c279;\n   background: #020;\n}\nbody .gist .pl-md,\nbody .gist .pl-mdhf {\n   color: #df6b75;\n   background: #200;\n}\nbody .gist .pl-corl {\n   color: #df6b75;\n   text-decoration: underline;\n}\nbody .gist .pl-ib {\n   background: #df6b75;\n}\nbody .gist .pl-ii {\n   background: #e0c184;\n   color: #fff;\n}\nbody .gist .pl-iu {\n   background: #e05151;\n}\nbody .gist .pl-ms1 {\n   color: #aab1bf;\n   background: #373b41;\n}\nbody .gist .pl-c1,\nbody .gist .pl-cn,\nbody .gist .pl-e,\nbody .gist .pl-eoa,\nbody .gist .pl-eoac,\nbody .gist .pl-eoac .pl-pde,\nbody .gist .pl-kou,\nbody .gist .pl-mm,\nbody .gist .pl-mp .pl-s3,\nbody .gist .pl-mq,\nbody .gist .pl-s3,\nbody .gist .pl-sok,\nbody .gist .pl-sv,\nbody .gist .pl-mb {\n   color: #d19965;\n}\nbody .gist .pl-enc,\nbody .gist .pl-entc,\nbody .gist .pl-pse .pl-s2,\nbody .gist .pl-s2,\nbody .gist .pl-sc,\nbody .gist .pl-smp,\nbody .gist .pl-sr .pl-sre,\nbody .gist .pl-stj,\nbody .gist .pl-v,\nbody .gist .pl-pdb {\n   color: #e4bf7a;\n}\nbody .gist .pl-ent,\nbody .gist .pl-entl,\nbody .gist .pl-entm,\nbody .gist .pl-mh,\nbody .gist .pl-pdv,\nbody .gist .pl-smi,\nbody .gist .pl-sol,\nbody .gist .pl-mdh,\nbody .gist .pl-mdi {\n   color: #df6b75;\n}\nbody .js-line-number {color:#848484 !important}\n`;\nexport function Gist({ id, file, mode, palette }: CardProps) {\n  const iframe = useRef<any>();\n\n  const gistLink = \"https://gist.github.com/\" + id + \".js?file=\" + file;\n\n  useEffect(() => {\n    var doc = iframe.current.document;\n    if (iframe.current.contentDocument) {\n      doc = iframe.current.contentDocument;\n    } else if (iframe.current.contentWindow) {\n      doc = iframe.current.contentWindow.document;\n    }\n    var gistScript =\n      '<script type=\"text/javascript\" src=\"' + gistLink + '\"></script>';\n    var styles = `<style>\n*{ font-size:12px; margin:0 } \n.gist .gist-data{ border-radius:0!important; border-bottom: 0 !important;}\n.gist .gist-file{ border:0 !important; border-top: 0 !important; border-bottom: 0 !important; border-radius:0 !important; border-color: #1c1a18 #1c1a18 #ccc !important; margin-bottom: 0 !important } \n.gist .gist-meta{ background-color: ${palette.background.paper} !important; padding: 2 8 !important; border-radius:0 !important; } \n.gist .gist-meta a:nth-of-type(-n+2){ display: none !important }\n\n#spinner {\n  display: flex;\n  margin: 0 auto;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 100vh;\n}\n.lds-spinner {\n  color: official;\n  position: relative;\n  width: 80px;\n  height: 80px;\n}\n.lds-spinner div {\n  transform-origin: 40px 40px;\n  animation: lds-spinner 1.2s linear infinite;\n}\n.lds-spinner div:after {\n  content: \" \";\n  display: block;\n  position: absolute;\n  top: 3px;\n  left: 37px;\n  width: 6px;\n  height: 18px;\n  border-radius: 20%;\n  background: #cef;\n}\n.lds-spinner div:nth-child(1) {\n  transform: rotate(0deg);\n  animation-delay: -1.1s;\n}\n.lds-spinner div:nth-child(2) {\n  transform: rotate(30deg);\n  animation-delay: -1s;\n}\n.lds-spinner div:nth-child(3) {\n  transform: rotate(60deg);\n  animation-delay: -0.9s;\n}\n.lds-spinner div:nth-child(4) {\n  transform: rotate(90deg);\n  animation-delay: -0.8s;\n}\n.lds-spinner div:nth-child(5) {\n  transform: rotate(120deg);\n  animation-delay: -0.7s;\n}\n.lds-spinner div:nth-child(6) {\n  transform: rotate(150deg);\n  animation-delay: -0.6s;\n}\n.lds-spinner div:nth-child(7) {\n  transform: rotate(180deg);\n  animation-delay: -0.5s;\n}\n.lds-spinner div:nth-child(8) {\n  transform: rotate(210deg);\n  animation-delay: -0.4s;\n}\n.lds-spinner div:nth-child(9) {\n  transform: rotate(240deg);\n  animation-delay: -0.3s;\n}\n.lds-spinner div:nth-child(10) {\n  transform: rotate(270deg);\n  animation-delay: -0.2s;\n}\n.lds-spinner div:nth-child(11) {\n  transform: rotate(300deg);\n  animation-delay: -0.1s;\n}\n.lds-spinner div:nth-child(12) {\n  transform: rotate(330deg);\n  animation-delay: 0s;\n}\n@keyframes lds-spinner {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n${mode === \"dark\" ? dark : \"\"}\n</style>\n    `;\n    var elementId = file ? \"gist-\" + id + \"-\" + file : \"gist-\" + id;\n    var resize =\n      \"parent.document.getElementById('\" +\n      elementId +\n      \"').style.height = document.body.scrollHeight + 'px'\";\n    var onload =\n      \"<script>window.onload = function() {document.getElementById('spinner').style.display = 'none';\" +\n      resize +\n      \"};</script>\";\n    /*     var resizeScript =\n      \"onload=\\\"parent.document.getElementById('\" +\n      elementId +\n      \"').style.height=document.body.scrollHeight + 80 + 'px'\\\"\"; */\n    var iframeHtml =\n      '<html><head><base target=\"_blank\">' +\n      styles +\n      \"</head><body><div id='spinner'><div class='lds-spinner'><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>\" +\n      gistScript +\n      onload +\n      \"</body></html>\";\n\n    doc.open();\n    doc.writeln(iframeHtml);\n    doc.close();\n  }, [id, file, mode, gistLink]);\n\n  /*   return useMemo(() => {\n    return React.createElement(\"iframe\", {\n      ref: function ref(n) {\n        iframe.current = n;\n      },\n      width: \"100%\",\n      frameBorder: 0,\n      id: \"gist-\" + id + \"-\" + file,\n    });\n  }, [id, file, mode]); */\n\n  return React.createElement(\"iframe\", {\n    ref: function ref(n) {\n      iframe.current = n;\n    },\n    width: \"100%\",\n    frameBorder: 0,\n    id: \"gist-\" + id + \"-\" + file,\n  });\n}\n","import Grid from \"@material-ui/core/Grid\";\nimport { HorizontalCenterIconAndText } from \"../HorizontalCenterIconAndText\";\nimport QueryBuilderIcon from \"@material-ui/icons/QueryBuilder\";\nimport moment from \"moment\";\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\n\nexport const CardBottomLeft = ({classes, card}) => {\n  \n  return (\n    <Grid item>\n      <Grid container classes={{ container: classes.container }}>\n        {undefined !== card.createdAt && (\n          <HorizontalCenterIconAndText>\n            <QueryBuilderIcon style={{ fontSize: 24, paddingRight: 5, height: 20, }} />\n            <span style={{ paddingRight: 15 }}>\n              {moment.unix(card.createdAt).fromNow()}\n            </span>\n          </HorizontalCenterIconAndText>\n        )}\n        {undefined !== card.stars && (\n          <HorizontalCenterIconAndText>\n            <StarBorderIcon style={{ fontSize: 24, paddingRight: 5, height: 20, }} />{\" \"}\n            {card.stars}\n          </HorizontalCenterIconAndText>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n","import React from \"react\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport moment from \"moment\";\nimport ReplayIcon from \"@material-ui/icons/Replay\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFlask } from \"@fortawesome/free-solid-svg-icons\";\nimport { CardBottomLeft } from \"./CardBottomLeft\";\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\nimport StopIcon from \"@material-ui/icons/Stop\";\n\nexport function CardBottom(props) {\n  \n  const card = props.card;\n  try {\n    var url = new URL(card.url);\n  } catch (error) {\n    url = undefined;\n  }\n\n  const useStyles = makeStyles((theme) => {\n    return {\n      container: {\n        color: theme.palette.text.secondary,\n        justifyContent: \"space-between\",\n      },\n    };\n  });\n  const classes = useStyles();\n\n  const hours = moment\n    .duration(Number(card.stop) - Number(card.start), \"s\")\n    .hours();\n  const minutes = moment\n    .duration(Number(card.stop) - Number(card.start), \"s\")\n    .minutes();\n  let seconds = moment\n    .duration(Number(card.stop) - Number(card.start), \"s\")\n    .seconds();\n  seconds = seconds > 0 ? seconds : 1;\n  const durationSec = Number(card.stop) - Number(card.start);\n\n  return (\n    <>\n      <Grid\n        container\n        justify=\"space-between\"\n        style={{ justifyContent: \"space-between\", alignItems: \"center\" }}\n      >\n        <>\n          {url ? (\n            <>\n              {url.hostname === \"github.com\" ? (\n                <CardBottomLeft classes={classes} card={card} />\n              ) : (\n                <Link target=\"_blank\" href={card.url}>\n                  {url.hostname}\n                </Link>\n              )}\n            </>\n          ) : (\n            <div></div>\n          )}\n          {undefined !== card.youtubeId && !card.fullVideo && (\n            <>\n              <Grid item>\n                {props.expanded ? (\n                  <IconButton onClick={props.handleReplay}>\n                    <PlayArrowIcon />\n                  </IconButton>\n                ) : (\n                  <IconButton\n                    onClick={props.handleExpandClick}\n                    aria-expanded={props.expanded}\n                    aria-label=\"show more\"\n                  >\n                    <PlayArrowIcon />\n                  </IconButton>\n                )}\n              </Grid>\n              <Grid item>\n                <span>\n                  {hours > 0 && hours + \" h\"} {minutes} m {seconds} s\n                </span>\n              </Grid>\n\n              <Grid item>\n                {props.display && props.expanded ? (\n                  <IconButton onClick={props.handleStop}>\n                    <StopIcon />\n                  </IconButton>\n                ) : (\n                  <>\n                    {durationSec < 10 && (\n                      <IconButton\n                        onClick={props.handleEndlessExpandClick}\n                        aria-expanded={props.expanded}\n                        aria-label=\"show more\"\n                      >\n                        <ReplayIcon />\n                      </IconButton>\n                    )}\n                  </>\n                )}\n              </Grid>\n            </>\n          )}\n          {undefined !== card.laboratory && (\n            <>\n              <Grid item>\n                <IconButton\n                  style={{ marginLeft: 10 }}\n                  onClick={() => window.open(card.laboratory, \"_blank\")}\n                >\n                  <FontAwesomeIcon icon={faFlask} style={{ fontSize: 15 }} />\n                </IconButton>\n              </Grid>\n            </>\n          )}\n          <props.CardBottomRight\n            existsLocal={props.stackOfLocalIds}\n            title={props.title}\n            card={card}\n            newStackOfTitles={props.newStackOfTitles}\n            stackOfIds={props.stackOfIds}\n            stackOfLocalIds={props.stackOfLocalIds}\n            cardId={props.cardId}\n            categoryTitle={props.categoryTitle}\n            cats={props.cats}\n            minWidth={360}\n          />\n        </>\n      </Grid>\n    </>\n  );\n}\n","import React, { useEffect, useMemo, useRef } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport { CardTop } from \"./CardTop/CardTop\";\nimport { Gist } from \"../Gist\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport ReactPlayer from \"react-player/lazy\";\nimport { useState } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { useVideoPlayer } from \"./Context/VideoPlayerContext\";\nimport { CardBottom } from \"./CardsBottom/CardBottom\";\nimport ContactSupportIcon from \"@material-ui/icons/ContactSupport\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport { useHistory } from \"react-router\";\n\ninterface GeneralCardProps {\n  card: any;\n  existsLocal: boolean;\n  stackOfLocalIds: number[];\n  newStackOfTitles: string[];\n  collectionName: string;\n  title: string;\n  CardBottomRight: any;\n  stackOfIds: number[];\n  cardId: any;\n  categoryTitle: any;\n  cats: any;\n}\n\ninterface MemorizedGistProps {\n  card: any;\n  theme: any;\n}\nconst MemorizedGist: React.FC<MemorizedGistProps> = ({ card, theme }) =>\n  useMemo(\n    () => (\n      <div style={{ marginLeft: 10 }}>\n        <Gist\n          id={card.gistId}\n          file={card.gistFile}\n          mode={theme.palette.type}\n          palette={theme.palette}\n        />\n      </div>\n    ),\n    [card, theme]\n  );\n\nexport const GeneralCard: React.FC<GeneralCardProps> = (props) => {\n  const card = props.card;\n  const videoLoader = useRef<any>();\n  const videoHidden = useRef<any>();\n  const playedSecsPrev = useRef<any>(null);\n  const history = useHistory();\n  const [player, setPlayer] = useState<any>();\n  const [playing, setPlaying] = useState(false);\n  const [endless, setEndless] = useState(false);\n  const [expanded, setExpanded] = useState(false);\n  const [display, setDisplay] = useState(true);\n  const [showHiddenTitle, setShowHiddenTitle] = useState(false);\n  const videoPlayerContext = useVideoPlayer();\n\n  const useStyles = makeStyles((theme) => ({\n    action: {\n      marginRight: 0,\n      marginLeft: 16,\n      marginTop: 4,\n      color: theme.palette.text.secondary,\n    },\n    root: {\n      padding: 16,\n    },\n    media: {\n      height: 240,\n      backgroundColor:\n        theme.palette.type === \"dark\"\n          ? theme.palette.background.default\n          : theme.palette.primary.main,\n      //paddingTop: \"56.25%\", // 16:9\n      //height: 155,\n    },\n  }));\n\n  const useStylesCardContent = makeStyles(\n    () => ({\n      root: {\n        padding: 0,\n        \"&:last-child\": {\n          paddingBottom: 0,\n        },\n      },\n    }),\n    { name: \"CardContent\" }\n  );\n\n  const theme = useTheme();\n\n  const useStyles2 = makeStyles((theme) => ({\n    root: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n  }));\n  const [videoHiddenStyles, setVideoHiddenStyles] = useState({\n    width: \"100%\",\n    height: \"100%\",\n    position: \"absolute\" as \"absolute\",\n    opacity: 0.9,\n    backgroundColor: \"black\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    display: card.hideTitleAndDescription === undefined ? \"none\" : \"flex\",\n  });\n\n  const classes = useStyles();\n  const classes2 = useStyles2();\n  const classesCardContent = useStylesCardContent();\n  const onReady = (player: any) => {\n    player.seekTo(card.start);\n    setPlayer(player);\n\n    let videoLoaderStyles = videoLoader.current?.style;\n    videoLoaderStyles.display = \"none\";\n    videoPlayerContext.set(player);\n  };\n  const handleShowTitle = () => {\n    setShowHiddenTitle(true);\n\n    let videoHiddenStyles = videoHidden.current?.style;\n    if (videoHiddenStyles) videoHiddenStyles.display = \"none\";\n    setVideoHiddenStyles((prev) => ({ ...prev, display: \"none\" }));\n  };\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n    setPlaying(!expanded);\n    setDisplay(true);\n  };\n\n  const handleEndlessExpandClick = () => {\n    handleExpandClick();\n    setEndless(true);\n  };\n\n  const handleStop = () => {\n    setEndless(false);\n    setExpanded(false);\n    setPlaying(false);\n  };\n\n  const handleReplay = () => {\n    if (player) {\n      setDisplay(true);\n\n      player.seekTo(card.start);\n      setPlaying(true);\n      videoPlayerContext.set(player);\n    }\n  };\n\n  const onProgress = (e: any) => {\n    if (e.playedSeconds > card.stop && playedSecsPrev.current) {\n      if (endless) {\n        player.seekTo(card.start);\n      } else {\n        setDisplay(false);\n        setPlaying(false);\n        setExpanded(false);\n      }\n    }\n    playedSecsPrev.current = e.playedSeconds;\n  };\n\n  useEffect(() => {\n    if (\n      player &&\n      videoPlayerContext.player &&\n      player !== videoPlayerContext.player\n    ) {\n      // setPlaying(false);\n      setExpanded(false);\n    }\n  }, [videoPlayerContext, player]);\n\n  return (\n    <Card\n      className=\"card\"\n      id={\"card\"}\n      variant=\"outlined\"\n      style={{ lineHeight: 0 }}\n    >\n      <CardTop\n        card={card}\n        classes={classes}\n        handleExpandClick={handleExpandClick}\n        handleStop={handleStop}\n        expanded={expanded}\n        display={display}\n        handleShowTitle={handleShowTitle}\n        showHiddenTitle={showHiddenTitle}\n      />\n      {card.fullVideo && (\n        <CardActionArea>\n          <CardMedia\n            className={classes.media}\n            image={\n              card.youtubeId\n                ? \"https://i.ytimg.com/vi/\" + card.youtubeId + \"/hqdefault.jpg\"\n                : \"\"\n            }\n            title={card.title}\n            onClick={() => history.push(card.url)}\n          />\n        </CardActionArea>\n      )}\n      {card.gistId !== undefined ? (\n        <MemorizedGist card={card} theme={theme} />\n      ) : (\n        <CardContent\n          classes={{ root: classes2.root }}\n          style={{\n            lineHeight: 1.43,\n            display:\n              (card.hideTitleAndDescription === undefined || showHiddenTitle) &&\n              (card.hideDescription === undefined || expanded)\n                ? \"block\"\n                : \"none\",\n          }}\n        >\n          <>{card.description}</>\n        </CardContent>\n      )}\n      <CardActions\n        classes={{ root: classes.root }}\n        style={{ lineHeight: 1.43 }}\n      >\n        <CardBottom\n          card={card}\n          title={props.title}\n          newStackOfTitles={props.newStackOfTitles}\n          existsLocal={props.existsLocal}\n          stackOfLocalIds={props.stackOfLocalIds}\n          stackOfIds={props.stackOfIds}\n          handleExpandClick={handleExpandClick}\n          handleReplay={handleReplay}\n          handleEndlessExpandClick={handleEndlessExpandClick}\n          handleStop={handleStop}\n          expanded={expanded}\n          display={display}\n          cardId={props.cardId}\n          categoryTitle={props.categoryTitle}\n          cats={props.cats}\n          CardBottomRight={props.CardBottomRight}\n        />\n      </CardActions>\n      {undefined !== card.youtubeId && !card.fullVideo && (\n        <Collapse\n          in={expanded}\n          timeout=\"auto\"\n          unmountOnExit={true}\n          style={{ display: display ? \"block\" : \"none\" }}\n        >\n          <CardContent\n            style={{ position: \"relative\" }}\n            classes={classesCardContent}\n          >\n            <div\n              ref={videoLoader}\n              style={{\n                width: \"100%\",\n                height: \"100%\",\n                position: \"absolute\",\n                opacity: 0.5,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              <CircularProgress />\n            </div>\n            <div ref={videoHidden} style={videoHiddenStyles}></div>\n            <ReactPlayer\n              url={\"https://www.youtube.com/watch?v=\" + card.youtubeId}\n              playing={playing}\n              controls={true}\n              width=\"70\"\n              onReady={onReady}\n              onProgress={onProgress}\n              progressInterval={100}\n            />\n          </CardContent>\n        </Collapse>\n      )}\n    </Card>\n  );\n};\n","export const findTitlesForLevelService = (\n  ids,\n  userCollection,\n  stopLevel,\n  cats\n) => {\n  if (undefined === ids || undefined === userCollection) return;\n\n  let newArr = userCollection[ids[0]];\n\n  if (stopLevel > 0 && undefined !== newArr) {\n    stopLevel = stopLevel - 1;\n    findTitlesForLevelService(\n      ids.slice(1, ids.length),\n      newArr.children,\n      stopLevel,\n      cats\n    );\n  } else {\n    Object.entries(userCollection).forEach(([k, v]) => {\n      if (undefined !== v && null !== v && v.id === undefined) {\n        cats.push({ id: k, text: v.title });\n      }\n    });\n  }\n};\n","import { useAddCategoryModal } from \"../Categories/Context/AddCategoryModal\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nexport const AddCategory = ({ id, generalTitleIds }) => {\n  const addCategoryModal = useAddCategoryModal();\n\n  const handleAddCategory = (id) => {\n    addCategoryModal.show(generalTitleIds.slice(0, id), false);\n  };\n  return (\n    <MenuItem\n      id={\"open-add-category-modal-level-\" + id}\n      value=\"-1\"\n      onClick={() => handleAddCategory(id)}\n    >\n      + Add category\n    </MenuItem>\n  );\n};\n","import NavigateNext from \"@material-ui/icons/NavigateNext\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { replacePathSymbolsService } from \"../../MyCollection/Categories/Service/replacePathSymbols\";\nimport { findTitlesForLevelService } from \"../../MyCollection/Categories/Service/findTitlesForLevel\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useHashChange } from \"../Context/HashChangeContext\";\nimport { useEffect, useState } from \"react\";\nimport { useSkeletonLoaderForHashNavigation } from \"./Context/SkeletonLoaderForHashNavigationContext\";\nimport { AddCategory } from \"../../MyCollection/Navigation/AddCategory\";\n\nfunction findInKits(kitCats, generalTitles) {\n  if (process.env.REACT_APP_DEBUG) console.log('kitCats, generalTitles', kitCats, generalTitles);\n  if (undefined === kitCats) return;\n  if (generalTitles.length > 0) {\n    let finds = kitCats.find((e) => e.title === generalTitles[0]);\n    if (finds) {\n      return findInKits(finds.children, generalTitles.slice(1));\n    }\n  } else {\n    let id = 0;\n    return kitCats.map((cat) => {\n      return { id: id++, text: cat.title, url: cat.url };\n    });\n  }\n}\n\nexport const SelectBoxWithCategories = ({\n  generalTitleIds,\n  generalTitle,\n  userCollection,\n  id,\n  title,\n  isShowAddCategory,\n  kitCats,\n}) => {\n  const hashChange = useHashChange();\n  const [open, setOpen] = useState(null);\n  const [styles, setStyles] = useState({\n    minWidth: 50,\n    display: id > generalTitleIds.length - 3 ? \"contents\" : \"inline-flex\",\n  });\n  const skeletonLoaderForHashNavigation = useSkeletonLoaderForHashNavigation();\n\n  const useStyles = makeStyles((theme) => ({\n    formControl: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n    select: {\n      \"& .MuiSelect-select:focus\": {\n        background:\n          theme.palette.type === \"light\"\n            ? theme.palette.background.default\n            : theme.palette.background.paper,\n        textDecoration: \"none\",\n      },\n      \"& .MuiSelect-select:hover\": {\n        background:\n          theme.palette.type === \"light\"\n            ? theme.palette.background.default\n            : theme.palette.background.paper,\n        textDecoration: \"underline\",\n      },\n      \"& .MuiSelect-iconOpen\": {\n        transform: \"rotate(90deg)\",\n        textDecoration: \"underline\",\n      },\n    },\n  }));\n  const classes = useStyles();\n  let cats = [];\n  findTitlesForLevelService(generalTitleIds, userCollection, id, cats);\n\n  const routeChange = (e, cat) => {\n    e.preventDefault();\n    setOpen(false);\n    setTimeout(() => {\n      if (undefined !== cat.url) {\n        window.location = cat.url;\n      } else {\n        let slicedTitles = generalTitle.slice(0, id).join(\"-\");\n        slicedTitles = replacePathSymbolsService(slicedTitles);\n        let newElement = replacePathSymbolsService(cat.text);\n        let path = `#` + slicedTitles + \"-\" + newElement;\n        let hash = slicedTitles + \"-\" + newElement;\n        if (!slicedTitles) {\n          path = `#` + newElement;\n          hash = newElement;\n        }\n\n        hashChange.setHash(hash);\n\n        if (hash !== window.location.hash.substr(1)) {\n          skeletonLoaderForHashNavigation.turnOn();\n        }\n\n        window.location.href = path;\n      }\n    }, 50);\n  };\n\n  useEffect(() => {\n    if (id > generalTitleIds.length - 3) {\n      setStyles((prev) => ({\n        ...prev,\n        display: \"contents\",\n      }));\n    } else {\n      setStyles((prev) => ({\n        ...prev,\n        display: \"inline-flex\",\n      }));\n    }\n  }, [generalTitleIds]);\n\n  let kitCatsForOneLevel = findInKits(kitCats, generalTitle.slice(0, id));\n  if (process.env.REACT_APP_DEBUG)\n    console.log(\n      \"kitCatsForOneLevel\",\n      kitCatsForOneLevel,\n      kitCats,\n      generalTitle.slice(0, id)\n    );\n\n  if (kitCatsForOneLevel && kitCatsForOneLevel.length > 1) {\n    cats = kitCatsForOneLevel;\n  }\n  let selectBoxId = cats.find((element) => element.text === title);\n\n  if (process.env.REACT_APP_DEBUG) console.log(\"cats\", cats);\n\n  return (\n    <>\n      {undefined !== selectBoxId && (\n        <FormControl\n          className={classes.formControl}\n          id=\"top-title\"\n          style={styles}\n        >\n          <Select\n            id={\"open-add-category-menu-level-\" + id}\n            disableUnderline\n            value={selectBoxId.id}\n            autoWidth\n            className={classes.select}\n            IconComponent={NavigateNext}\n            open={open}\n            //native={true}\n          >\n            {cats.map((cat) => {\n              return (\n                <MenuItem\n                  key={id + \"-\" + cat.id}\n                  id={\"goto-category-\" + id + \"-\" + cat.id}\n                  href=\"#test\"\n                  value={cat.id}\n                  onClick={(e) => routeChange(e, cat)}\n                >\n                  {cat.text}\n                </MenuItem>\n              );\n            })}\n            {isShowAddCategory && (\n              <AddCategory id={id} generalTitleIds={generalTitleIds} />\n            )}\n          </Select>\n        </FormControl>\n      )}\n    </>\n  );\n};\n","export const CardsSkeletonSafari = () => {\n  let items = [];\n  for (let i = 0; i < 10; i++) {\n    items.push(\n      <div id=\"skeleton\" key={i}>\n        <div className=\"card\" style={{ height: 174 }}></div>\n      </div>\n    );\n  }\n  return <>{items}</>;\n};\n","import { useState, useEffect, useCallback, useRef } from \"react\";\nimport { CardsSkeleton } from \"../CardsSkeleton\";\nimport { detect } from \"detect-browser\";\nimport { CardsSkeletonSafari } from \"../CardsSkeletonSafari\";\nimport { useHashInInitialUrl } from \"../Context/HashInInitialUrlContext\";\nimport { useHashChange } from \"../Context/HashChangeContext\";\nimport { useSkeletonLoaderForHashNavigation } from \"../Navigation/Context/SkeletonLoaderForHashNavigationContext\";\n\nexport const useChunksFromObserver = (\n  chunks: any[],\n  store: any,\n  collectionId: any,\n  chunkRefs: any,\n  isObserverSetedUp: any,\n  localCollectionChunkHeight: any,\n  titleToChunkMathing: any,\n  localLoading: any,\n  localCollectionChunkHeightLoading: any,\n  setedUp: any,\n  signInRemoteCollectionSetedUp?: any\n) => {\n  \n  const skeletonLoaderForHashNavigation = useSkeletonLoaderForHashNavigation();\n  const hashInInitialUrl = useHashInInitialUrl();\n  const hashChange = useHashChange();\n  const colectionChunkHeight = useRef<any[]>([]);\n  const [chunksForRender, setChunksForRender] = useState<any>([]);\n  const [visibleChunks, setVisibleChunks] = useState<any[]>([]);\n  const [scrollTo, setScrollTo] = useState<any>();\n  const [initFinished, setInitFinished] = useState<any>(false);\n  const [\n    fullLoadedAfterHashChanging,\n    setFullLoadedAfterHashChanging,\n  ] = useState<any>({ loaded: false });\n  const browser = useRef<any>({ name: \"\" });\n  const observer = useRef<any>(null);\n  const isHashInInitialUrlRef = useRef<any>(false);\n  const hashChangeRef = useRef<any>();\n\n  \n  useEffect(() => {\n    return () => {\n      \n      hashChange.setHash(\"\");\n      hashInInitialUrl.reset();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (hashInInitialUrl.hash) {\n      isHashInInitialUrlRef.current = true;\n      \n      hashChange.setHash(hashInInitialUrl.hash);\n    }\n  }, [hashInInitialUrl]);\n\n  useEffect(() => {\n    if (localCollectionChunkHeight && localCollectionChunkHeight.length > 0) {\n      colectionChunkHeight.current = localCollectionChunkHeight;\n    }\n  }, [localCollectionChunkHeight]);\n\n  useEffect(() => {\n    browser.current = detect();\n  }, []);\n\n  const observerFns = useCallback(\n    (entries: any[]) => {\n      \n      let visibleChunks_: any[] = [];\n      //let clone: any[] = [];\n      let isIntersecting = false;\n\n      entries.forEach((entry) => {\n        const id = entry.target.id.match(/chunk-(.*)/)[1];\n\n        if (entry.isIntersecting === true) {\n          isIntersecting = true;\n          //clone[id] = chunks[id];\n          visibleChunks_.push(parseInt(id));\n          \n        } else if (undefined !== chunks[id]) {\n          colectionChunkHeight.current[id] = entry.target.clientHeight;\n          store.colectionChunkHeight.setItem(\n            collectionId,\n            colectionChunkHeight.current\n          );\n          /* clone[id] = (\n            <div key={id} style={{ height: colectionChunkHeight.current[id] }}>\n              {browser.current.name === \"safari\" ? (\n                <CardsSkeletonSafari />\n              ) : (\n                <CardsSkeleton />\n              )}\n            </div>\n          ); */\n        }\n      });\n      if (isIntersecting) {\n        //for (let i=0; i<10e7; i++) {}\n        if (visibleChunks_.length > 0) {\n          setVisibleChunks((prev) => {\n            const intersect = prev.filter((value) =>\n              visibleChunks_.includes(value)\n            );\n            const intersectSorted = intersect.slice().sort();\n            \n\n            const equal =\n              visibleChunks_.length === intersectSorted.length &&\n              visibleChunks_\n                .slice()\n                .sort()\n                .every(function (value, index) {\n                  return value === intersectSorted[index];\n                });\n\n            let updChunksForRenderAndVisibleChunks = false;\n            if (isHashInInitialUrlRef.current || !equal) {\n              updChunksForRenderAndVisibleChunks = true;\n              isHashInInitialUrlRef.current = false;\n            }\n\n            let onePrevAndNewVisibleChunks: any[] = [];\n            if (prev) {\n              if (prev.length > 1) {\n                onePrevAndNewVisibleChunks = prev.slice(-1);\n                \n                if (\n                  onePrevAndNewVisibleChunks[0] !== visibleChunks_[0] - 1 &&\n                  visibleChunks_[0] > 0\n                ) {\n                  onePrevAndNewVisibleChunks[0] = visibleChunks_[0] - 1;\n                  onePrevAndNewVisibleChunks[1] = visibleChunks_[0] + 1;\n                  \n                } else if (visibleChunks_[0] === 0) {\n                  onePrevAndNewVisibleChunks[1] = visibleChunks_[0] + 1;\n                  \n                }\n              } else {\n                onePrevAndNewVisibleChunks = prev;\n              }\n            }\n            \n\n            let concatedVisibleChunks = onePrevAndNewVisibleChunks.concat(\n              visibleChunks_\n            );\n            \n\n            if (updChunksForRenderAndVisibleChunks) {\n              setChunksForRender((prev: any) => {\n                let clone2 = [...prev];\n\n                Object.entries(clone2).forEach(([id1, chunk]) => {\n                  const idInt = Number(id1);\n                  if (concatedVisibleChunks.includes(idInt)) {\n                    clone2[idInt] = chunks[idInt];\n                  } else {\n                    \n\n                    clone2[idInt] = (\n                      <div\n                        key={idInt}\n                        style={{\n                          height:\n                            /* 2000 */ colectionChunkHeight.current[idInt] - 8,\n                        }}\n                      >\n                        {browser.current.name === \"safari\" ? (\n                          <CardsSkeletonSafari />\n                        ) : (\n                          <CardsSkeleton />\n                        )}\n                      </div>\n                    );\n                  }\n                });\n                \n                return clone2;\n              });\n            } else {\n              skeletonLoaderForHashNavigation.turnOff();\n            }\n            \n            return updChunksForRenderAndVisibleChunks\n              ? concatedVisibleChunks\n              : prev;\n          });\n        }\n      }\n    },\n    [chunks, collectionId, store.colectionChunkHeight]\n  );\n\n  useEffect(() => {\n    \n  }, [chunkRefs]);\n  useEffect(() => {\n    \n  }, [chunks]);\n  useEffect(() => {\n    \n  }, [fullLoadedAfterHashChanging]);\n  useEffect(() => {\n    \n  }, [observerFns]);\n  useEffect(() => {\n    \n  }, [collectionId]);\n  useEffect(() => {\n    \n  }, [store.colectionChunkHeight]);\n\n  useEffect(() => {\n    if (chunkRefs.current.length === 0 || chunks.length === 0) {\n      return;\n    }\n\n    if (observer.current) {\n      observer?.current?.disconnect();\n    }\n    \n    observer.current = new IntersectionObserver(\n      (e) =>\n        // needs setTimeout for safari, because it execute observerFns synchronously\n        setTimeout(() => {\n          observerFns(e);\n        }, 1),\n      {\n        root: null,\n        rootMargin: \"0px\",\n        threshold: 0,\n      }\n    );\n    const { current: currentObserver } = observer;\n    if (chunkRefs.current.length > 0) {\n      \n\n      for (let i = 0; i < chunkRefs.current.length; i++) {\n        if (chunkRefs.current[i] instanceof Element) {\n          currentObserver.observe(chunkRefs.current[i]);\n        }\n      }\n    }\n\n    return () => {\n      if (currentObserver) {\n        currentObserver.disconnect();\n      }\n    };\n  }, [chunkRefs, observerFns, chunks, fullLoadedAfterHashChanging]);\n\n  useEffect(() => {\n    \n    if (\n      undefined !== hashChange.hash &&\n      !localLoading &&\n      !localCollectionChunkHeightLoading &&\n      setedUp === true\n    ) {\n      \n      /*     if (chunksForRender.length === 0) {\n        let chunksForRender_ = [];\n        for (let i = 0; i < chunks.length; i++) {\n          let height = 1000;\n          if (localCollectionChunkHeight && localCollectionChunkHeight[i]) {\n            height = localCollectionChunkHeight[i];\n          }\n\n          chunksForRender_[i] = [\n            <div key={i} style={{ height: height }}>\n              {<CardsSkeleton />}\n            </div>,\n          ];\n        } */\n      setChunksForRender((prev: any) => {\n        if (chunksForRender.length > 0) {\n          \n          return prev;\n        }\n        \n        const chunksForRender_ = [];\n        for (let i = 0; i < chunks.length; i++) {\n          let height = 2000;\n          if (localCollectionChunkHeight && localCollectionChunkHeight[i]) {\n            height = localCollectionChunkHeight[i];\n          }\n\n          \n\n          chunksForRender_[i] = [\n            <div key={i} style={{ height: /* 2000 */ height - 8 }}>\n              {<CardsSkeleton />}\n            </div>,\n          ];\n        }\n        return chunksForRender_;\n      });\n    }\n  }, [\n    hashChange,\n    localLoading,\n    localCollectionChunkHeightLoading,\n    setedUp,\n    signInRemoteCollectionSetedUp,\n    chunks,\n    localCollectionChunkHeight,\n  ]);\n\n  const onHashChange = useCallback(\n    (hash) => {\n      if (!hash) return;\n      const chunkId: any = titleToChunkMathing.current[hash];\n      \n      \n      if (undefined === chunkId) return;\n      \n      setChunksForRender((prev: any) => {\n        let clone = [...prev];\n        if (chunkId > 0) {\n          clone[chunkId - 1] = chunks[chunkId - 1];\n        }\n        if (chunkId!==undefined && chunkId!==null) { \n          clone[chunkId] = chunks[chunkId];\n        }\n        if (chunkId < chunks.length - 1) {\n          clone[chunkId + 1] = chunks[chunkId + 1];\n        }\n        \n        setInitFinished(true);\n        return clone;\n      });\n      setScrollTo(\"name-\" + hash);\n\n      \n\n      let visibleChunks_: any[] = [];\n\n      \n      if (chunkId > 0) {\n        visibleChunks_.push(chunkId - 1);\n      }\n      if (chunkId!==undefined && chunkId!==null) {\n        visibleChunks_.push(chunkId);\n      }\n      if (chunkId < chunks.length - 1) {\n        visibleChunks_.push(chunkId + 1);\n      }\n\n      \n      setVisibleChunks(visibleChunks_);\n      setFullLoadedAfterHashChanging({ loaded: true });\n    },\n    [chunks, titleToChunkMathing]\n  );\n\n  useEffect(() => {\n    if (\n      undefined !== hashChange.hash &&\n      !localLoading &&\n      !localCollectionChunkHeightLoading &&\n      setedUp === true\n    ) {\n      \n      if (hashChange.hash) {\n        onHashChange(hashChange.hash);\n      } else {\n        \n        setInitFinished(true);\n        setFullLoadedAfterHashChanging({ loaded: true });\n        setVisibleChunks([]); // <<< fix it\n      }\n    }\n  }, [\n    hashChange,\n    localLoading,\n    localCollectionChunkHeightLoading,\n    setedUp,\n    signInRemoteCollectionSetedUp,\n    onHashChange,\n  ]);\n\n  useEffect(() => {\n    if (\n      !localLoading &&\n      !localCollectionChunkHeightLoading &&\n      setedUp === true\n    ) {\n    }\n  }, [\n    hashChange,\n    localLoading,\n    localCollectionChunkHeightLoading,\n    setedUp,\n    signInRemoteCollectionSetedUp,\n  ]); /* \n  useEffect(() => {\n    setChunksForRender((chunksForRender_: any) => {\n      let clone = [...chunksForRender_];\n      Object.entries(clone).forEach(([id, chunk]) => {\n        const idInt = parseInt(id);\n        if (undefined === chunks[idInt]) {\n          if (undefined !== clone[idInt]) {\n            delete clone[idInt];\n\n            setVisibleChunks((prevVisible) => {\n              return generateVisibleChunks(prevVisible, idInt);\n            });\n          }\n        }\n      });\n\n      Object.entries(chunks).forEach(([id, chunk]) => {\n        const idInt = parseInt(id);\n        setVisibleChunks((prevVisible) => {\n          let visibleChunks_ = generateVisibleChunks(prevVisible, idInt);\n          const found = visibleChunks_.find(\n            (element) => parseInt(element) === idInt\n          );\n          if (undefined !== found) {\n            clone[idInt] = chunks[idInt];\n            \n          } else {\n            \n\n            clone[idInt] = (\n              <div\n                key={idInt}\n                style={{ height: colectionChunkHeight.current[idInt] }}\n              >\n                {browser.current.name === \"safari\" ? (\n                  <CardsSkeletonSafari />\n                ) : (\n                  <CardsSkeleton />\n                )}\n              </div>\n            );\n          }\n          return visibleChunks_;\n        });\n      });\n      return clone;\n    });\n  }, [chunks]); */\n  /* \n  useEffect(() => {\n    if (githubChunkUpdate && chunksForRender.length > 0) {\n      //setGithubChunkUpdate(false);\n      \n      setChunksForRender((chunksForRender_: any) => {\n      let clone = [...chunksForRender_];\n        Object.entries(clone).forEach(([id, chunk]) => {\n          const idInt = parseInt(id);\n          \n          clone[idInt] = chunks[idInt]\n        });\n        \n        return clone;\n      });\n    }\n  }, [githubChunkUpdate, chunks]);\n\n */\n  \n  return [visibleChunks, chunksForRender, scrollTo, initFinished];\n};\n\nconst generateVisibleChunks = (prevVisible: any, idInt: number) => {\n  let cloneVisible = [...prevVisible];\n  var index = cloneVisible.indexOf(idInt);\n  if (index !== -1) {\n    cloneVisible.splice(index, 1);\n  }\n\n  const found = cloneVisible.find(\n    (element) => parseInt(element) === cloneVisible.length - 2\n  );\n  if (undefined === found && cloneVisible.length - 2 >= 0) {\n    cloneVisible.push(cloneVisible.length - 2);\n  }\n  if (cloneVisible.length === 0) {\n    cloneVisible.push(0);\n  }\n  return cloneVisible;\n};\n","import { useTheme } from \"@material-ui/core\";\n\nexport const CardsSkeleton2 = () => {\n  const theme = useTheme();\n  let items = [];\n  for (let i = 0; i < 10; i++) {\n    items.push(\n      <div id=\"skeleton\" key={i} style={{ paddingRight: 14 }}>\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"card-avatar\"></div>\n            <div className=\"header-texts\">\n              <div className=\"header-text-line1\"></div>\n              <div className=\"header-text-line2\"></div>\n            </div>\n          </div>\n          <div>\n            <div className=\"content-line1\"></div>\n            <div className=\"content-line2\"></div>\n            <div className=\"bottom\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  /* for (let i = 0; i < 10; i++) {\n    items.push(\n      <div id=\"skeleton\" key={i} style={{ paddingRight: 14 }}>\n        <div\n          className=\"card\"\n          style={{ height: 174, border: \"1px solid \" + theme.palette.divider }}\n        >\n          <div className=\"xanimate\" style={{ width: \"40%\" }}></div>\n          <br></br>\n          <div className=\"xanimate\"></div>\n          <br></br>\n          <div className=\"xanimate\"></div>\n        </div>\n      </div>\n    );\n  } */\n  return <>{items}</>;\n};\n","import { useTheme } from \"@material-ui/core\";\nimport {  CardsSkeleton2 } from \"../CardsSkeleton2\";\nimport { useSkeletonLoaderForHashNavigation } from \"./Context/SkeletonLoaderForHashNavigationContext\";\n\nexport const SkeletonLoaderForHashNavigation = () => {\n  const theme = useTheme();\n  \n  const skeletonLoaderForHashNavigation = useSkeletonLoaderForHashNavigation();\n  if (skeletonLoaderForHashNavigation.status === \"ON\") {\n    return (\n      <div\n        style={{\n          position: \"fixed\",\n          top: 50,\n          width: \"100%\",\n          maxWidth: \"600px\",\n          height: \"100%\",\n          backgroundColor: theme.palette.background.default,\n          zIndex: 1,\n          paddingTop: 32,\n        }}\n      >\n        {<CardsSkeleton2 />}\n      </div>\n    );\n  }\n\n  return (\n    <div></div>\n  );\n};\n"],"sourceRoot":""}