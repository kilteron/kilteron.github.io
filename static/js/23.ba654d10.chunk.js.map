{"version":3,"sources":["General/Context/SignInModal.js","General/Terms.js","General/Autorization/Service/firebaseAndGapi.js","General/Navigation/TopSignInAppBar.js"],"names":["SignInModalContext","React","createContext","useSignInModal","useContext","SHOW_MODAL","HIDE_MODAL","RESET","reducer","state","action","type","isVisible","SignInModalProvider","children","useReducer","dispatch","Provider","value","show","hide","reset","Terms","theme","useTheme","classes","makeStyles","root","color","palette","useStyles","href","firebaseAndGapiAuth","gapi","auth2","getAuthInstance","signIn","isSignedIn","listen","authResponse","currentUser","get","getAuthResponse","credential","firebase","auth","GoogleAuthProvider","id_token","access_token","console","log","signInWithCredential","then","success","JSON","stringify","catch","error","TopSignInAppBar","showSignInBar","useShowSignInBar","fireBaseAuth","useFireBaseAuth","windowWidth","useWindowWidth","useState","text","setText","signInPadding","setSignInPadding","isShowBigButtons","setIsShowBigButtons","componentSizes","useComponentSizes","modal","borderBottom","divider","position","transition","zIndex","top","boxShadow","height","topSignInAppBarHeight","backgroundColor","styles","setStyles","useEffect","prev","status","loading","isSignIn","transform","borderTop","width","github","facebook","google","general","id","style","variant","fontSize","undefined","padding","button","onClick","setTimeout","err","minWidth","src","logoGmail","margin","primary","GithubAuthProvider","signInWithPopup","alert","logoGithub","FacebookAuthProvider","logoFaceBook","flexDirection","marginLeft","onTouchStart","marginRight"],"mappings":"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","file":"static/js/23.ba654d10.chunk.js","sourcesContent":["import React, { useContext, useReducer } from \"react\";\n\nconst SignInModalContext = React.createContext();\n\nexport const useSignInModal = () => {\n  return useContext(SignInModalContext);\n};\n\nconst SHOW_MODAL = \"show\";\nconst HIDE_MODAL = \"hide\";\nconst RESET = \"reset\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_MODAL: {\n      \n\n      return { isVisible: true };\n    }\n    case HIDE_MODAL: {\n      return { ...state, isVisible: false };\n    }\n\n    case RESET: {\n      return { isVisible: false };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const SignInModalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, { isVisible: false });\n\n  const show = () => dispatch({ type: SHOW_MODAL });\n  const hide = () => dispatch({ type: HIDE_MODAL });\n  const reset = () => dispatch({ type: RESET });\n\n  return (\n    <SignInModalContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        show,\n        hide,\n        reset,\n      }}\n    >\n      {children}\n    </SignInModalContext.Provider>\n  );\n};\n","import { makeStyles, useTheme, Link } from \"@material-ui/core\";\n\nexport default function Terms() {\n  const theme = useTheme();\n\n  const useStyles = makeStyles({\n    root: {\n      color: theme.palette.type === \"light\" ? \"black\" : \"white\",\n    },\n  });\n  const classes = useStyles();\n  return (\n    <>\n      By signing in, you agree to our{\" \"}\n      <Link href=\"/terms-of-service.html\" classes={classes}>\n        terms of service\n      </Link>\n      ,{\" \"}\n      <Link href=\"/privacy-policy.html\" classes={classes}>\n        privacy policy\n      </Link>{\" \"}\n      and{\" \"}\n      <Link href=\"/cookie-policy.html\" classes={classes}>\n        cookie policy\n      </Link>\n    </>\n  );\n}\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nimport { loadAuth2, gapi, loadClientAuth2 } from \"gapi-script\";\n\nexport const firebaseAndGapiAuth = () => {\n  const googleAuth = gapi.auth2.getAuthInstance();\n  googleAuth.signIn();\n\n  const auth2 = gapi.auth2.getAuthInstance();\n  auth2.isSignedIn.listen((isSignedIn) => {\n    if (isSignedIn) {\n      const currentUser = auth2.currentUser.get();\n      const authResponse = currentUser.getAuthResponse(true);\n      const credential = firebase.auth.GoogleAuthProvider.credential(\n        authResponse.id_token,\n        authResponse.access_token\n      );\n      console.log(credential);\n\n      firebase.auth().signInWithCredential(credential);\n      firebase\n        .auth()\n        .signInWithCredential(credential)\n        .then((success) => {\n          console.log(\"Firebase success: \" + JSON.stringify(success));\n        })\n        .catch((error) => {\n          console.log(\"Firebase failure: \" + JSON.stringify(error));\n        });\n    }\n  });\n};\n","import React, { useState, useEffect } from \"react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/core\";\n\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport { useShowSignInBar } from \"../Context/ShowSignInBarContext\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"./TopSignInAppBar.css\";\nimport { StylesProvider } from \"@material-ui/core/styles\";\nimport { useFireBaseAuth } from \"../Autorization/Context/FireBase\";\nimport Link from \"@material-ui/core/Link\";\n\nimport logoFaceBook from \"super-tiny-icons/images/svg/facebook.svg\";\nimport logoGmail from \"super-tiny-icons/images/svg/google.svg\";\nimport logoGithub from \"super-tiny-icons/images/svg/github.svg\";\n\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { useWindowWidth } from \"../Context/WindowWidthContext\";\nimport { useComponentSizes } from \"../Context/ComponentSizesContext\";\nimport { useSignInModal } from \"../Context/SignInModal\";\nimport Terms from \"../Terms\";\nimport { firebaseAndGapiAuth } from \"../Autorization/Service/firebaseAndGapi\";\n\nexport default function TopSignInAppBar() {\n  const showSignInBar = useShowSignInBar();\n  const fireBaseAuth = useFireBaseAuth();\n  const theme = useTheme();\n  const windowWidth = useWindowWidth();\n  const [text, setText] = useState();\n  const [signInPadding, setSignInPadding] = useState(8);\n  const [isShowBigButtons, setIsShowBigButtons] = useState();\n  const componentSizes = useComponentSizes();\n  const modal = useSignInModal();\n\n  const useStyles = makeStyles({\n    root: {\n      color: theme.palette.type === \"light\" ? \"black\" : \"white\",\n    },\n  });\n  const classes = useStyles();\n\n  const [styles, setStyles] = useState({\n    borderBottom: theme.palette.divider + \" 1px solid\",\n    position: \"fixed\",\n    //transform: \"translateY(\" + componentSizes.topSignInAppBarHeight + \"px)\",\n    transition: \"transform 200ms\",\n    zIndex: 1101,\n    top: 0,\n    boxShadow: \"none\",\n    height: componentSizes.topSignInAppBarHeight,\n    backgroundColor: theme.palette.type === \"light\" ? \"white\" : \"black\",\n  });\n\n  useEffect(() => {\n    setStyles((prev) => ({\n      ...prev,\n      height: componentSizes.topSignInAppBarHeight,\n    }));\n  }, [componentSizes.topSignInAppBarHeight]);\n  useEffect(() => {\n    if (\n      showSignInBar.status === true &&\n      fireBaseAuth.loading === false &&\n      fireBaseAuth.isSignIn === false\n    ) {\n      setStyles((prev) => ({ ...prev, transform: \"translateY(0px)\" }));\n    } else {\n      setStyles((prev) => ({\n        ...prev,\n        transform:\n          \"translateY(-\" + componentSizes.topSignInAppBarHeight + \"px)\",\n      }));\n    }\n  }, [\n    fireBaseAuth,\n    showSignInBar.status,\n    componentSizes.topSignInAppBarHeight,\n  ]);\n  useEffect(() => {\n    setStyles((prev) => ({\n      ...prev,\n      borderTop: theme.palette.divider + \" 1px solid\",\n      borderBottom: theme.palette.divider + \" 1px solid\",\n      backgroundColor: theme.palette.type === \"light\" ? \"white\" : \"black\",\n    }));\n  }, [theme]);\n  //const classes = useTabStyles();\n\n  useEffect(() => {\n    if (windowWidth.width >= 1260) {\n      setText({\n        github: \"Sign In with Github\",\n        facebook: \"Sign In with Facebook\",\n        google: \"Sign In with Google\",\n      });\n      setIsShowBigButtons(true);\n    } else if (windowWidth.width >= 970) {\n      setText({\n        github: \"Sign In\",\n        facebook: \"Sign In\",\n        google: \"Sign In\",\n      });\n      setIsShowBigButtons(true);\n    } else if (windowWidth.width >= 600) {\n      setText({\n        github: \"\",\n        facebook: \"\",\n        google: \"\",\n      });\n      setIsShowBigButtons(false);\n      setSignInPadding(\"8px 16px\");\n    } else if (windowWidth.width >= 500) {\n      setText({\n        github: \"\",\n        facebook: \"\",\n        google: \"\",\n        general: \"Sign&nbsp;in\",\n      });\n      setIsShowBigButtons(false);\n      setSignInPadding(4);\n    } else {\n      setText({\n        github: \"\",\n        facebook: \"\",\n        google: \"\",\n        general: \"Sign&nbsp;in\",\n      });\n      setIsShowBigButtons(false);\n      setSignInPadding(0);\n    }\n  }, [windowWidth]);\n\n  return (\n    <div id=\"TopSignInAppBar\">\n      <AppBar position=\"fixed\" style={styles} color=\"inherit\">\n        <Toolbar>\n          <Typography variant=\"h5\">\n            Register to save your collection in the cloud. Free, no credit card\n            required.\n            <br />\n            {isShowBigButtons === true && (\n              <span style={{ fontSize: 12 }}>\n                <Terms />\n              </span>\n            )}\n          </Typography>\n\n          {isShowBigButtons !== undefined && (\n            <>\n              {isShowBigButtons === true ? (\n                <>\n                  <List style={{ padding: 8 }}>\n                    <ListItem\n                      style={{ height: 48 }}\n                      button\n                      key=\"GoogleAuthProvider\"\n                      onClick={() => {\n                        setTimeout(() => {\n                          try {\n                            firebaseAndGapiAuth();\n                          } catch (err) {\n                            console.log(\"Error11... Please try again.\", err);\n                          }\n                        }, 50);\n                      }}\n                    >\n                      <ListItemIcon style={{ minWidth: 35, height: 26 }}>\n                        <img src={logoGmail} style={{ width: 20, margin: 3 }} />\n                      </ListItemIcon>\n                      <ListItemText primary={text.google} />\n                    </ListItem>\n                  </List>\n\n                  <List>\n                    <ListItem\n                      style={{ height: 48 }}\n                      button\n                      key=\"GithubAuthProvider\"\n                      onClick={() => {\n                        setTimeout(() => {\n                          try {\n                            const GithubAuthProvider =\n                              new firebase.auth.GithubAuthProvider();\n                            firebase.auth().signInWithPopup(GithubAuthProvider);\n                          } catch (err) {\n                            alert(\"Error12... Please try again.\");\n                          }\n                        }, 50);\n                      }}\n                    >\n                      <ListItemIcon style={{ minWidth: 35, height: 26 }}>\n                        <img\n                          src={logoGithub}\n                          style={{ width: 20, margin: 3 }}\n                        />\n                      </ListItemIcon>\n                      <ListItemText primary={text.github} />\n                    </ListItem>\n                  </List>\n\n                  <List style={{ padding: 8 }}>\n                    <ListItem\n                      style={{ height: 48 }}\n                      button\n                      key=\"FacebookAuthProvider\"\n                      onClick={() => {\n                        setTimeout(() => {\n                          const FacebookAuthProvider =\n                            new firebase.auth.FacebookAuthProvider();\n                          try {\n                            firebase\n                              .auth()\n                              .signInWithPopup(FacebookAuthProvider);\n                          } catch (err) {\n                            alert(\"Error13... Please try again.\");\n                          }\n                        }, 50);\n                      }}\n                    >\n                      <ListItemIcon style={{ minWidth: 35, height: 26 }}>\n                        <img\n                          src={logoFaceBook}\n                          style={{ width: 20, margin: 3 }}\n                        />\n                      </ListItemIcon>\n                      <ListItemText primary={text.facebook} />\n                    </ListItem>\n                  </List>\n                </>\n              ) : (\n                <List>\n                  <ListItem\n                    style={{\n                      flexDirection: \"row\",\n                      padding: signInPadding,\n                      marginLeft: 6,\n                      height: 48,\n                    }}\n                    button\n                    key=\"open-auth-providers\"\n                    onClick={() => {\n                      modal.show();\n                    }}\n                    onTouchStart={() => {\n                      modal.show();\n                    }}\n                  >\n                    <ListItemText\n                      primary=\"Sign&nbsp;in&nbsp;with\"\n                      style={{ marginRight: 5 }}\n                    />\n                    <div id=\"open-auth-providers\">\n                      <ListItemIcon style={{ minWidth: 35, height: 24 }}>\n                        <img src={logoGmail} style={{ width: 15, margin: 3 }} />\n                        <img\n                          src={logoGithub}\n                          style={{ width: 15, margin: 3 }}\n                        />\n                        <img\n                          src={logoFaceBook}\n                          style={{ width: 15, margin: 3 }}\n                        />\n                      </ListItemIcon>\n                    </div>\n                  </ListItem>\n                </List>\n              )}\n            </>\n          )}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n"],"sourceRoot":""}