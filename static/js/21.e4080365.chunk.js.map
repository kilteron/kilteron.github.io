{"version":3,"sources":["General/Context/SignInModal.js","DataSource/useFetch.tsx","General/TopTabsMenuSkeleton.tsx","General/Navigation/MoveOnScrollTopAppBar.js","General/Navigation/TopAppBar/Right.js","General/Cards/HorizontalCenterIconAndText.js","Loader/collection.js","DataSource/Context/StoreBookmarksToServer.js","DataSource/Context/StoreUserCollectionToServer.js","DataSource/getLocalCollection.js","firebase.config.js","General/Terms.js","General/Autorization/Service/firebaseAndGapi.js","General/DrawerWithMenu/Context/Drawer.js","General/Navigation/Context/SkeletonLoaderForHashNavigationContext.js","Awesome/Cards/CardBottom/CardBottomRight.js","Awesome/Cards/Service/handleDeleteCard.js","Awesome/Navigation/TopAppBar.js","MyCollection/Categories/Context/AddCategoryModal.js","MyCollection/Categories/Context/AddCategory.js","MyCollection/Categories/Context/DeleteCategoryModal.js","MyCollection/Categories/Context/DeleteCategory.js","MyCollection/Categories/Context/EditCategory.js","MyCollection/Categories/Context/EditCategoryModal.js","General/Navigation/TopSignInAppBar.js","General/Drawer/Context/Drawer.js","General/usePrevious.js","DataSource/getLocalBookmarks.tsx","DataSource/getRemoteBookmarksStat.tsx","DataSource/Context/StoreBookmarksStatToServer.js","consts.js","MyCollection/Cards/Context/MoveCard.js","MyCollection/Cards/Context/MoveCardModal.js","MyCollection/Cards/Context/EditCardModal.js","MyCollection/Cards/Context/SaveCard.js","MyCollection/Cards/Context/AddCardModal.js","MyCollection/Cards/Context/AddCard.js","MyCollection/Cards/Context/DeleteCard.js","DataSource/Context/MergeCollectionsContext.js","Awesome/Context/VideoProgressBarContext.js","Awesome/Service/getLocalIds.tsx","Awesome/Service/navigationToUrlStackOfTitles.tsx","General/Context/GithubStarsContext.js","General/Context/ProductHuntVotesContext.js","General/CardsSkeleton.tsx","MyCollection/Cards/Service/delCard.js","General/Cards/Context/VideoPlayerContext.js","Awesome/addLocalBokmarks.tsx","Awesome/Cards/Service/addCard.js","Awesome/Cards/Service/handleAddCard.js","Shared/Navigation/TopAppBar.js","General/Navigation/MoveOnScrollTopTabsMenu.js","General/Navigation/TopTabsMenu.js","Shared/Index.js","General/AlertContext.js","General/Alert.js","Bookmarks/Navigation/TopAppBar.js","Bookmarks/Cards/CardBottom/MenuButton.js","General/Cards/CardsList.tsx","Bookmarks/index.js","DataSource/getRemoteBookmarks.js","sharedCards.js","styles2.js","General/UpdateInterfaceBasedOnLocalData.js","MyCollection/Cards/SelectCategory.js","MyCollection/Cards/Modals/MoveCard.js","MyCollection/Cards/Modals/EditCard.js","MyCollection/Cards/Modals/AddCard.js","MyCollection/Categories/Modals/AddCategory.js","MyCollection/Categories/Modals/DeleteCategory.js","MyCollection/Categories/Modals/EditCategory.js","General/DrawersGeneral/General.js","General/Drawer/Modal/Drawer.js","General/DrawerWithMenu/Modal/DrawerWithMenu.js","General/Navigation/ScrollToTop.js","DataSource/RemoteStorage.js","Backups/Navigation/TopAppBar.js","DataSource/getRemoteBackups.js","Backups/index.js","General/Modal/SignIn.js","DataSource/Context/StoreVotingStatsToServer.js","General/Service/findStacksOfIdsForCardsCollections.tsx","Awesome/CollectionsList.tsx","Home/Navigation/TopAppBar.js","Home/index.tsx","DataSource/getRemoteVotingStats.tsx","YoutubeConverter/Navigation/TopAppBar.js","YoutubeConverter/index.tsx","Settings/Navigation/TopAppBar.js","Settings/index.tsx","Main.js"],"names":["SignInModalContext","React","createContext","useSignInModal","useContext","SHOW_MODAL","HIDE_MODAL","RESET","reducer","state","action","type","isVisible","SignInModalProvider","children","useReducer","dispatch","Provider","value","show","hide","reset","useFetch","url","useState","data","setData","loading","setLoading","useEffect","a","fetch","response","json","fetchUrl","TopTabsMenuSkeleton","id","className","MoveOnScrollTopAppBar","props","theme","useTheme","showSignInBar","useShowSignInBar","componentSizes","useComponentSizes","classes","makeStyles","colorPrimary","backgroundColor","palette","background","paper","whiteForLight","primary","main","useStyles","position","status","transform","top","topSignInAppBarHeight","Styles","setStyles","height","Styles2","setStyles2","prev","style","inline","display","alignItems","column","flexDirection","justifyContent","Right","windowWidth","useWindowWidth","drawer","useDrawerWithMenu","githubStars","useGithubStars","productHuntVotes","useProductHuntVotes","stars","setStars","votes","setVotesPh","dataPh","loadingPh","undefined","stargazers_count","set","votesCount","width","marginRight","minWidth","href","aria-label","aria-hidden","rel","target","icon","faDiscord","fontSize","cursor","onClick","window","open","edge","color","marginLeft","HorizontalCenterIconAndText","flexWrap","marginBottom","CollectionLoader","maxWidth","paddingLeft","paddingRight","StoreBookmarksToServerContext","useStoreBookmarksToServer","STORE","REMOVE","collection","StoreBookmarksToServerProvider","store","remove","StoreUserCollectionToServerContext","useStoreUserCollectionToServer","StoreUserCollectionToServerProvider","setUpdate","true","useGetDocFromLocalForage","key","IDataJson","useLocalForage","userCollection","getItem","fetchData","config","apiKey","projectId","databaseURL","authDomain","storageBucket","messagingSenderId","clientId","scopes","discoveryDocs","Terms","root","firebaseAndGapiAuth","gapi","auth2","getAuthInstance","signIn","isSignedIn","listen","authResponse","currentUser","get","getAuthResponse","credential","firebase","auth","GoogleAuthProvider","id_token","access_token","console","log","signInWithCredential","then","success","JSON","stringify","catch","error","DrawerWithMenuContext","SHOW_DRAWER","HIDE_DRAWER","DrawerWithMenuProvider","SkeletonLoaderForHashNavigationContext","useSkeletonLoaderForHashNavigation","TURN_ON","TURN_OFF","SkeletonLoaderForHashNavigationProvider","turnOn","turnOff","text","secondary","CardBottomRight","storeUserCollectionToServer","fireBaseAuth","useFireBaseAuth","existsLocal","setExistsLocal","stackOfLocalIds","setStackOfLocalIds","stackOfLocalIdsFromStorage","useRef","cardsNumberInUserCollection","useCardsNumberInUserCollection","contrastText","common","white","current","stackOfIds","title","Grid","item","flexGrow","container","xs","justify","IconButton","variant","e","stopPropagation","results","deleteCardService","setItem","handleDeleteCard","cardId","removeExistsLocalInArray","card","saved","cardsCollection","fullVideo","handleAddCard","newStackOfTitles","addExistsLocalInArray","menuButton","spacing","TopAppBar","setTitle","setId","back","setBack","history","useHistory","existsLocalSavedInArray2","topAppBarData","urlSplit","split","length","slice","join","uuidv5","Math","random","existsLocalSavedInArray_","find","Toolbar","push","Typography","lineHeight","urlStackOfTitles","clone","index","findIndex","splice","AddCategoryModalContext","useAddCategoryModal","horizontal","AddCategoryModalProvider","AddCategoryContext","useAddCategory","AddCategoryProvider","setState","add","DeleteCategoryModalContext","useDeleteCategoryModal","DeleteCategoryModalProvider","DeleteCategoryContext","useDeleteCategory","DeleteCategoryProvider","delete","EditCategoryContext","useEditCategory","EditCategoryProvider","newCategoryName","edit","EditCategoryModalContext","useEditCategoryModal","currentCategoryName","EditCategoryModalProvider","TopSignInAppBar","setText","signInPadding","setSignInPadding","isShowBigButtons","setIsShowBigButtons","modal","borderBottom","divider","transition","zIndex","boxShadow","styles","isSignIn","borderTop","github","facebook","google","general","padding","button","setTimeout","err","src","logoGmail","margin","GithubAuthProvider","signInWithPopup","alert","logoGithub","FacebookAuthProvider","logoFaceBook","onTouchStart","DrawerContext","useDrawer","DrawerProvider","usePrevious","ref","bookmarks","useGetRemoteBookmarksStat","storeBookmarksStateToServer","useStoreBookmarksStateToServer","useCallback","firestore","doc","StoreBookmarksStateToServerContext","StoreBookmarksStateToServerProvider","CARDS_NUMBER_WHEN_SHOW_SIGN_IN_BAR","MoveCardContext","useMoveCard","MoveCardProvider","fromStackOfIds","toStackOfIds","toCategoryTitle","move","MoveCardModalContext","useMoveCardModal","categoryTitle","cats","MoveCardModalProvider","EditCardModalContext","useEditCardModal","EditCardModalProvider","SaveCardContext","useSaveCard","SaveCardProvider","save","AddCardModalContext","useAddCardModal","AddCardModalProvider","AddCardContext","useAddCard","AddCardProvider","DeleteCardContext","useDeleteCard","DeleteCardProvider","MergeCollectionsContext","useMergeCollections","MergeCollectionsProvider","counter","setCounter","update","VideoProgressBarContext","useVideoProgressBar","VideoProgressBarProvider","progress","setProgress","getLocalIds","localData","listOfSavedIds","listOfSeenIds","Object","entries","forEach","v","seen","navigationToUrlStackOfTitles","arr","stackOfTitles","newstackOfTitles","Array","prototype","apply","GithubStarsContext","GithubStarsProvider","ProductHuntVotesContext","ProductHuntVotesProvider","setVotes","CardsSkeleton","items","i","stack","newArr","o","filter","el","VideoPlayerContext","useVideoPlayer","VideoPlayerProvider","player","setPlayer","addLocalBokmarks","keys","k","local","createFullPath","path","addCard","stackOfLocalIds_","found","newStackOfLocalIds","indx","ids","values","some","elem","nextId","parseInt","newStackOfLocalIds__","toString","cardData","avatar","license","description","hideDescription","hideTitleAndDescription","updatedAt","createdAt","youtubeId","start","stop","gistId","gistFile","documentation","laboratory","source","settings","cardsNumber","pages","MoveOnScrollTopTabsMenu","wheelDirection","useWheelDirection","location","useLocation","prevScrollTrigger","hashInInitialUrl","useHashInInitialUrl","hashChange","useHashChange","pathname","active","setActive","useTabStyles","scroller","setHash","element","direction","themeNew","createMuiTheme","overrides","MuiPaper","elevation4","clipPath","default","classes0","ThemeProvider","AppBar","Tabs","onChange","event","newValue","handleChange","indicatorColor","textColor","scrollButtons","TopTabsMenu","cardsNumberCurrent","setCardsNumberCurrent","anchorOrigin","vertical","useMemo","Tab","label","Badge","badgeContent","Shared","anchorEl","setAnchorEl","setBookmarks","listOfShared","setList","titleRef","urlRef","descriptionRef","useStyles2","paddingTop","paddingBottom","classes2","handleMenu","currentTarget","handleClose","docs","list","singleDoc","logo","author","cards","upd","Container","map","Card","Box","CardHeader","titleTypographyProps","Avatar","subheader","moment","fromNow","CardContent","CardActions","aria-owns","Boolean","aria-haspopup","Menu","transformOrigin","onClose","MenuItem","u","Paper","noValidate","autoComplete","TextField","inputRef","multiline","rows","Button","newSharedId","last_shared_id","AlertContext","SHOW_ALERT","HIDE_ALERT","AlertProvider","Alert","setOpen","Snackbar","onWheel","document","body","scrollTop","onTouchMove","onTouchCancel","onTouchEnd","autoHideDuration","message","elevation","severity","MenuButton","nFormatter","num","digits","si","symbol","toFixed","replace","CardsList","stacksOfLocalIds","existsLocalSavedInArray","marginTop","root2","alignSelf","media","overlay","bottom","left","right","flex","CardActionArea","CardMedia","image","useTitle","hint","unix","youtubeLikes","Bookmarks","setedUp","setup","setedUpBookmarks","setUpBookmarks","uid","parse","useGetRemoteBookmarks","remoteData","remoteLoading","localLoading","remoteBookmarksStat","storeBookmarksToServer","topTranformerTrigger","useTopTranformerTrigger","b","useLayoutEffect","setDirection","img","maxHeight","SharedCards","UpdateInterfaceBasedOnLocalData","SelectCategory","moveCard","FormControl","Select","every","Number","closeModal","cat","spaces","trim","MoveCardModal","Dialog","disableBackdropClick","aria-labelledby","DialogTitle","DialogContent","DialogActions","EditCardModal","saveCard","inputValue","setInputValue","avaRef","fullDescriptionRef","licenseRef","updRef","createdRef","starsRef","onChangeHandler","required","autoFocus","fullWidth","created","ava","t","fullDescription","AddCardModal","AddCategoryModal","addCategory","DeleteCategoryModal","deleteCategory","EditCategoryModal","editCategory","link","General","setOpenBackdrop","toggleDarkTheme","showBackups","List","ListItem","ListItemIcon","ListItemText","Divider","signOut","cookies","cookie","eqPos","indexOf","name","substr","deleteAllCookies","backdrop","DrawerWithMenu","openBackdrop","resetHashes","anchor","role","userData","photoURL","displayName","email","Backdrop","CircularProgress","withRouter","unlisten","hash","scrollTo","addIntersectionsWithLocal","localUserCollection","collectionValue","localUserCollectionValue","Uint8ToString","u8a","c","String","fromCharCode","subarray","RemoteStorage","mergeCollections","fireBaseAuthIsSignIn","fireBaseAuthUid","storeUserCollection","db","remoteUserCollection","remoteBookmarks","remoteBackups","increment","FieldValue","decrement","batch","result","pako","deflate","returnedTarget","inflate","Uint8Array","from","ch","charCodeAt","to","assign","currentTime","Date","dateTimeUnix","dateUnix","toDateString","newObj","time","runTransaction","collectionName","Backups","backups","setBackups","useGetRemoteBackups","ordered","sort","reverse","format","ListItemSecondaryAction","apps","initializeApp","restore","blob","Blob","fileSaver","saveAs","download","SignInModal","iconSize","size","StoreVotingStatsToServerContext","useStoreVotingStatsToServer","StoreVotingStatsToServerProvider","findStacksOfIdsForCardsCollections","newLocalStackOfIds","CollectionList","useParams","user","kit","awesome","setAwesome","awesomeRef","setTopAppBarData","setStacksOfLocalIds","setUrlStackOfTitles","navigation","collections","listOfSeenIds_","Link","Home","youtubeUrl","setYoutubeUrl","googleApiAuth","useGoogleApiAuth","likedVideo","setLikedVideo","news","setNews","loadAuth2","process","load","client","init","scope","youtube","videos","myRating","prettyPrint","resp","setAuth2","textAlign","placeholder","gutterBottom","playing","controls","light","overflow","youtubeData","whiteSpace","bookmarkIcon","YoutubeConverter","currentVotingPosition","setCurrentVotingPosition","votingList","setVotingList","storeVotingStatsToServer","useGetRemoteVotingStats","remoteVotingStats","remoteVotingStatsLoading","showVotingMessage","setShowVotingMessage","setExistsLocalSavedInArray","signInModal","voted","setVoted","textDecoration","playerHeight","leftBlockSize","setYoutubeData","match","duration","endTime","navigationBbColor","keysSorted","topAppBarHeight","MySettings","showLoop","setShowLoop","Switch","checked","inputProps","MyCollection","lazy","Promise","resolve","module","NUMBER_OF_LOADED_COMPONENTS","inc","KitsList","AwesomeSelector","disableRipple","MuiButtonBase","MuiFormLabel","asterisk","themeTypographyH5","themeLight","typography","h5","themeDark","Main","matchMedia","matches","setTheme","muiTheme","CssBaseline","StoreUserCollectionToServer","Drawer","EditCategory","DeleteCategory","AddCategory","DeleteCard","MoveCard","SaveCard","AddCard","StoreBookmarksToServer","exact","toLocaleString","AfterUpdate"],"mappings":"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","file":"static/js/21.e4080365.chunk.js","sourcesContent":["import React, { useContext, useReducer } from \"react\";\n\nconst SignInModalContext = React.createContext();\n\nexport const useSignInModal = () => {\n  return useContext(SignInModalContext);\n};\n\nconst SHOW_MODAL = \"show\";\nconst HIDE_MODAL = \"hide\";\nconst RESET = \"reset\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_MODAL: {\n      \n\n      return { isVisible: true };\n    }\n    case HIDE_MODAL: {\n      return { ...state, isVisible: false };\n    }\n\n    case RESET: {\n      return { isVisible: false };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const SignInModalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, { isVisible: false });\n\n  const show = () => dispatch({ type: SHOW_MODAL });\n  const hide = () => dispatch({ type: HIDE_MODAL });\n  const reset = () => dispatch({ type: RESET });\n\n  return (\n    <SignInModalContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        show,\n        hide,\n        reset,\n      }}\n    >\n      {children}\n    </SignInModalContext.Provider>\n  );\n};\n","import { useState, useEffect } from \"react\";\n\nexport const useFetch = (url: any): any[] => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchUrl() {\n      //for (let i = 0; i < 10e8 * 6; i++) {}\n      \n      const response = await fetch(url);\n      const json = await response.json();\n      setData(json);\n      setLoading(false);\n    }\n    fetchUrl();\n  }, [url]);\n  return [data, loading];\n};\n","export const TopTabsMenuSkeleton = () => {\n  return (\n    <div id=\"skeleton\">\n      <div className=\"top-tabs-menu\">\n        \n      <div className=\"top-tabs-menu-item\"></div>\n      <div className=\"top-tabs-menu-item\"></div>\n      <div className=\"top-tabs-menu-item\"></div>\n        \n      </div>\n    </div>\n  );\n};\n","import { makeStyles, useTheme } from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { useEffect, useState } from \"react\";\nimport { useComponentSizes } from \"../Context/ComponentSizesContext\";\nimport { useShowSignInBar } from \"../Context/ShowSignInBarContext\";\n\nexport function MoveOnScrollTopAppBar(props) {\n  const theme = useTheme();\n  const showSignInBar = useShowSignInBar();\n  const componentSizes = useComponentSizes();\n  const useStyles = makeStyles({\n    colorPrimary: {\n      backgroundColor:\n        theme.palette.type === \"dark\"\n          ? theme.palette.background.paper\n          : props.whiteForLight\n          ? \"white\"\n          : theme.palette.primary.main,\n    },\n  });\n  \n  const classes = useStyles();\n  const [Styles, setStyles] = useState({\n    position: \"sticky\",\n    ...(showSignInBar.status === false\n      ? { transform: 0, top: 0 }\n      : { transform: 0, top: componentSizes.topSignInAppBarHeight }),\n  });\n  \n\n  const [Styles2, setStyles2] = useState({\n    height:\n      50 +\n      (showSignInBar.status === false\n        ? 0\n        : componentSizes.topSignInAppBarHeight),\n  });\n\n  \n\n  useEffect(() => {\n    setStyles((prev) => ({\n      ...prev,\n      ...(showSignInBar.status === false\n        ? { transform: 0, top: 0 }\n        : { transform: 0, top: componentSizes.topSignInAppBarHeight }),\n    }));\n  }, [\n    componentSizes.topSignInAppBarHeight,\n    showSignInBar.status,\n    theme.palette.type,\n  ]);\n\n  useEffect(() => {\n    setStyles2((prev) => ({\n      ...prev,\n      height:\n        showSignInBar.status === false\n          ? 0\n          : componentSizes.topSignInAppBarHeight,\n    }));\n  }, [componentSizes.topSignInAppBarHeight, showSignInBar.status]);\n\n  return (\n    <>\n      <div>\n        <AppBar style={Styles} className={classes.colorPrimary}>\n          {props.children}\n        </AppBar>\n        <div style={Styles2}></div>\n      </div>\n    </>\n  );\n}\n","import IconButton from \"@material-ui/core/IconButton\";\nimport { HorizontalCenterIconAndText } from \"../../Cards/HorizontalCenterIconAndText\";\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\nimport { useDrawer } from \"../../Drawer/Context/Drawer\";\nimport \"./github-button.css\";\nimport { useFetch } from \"../../../DataSource/useFetch\";\nimport { useEffect, useState } from \"react\";\nimport { usePrevious } from \"../../usePrevious\";\nimport { useGithubStars } from \"../../Context/GithubStarsContext\";\nimport { useWindowWidth } from \"../../Context/WindowWidthContext\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useProductHuntVotes } from \"../../Context/ProductHuntVotesContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faDiscord } from \"@fortawesome/free-brands-svg-icons\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { useDrawerWithMenu } from \"../../DrawerWithMenu/Context/Drawer\";\nconst minWidthForFullButtons = 460;\nconst minWidthForInlineButtons = 400;\n\nconst useStyles = makeStyles({\n  inline: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  column: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n  },\n});\n\nexport const Right = () => {\n  const windowWidth = useWindowWidth();\n  const drawer = useDrawerWithMenu();\n  const githubStars = useGithubStars();\n  const productHuntVotes = useProductHuntVotes();\n  const [stars, setStars] = useState(githubStars.stars);\n  const [votesPh, setVotesPh] = useState(productHuntVotes.votes);\n  const [data, loading] = useFetch(\n    \"https://api.github.com/repos/kilteron/kilteron.github.io\"\n  );\n  const [dataPh, loadingPh] = useFetch(\"https://kymano-86800.appspot.com/\");\n\n  useEffect(() => {\n    if (loading) {\n      return;\n    }\n    if (undefined !== data && data.stargazers_count) {\n      setStars(data.stargazers_count);\n      //etStars(111);\n      githubStars.set(data.stargazers_count);\n    } else if (undefined !== data && undefined === data.stargazers_count) {\n      setStars(0);\n    }\n  }, [data, loading]);\n\n  useEffect(() => {\n    if (loadingPh) {\n      return;\n    }\n    if (undefined !== dataPh && dataPh.votesCount) {\n      //setStars(data.stargazers_count);\n      setVotesPh(dataPh.votesCount);\n      productHuntVotes.set(dataPh.votesCount);\n\n      //githubStars.set(data.stargazers_count);\n    } else if (undefined !== data && undefined === data.votesCount) {\n      setVotesPh(0);\n    }\n  }, [dataPh, loadingPh]);\n\n  const classes = useStyles();\n\n  return (\n    <div style={{ display: \"flex\" }}>\n      <div\n        className={\n          windowWidth.width > minWidthForInlineButtons\n            ? classes.inline\n            : classes.column\n        }\n      >\n        <div\n          className=\"social-button\"\n          style={{ marginRight: 10, minWidth: 60 }}\n        >\n          <span className=\"github-btn github-stargazers\">\n            <a\n              className=\"gh-btn\"\n              href=\"https://github.com/kilteron/kilteron.github.io\"\n              aria-label=\"Star kilteron/kilteron.github.io on GitHub\"\n            >\n              <span\n                className=\"gh-ico\"\n                aria-hidden=\"true\"\n                style={{\n                  marginRight:\n                    windowWidth.width > minWidthForFullButtons ? 4 : 0,\n                }}\n              ></span>{\" \"}\n              {windowWidth.width > minWidthForFullButtons && (\n                <span className=\"gh-text\">Star</span>\n              )}\n            </a>\n            {stars > 0 && (\n              <a\n                className=\"gh-count\"\n                href=\"https://github.com/kilteron/kilteron.github.io/stargazers\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                style={{ display: \"block\" }}\n              >\n                {stars}\n              </a>\n            )}\n          </span>\n        </div>\n        <FontAwesomeIcon\n          icon={faDiscord}\n          style={{ fontSize: 20, cursor: \"pointer\" }}\n          onClick={() => window.open(\"https://discord.gg/rQh6Ra2jgg\", \"_blank\")}\n        />\n        {false && (\n          <div className=\"social-button\">\n            <span className=\"github-btn github-stargazers\">\n              <a\n                className=\"gh-btn\"\n                href=\"https://github.com/kilteron/kilteron.github.io\"\n                aria-label=\"Star kilteron/kilteron.github.io on GitHub\"\n              >\n                <span\n                  className=\"ph-ico\"\n                  aria-hidden=\"true\"\n                  style={{\n                    marginRight:\n                      windowWidth.width > minWidthForFullButtons ? 4 : 0,\n                  }}\n                ></span>\n                {windowWidth.width > minWidthForFullButtons && (\n                  <span className=\"gh-text\">Vote</span>\n                )}\n              </a>\n              {votesPh > 0 && (\n                <a\n                  className=\"gh-count\"\n                  href=\"https://github.com/kilteron/kilteron.github.io/stargazers\"\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                  style={{ display: \"block\" }}\n                >\n                  {votesPh}\n                </a>\n              )}\n            </span>\n          </div>\n        )}\n      </div>\n\n      <div id=\"show-drawer\">\n        <IconButton\n          aria-label=\"display more actions\"\n          edge=\"end\"\n          color=\"inherit\"\n          style={{ marginLeft: 0 }}\n          onClick={() => drawer.show()}\n        >\n          <MenuIcon />\n        </IconButton>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nexport function HorizontalCenterIconAndText(props) {\n  const style = {\n    display: \"flex\",\n    alignItems: props.alignItems ?? \"center\",\n    flexWrap: \"nowrap\",\n    marginRight: props.marginRight ?? 0,\n    marginBottom: props.marginBottom ?? 0,\n  };\n  let onClick = {};\n  if (undefined !== props.url) {\n    style.cursor = \"pointer\";\n    onClick = { onClick: () => window.open(props.url, \"_blank\") };\n  }\n  return (\n    <div style={{ display: \"flex\" }}>\n      <div style={style} {...onClick}>\n        {props.children}\n      </div>\n    </div>\n  );\n}\n","import { CardsSkeleton } from \"../General/CardsSkeleton\";\nimport { Container } from \"@material-ui/core\";\n\n\nexport const CollectionLoader = () => {\n  return (\n    <Container\n          maxWidth=\"sm\"\n          style={{\n            paddingLeft: 8,\n            paddingRight: 8,\n            display: \"flex\",\n            flexDirection: \"column\",\n          }}\n        >\n      \n        <CardsSkeleton />\n        {/* {Array.from(new Array(1)).map((item, index) => (\n          <div>\n            {Array.from(new Array(30)).map((item, index) => (\n              <Box key={index} width={650} marginRight={0.5} my={5}>\n                <Skeleton variant=\"rect\" width={650} height={118} />\n                <Box pt={0.5}>\n                  <Skeleton />\n                  <Skeleton width=\"60%\" />\n                </Box>\n              </Box>\n            ))}\n          </div>\n        ))} */}\n      \n    </Container>\n  );\n};\n","import React, { useContext, useReducer, useState } from \"react\";\n\nconst StoreBookmarksToServerContext = React.createContext();\n\nexport const useStoreBookmarksToServer = () => {\n  return useContext(StoreBookmarksToServerContext);\n};\n\nconst STORE = \"STORE\";\nconst REMOVE = \"REMOVE\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case STORE:\n      return { ...state, type: \"store\", collection: action.collection };\n    case REMOVE:\n      return { ...state, type: \"remove\", collection: action.collection };\n    default:\n      return state;\n  }\n};\n\nexport const StoreBookmarksToServerProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    collection: null,\n    type: null,\n  });\n\n  const store = (collection) => {\n    dispatch({ type: STORE, collection });\n  };\n\n  const remove = (collection) => {\n    dispatch({ type: REMOVE, collection });\n  };\n\n  return (\n    <StoreBookmarksToServerContext.Provider\n      value={{\n        store,\n        remove,\n        action: state.type,\n        collection: state.collection,\n      }}\n    >\n      {children}\n    </StoreBookmarksToServerContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst StoreUserCollectionToServerContext = React.createContext();\n\nexport const useStoreUserCollectionToServer = () => {\n  return useContext(StoreUserCollectionToServerContext);\n};\n\nexport const StoreUserCollectionToServerProvider = ({ children }) => {\n  const [update, setUpdate] = useState(0);\n\n  const store = () => {\n    setUpdate({ true: true });\n  };\n\n  return (\n    <StoreUserCollectionToServerContext.Provider value={{ store }}>\n      {children}\n    </StoreUserCollectionToServerContext.Provider>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport { useLocalForage } from \"./localForageContext\";\nimport { IDataJson } from \"../General/Interfaces/IDataJson\";\n\nexport const useGetDocFromLocalForage = (key) => {\n  const [data, setData] = useState(IDataJson);\n  const [loading, setLoading] = useState(true);\n  const store = useLocalForage();\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await store.userCollection.getItem(key);\n      setData(response);\n      setLoading(false);\n    }\n    fetchData();\n  }, [key, store]);\n\n  return [data, loading];\n};\n","export const config = {\n  apiKey: \"AIzaSyAht_0D1BWkjcl2WswnwnhmfsdiBuLf0QU\",\n  projectId: \"kymano-8015c\",\n  databaseURL: \"DATABASE_URL\",\n  authDomain: \"kymano-8015c.firebaseapp.com\",\n  // OPTIONAL\n  storageBucket: \"STORAGE_BUCKET\",\n  messagingSenderId: \"MESSAGING_SENDER_ID\",\n  clientId:\n    \"933748353169-0umu7ffde4j9t3ukeunn71m9rh38lhui.apps.googleusercontent.com\",\n  scopes: [\n    \"email\",\n    \"profile\",\n    \"https://www.googleapis.com/auth/youtube.readonly\",\n  ],\n  discoveryDocs: [\n    \"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\",\n  ],\n};\n","import { makeStyles, useTheme, Link } from \"@material-ui/core\";\n\nexport default function Terms() {\n  const theme = useTheme();\n\n  const useStyles = makeStyles({\n    root: {\n      color: theme.palette.type === \"light\" ? \"black\" : \"white\",\n    },\n  });\n  const classes = useStyles();\n  return (\n    <>\n      By signing in, you agree to our{\" \"}\n      <Link href=\"/terms-of-service.html\" classes={classes}>\n        terms of service\n      </Link>\n      ,{\" \"}\n      <Link href=\"/privacy-policy.html\" classes={classes}>\n        privacy policy\n      </Link>{\" \"}\n      and{\" \"}\n      <Link href=\"/cookie-policy.html\" classes={classes}>\n        cookie policy\n      </Link>\n    </>\n  );\n}\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nimport { loadAuth2, gapi, loadClientAuth2 } from \"gapi-script\";\n\nexport const firebaseAndGapiAuth = () => {\n  const googleAuth = gapi.auth2.getAuthInstance();\n  googleAuth.signIn();\n\n  const auth2 = gapi.auth2.getAuthInstance();\n  auth2.isSignedIn.listen((isSignedIn) => {\n    if (isSignedIn) {\n      const currentUser = auth2.currentUser.get();\n      const authResponse = currentUser.getAuthResponse(true);\n      const credential = firebase.auth.GoogleAuthProvider.credential(\n        authResponse.id_token,\n        authResponse.access_token\n      );\n      console.log(credential);\n\n      firebase.auth().signInWithCredential(credential);\n      firebase\n        .auth()\n        .signInWithCredential(credential)\n        .then((success) => {\n          console.log(\"Firebase success: \" + JSON.stringify(success));\n        })\n        .catch((error) => {\n          console.log(\"Firebase failure: \" + JSON.stringify(error));\n        });\n    }\n  });\n};\n","import React, { useContext, useReducer } from \"react\";\n\nconst DrawerWithMenuContext = React.createContext();\n\nexport const useDrawerWithMenu = () => {\n  return useContext(DrawerWithMenuContext);\n};\n\nconst SHOW_DRAWER = \"show\";\nconst HIDE_DRAWER = \"hide\";\nconst RESET = \"reset\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_DRAWER: {\n      return {\n        isVisible: true,\n      };\n    }\n    case HIDE_DRAWER: {\n      return { ...state, isVisible: false };\n    }\n    case RESET: {\n      return {\n        isVisible: false,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const DrawerWithMenuProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    isVisible: false,\n  });\n\n  const show = () =>\n    dispatch({\n      type: SHOW_DRAWER,\n    });\n  const hide = () => dispatch({ type: HIDE_DRAWER });\n  const reset = () => dispatch({ type: RESET });\n\n  return (\n    <DrawerWithMenuContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        show,\n        hide,\n        reset,\n      }}\n    >\n      {children}\n    </DrawerWithMenuContext.Provider>\n  );\n};\n","import React, { useContext, useReducer } from \"react\";\n\nconst SkeletonLoaderForHashNavigationContext = React.createContext();\n\nexport const useSkeletonLoaderForHashNavigation = () => {\n  return useContext(SkeletonLoaderForHashNavigationContext);\n};\n\nconst TURN_ON = \"TURN_ON\";\nconst TURN_OFF = \"TURN_OFF\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case TURN_ON:\n      return { ...state, status: \"ON\" };\n    case TURN_OFF:\n      return { ...state, status: \"OFF\" };\n    default:\n      return state;\n  }\n};\n\nexport const SkeletonLoaderForHashNavigationProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, { status: \"OFF\" });\n\n  const turnOn = () => dispatch({ type: TURN_ON });\n  const turnOff = () => dispatch({ type: TURN_OFF });\n\n  return (\n    <SkeletonLoaderForHashNavigationContext.Provider\n      value={{\n        status: state.status,\n        turnOn,\n        turnOff,\n      }}\n    >\n      {children}\n    </SkeletonLoaderForHashNavigationContext.Provider>\n  );\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useLocalForage } from \"../../../DataSource/localForageContext\";\nimport { useShowSignInBar } from \"../../../General/Context/ShowSignInBarContext\";\nimport { handleAddCard } from \"../Service/handleAddCard\";\nimport { handleDeleteCard } from \"../Service/handleDeleteCard\";\nimport { useStoreUserCollectionToServer } from \"../../../DataSource/Context/StoreUserCollectionToServer\";\nimport { useWindowWidth } from \"../../../General/Context/WindowWidthContext\";\nimport { IconButton, makeStyles, useTheme } from \"@material-ui/core\";\nimport { useCardsNumberInUserCollection } from \"../../../General/Context/CardsNumberInUserCollectionContext\";\nimport { useFireBaseAuth } from \"../../../General/Autorization/Context/FireBase\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\nimport BookmarkBorderIcon from \"@material-ui/icons/BookmarkBorder\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport function CardBottomRight(props) {\n  if (process.env.REACT_APP_DEBUG) console.log('CardBottomRight', props);\n  const store = useLocalForage();\n  const showSignInBar = useShowSignInBar();\n  const storeUserCollectionToServer = useStoreUserCollectionToServer();\n  const fireBaseAuth = useFireBaseAuth();\n  const classes = useStyles();\n  const theme = useTheme();\n  const [existsLocal, setExistsLocal] = useState(false);\n  const [stackOfLocalIds, setStackOfLocalIds] = useState([]);\n  const stackOfLocalIdsFromStorage = useRef([]);\n  const windowWidth = useWindowWidth();\n  const cardsNumberInUserCollection = useCardsNumberInUserCollection();\n\n  if (process.env.REACT_APP_DEBUG) console.log(\"props::::\", props);\n\n  const bColor = {\n    dark: theme.palette.primary.contrastText,\n    light: theme.palette.common.white,\n  };\n\n  const setStackOfLocalIds_ = (stackOfLocalIds) => {\n    if (process.env.REACT_APP_DEBUG)\n      console.log(\"stackOfLocalIds:\", stackOfLocalIds);\n    setStackOfLocalIds(stackOfLocalIds);\n  };\n\n  useEffect(() => {\n    if (undefined !== props.existsLocal) {\n      setExistsLocal(props.existsLocal);\n    }\n    if (undefined !== props.stackOfLocalIds) {\n      if (process.env.REACT_APP_DEBUG)\n        console.log(\"stackOfLocalIds:\", props.stackOfLocalIds);\n\n      stackOfLocalIdsFromStorage.current = props.stackOfLocalIds;\n      setStackOfLocalIds(props.stackOfLocalIds);\n    } else {\n      if (process.env.REACT_APP_DEBUG)\n        console.log(\"stackOfLocalIds:\", props.stackOfIds);\n\n      stackOfLocalIdsFromStorage.current = props.stackOfIds;\n      setStackOfLocalIds(props.stackOfIds);\n    }\n  }, [props]);\n\n  useEffect(() => {\n    if (process.env.REACT_APP_DEBUG)\n      console.log(\"stackOfLocalIds:::>>\", stackOfLocalIds);\n  }, [stackOfLocalIds]);\n\n  const saveText =\n    windowWidth.width <= props.minWidth ? \"Save\" : \"Save for later\";\n  if (process.env.REACT_APP_DEBUG)\n    console.log(\n      \"stackOfLocalIds:::?\" + existsLocal,\n      props.title,\n      stackOfLocalIds,\n      props.stackOfIds,\n      props.stackOfLocalIds\n    );\n\n  return (\n    <Grid item style={{ flexGrow: props.flexGrow ?? 2, marginRight: 4 }}>\n      <Grid container item xs={12} justify=\"flex-end\">\n        {existsLocal ? (\n          <IconButton\n            id={\"delete-card\"}\n            className={classes.root}\n            variant=\"outlined\"\n            style={{ position: \"static\", marginLeft: \"auto\" }}\n            onClick={(e) => {\n              e.stopPropagation();\n              handleDeleteCard(\n                setExistsLocal,\n                props.cardId,\n                store,\n                stackOfLocalIds,\n                storeUserCollectionToServer\n              );\n              if (props.removeExistsLocalInArray) {\n                props.removeExistsLocalInArray(props.cardId);\n              }\n            }}\n          >\n            {/* Delete */}\n            <BookmarkIcon\n              style={{\n                color:\n                  theme.palette.type === \"light\"\n                    ? theme.palette.common.white\n                    : theme.palette.primary.contrastText,\n              }}\n            />\n          </IconButton>\n        ) : (\n          <>\n            {\n              <IconButton\n                id={\"save-card\"}\n                variant=\"outlined\"\n                style={{ position: \"static\", marginLeft: \"auto\" }}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  props.card.saved = true;\n                  if (props.cardsCollection) {\n                    props.card.fullVideo = true;\n                  }\n                  handleAddCard(\n                    stackOfLocalIdsFromStorage,\n                    setExistsLocal,\n                    store,\n                    props.card,\n                    props.title,\n                    props.newStackOfTitles,\n                    setStackOfLocalIds,\n                    showSignInBar,\n                    storeUserCollectionToServer,\n                    cardsNumberInUserCollection,\n                    fireBaseAuth\n                  );\n                  if (props.addExistsLocalInArray) {\n                    props.addExistsLocalInArray(props.cardId);\n                  }\n                }}\n              >\n                {/* {saveText} */}\n                <BookmarkBorderIcon\n                  style={{\n                    color:\n                      theme.palette.type === \"light\"\n                        ? theme.palette.common.white\n                        : theme.palette.primary.contrastText,\n                  }}\n                />\n              </IconButton>\n            }\n          </>\n        )}\n      </Grid>\n    </Grid>\n  );\n}\n","import { deleteCardService } from \"../../../MyCollection/Cards/Service/delCard\";\n\nexport const handleDeleteCard = (\n  setExistsLocal,\n  id,\n  store,\n  stackOfIds,\n  storeUserCollectionToServer\n) => {\n  setExistsLocal(false);\n\n  if (process.env.REACT_APP_DEBUG) console.log('stackOfIds', stackOfIds);\n  \n  store.userCollection.getItem(\"doc\").then(function (results) {\n    let userCollection = [];\n    if (results) {\n      userCollection = results;\n    }\n    if (process.env.REACT_APP_DEBUG) console.log('handleDeleteCard1', userCollection, stackOfIds, id);\n    deleteCardService(userCollection, stackOfIds, id);\n    if (process.env.REACT_APP_DEBUG) console.log('handleDeleteCard2', userCollection, stackOfIds, id);\n\n\n    store.userCollection.setItem(\"doc\", userCollection).then(() => {\n      storeUserCollectionToServer.store();\n    });\n  });\n};\n","import { useEffect, useRef, useState } from \"react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MoveOnScrollTopAppBar } from \"../../General/Navigation/MoveOnScrollTopAppBar\";\nimport { useLocalForage } from \"../../DataSource/localForageContext\";\nimport { Right } from \"../../General/Navigation/TopAppBar/Right\";\nimport { BookmarkButton } from \"../BookmarkButton\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { useHistory } from \"react-router-dom\";\nimport { CardBottomRight } from \"../Cards/CardBottom/CardBottomRight\";\nimport { v5 as uuidv5 } from \"uuid\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    display: \"flex\",\n  },\n}));\n\nexport function TopAppBar(props) {\n  if (process.env.REACT_APP_DEBUG)\n    console.log(\"props.stackOfLocalIds:\", props.stackOfLocalIds);\n  const classes = useStyles();\n  const store = useLocalForage();\n  const [title, setTitle] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [back, setBack] = useState();\n  const history = useHistory();\n  const theme = useTheme();\n  //const [existsLocalSavedInArray, setExistsLocalSavedInArray] = useState([]);\n  const existsLocalSavedInArray2 = useRef([]);\n\n  const removeExistsLocalInArray = (cardId) => {\n    let clone = [...existsLocalSavedInArray2.current];\n    let index = clone.findIndex((e) => e === cardId);\n    if (index > -1) clone.splice(index, 1);\n    existsLocalSavedInArray2.current = clone;\n  };\n\n  const addExistsLocalInArray = (cardId) => {\n    let clone = [...existsLocalSavedInArray2.current, cardId];\n    existsLocalSavedInArray2.current = clone;\n  };\n\n  useEffect(() => {\n    if (process.env.REACT_APP_DEBUG)\n      console.log(\"props.stackOfLocalIds: useEffect\", props.stackOfLocalIds);\n\n    if (\n      undefined !== props.topAppBarData &&\n      undefined !== props.topAppBarData.url\n    ) {\n      var urlSplit = props.topAppBarData.url.split(\"/\");\n\n      if (urlSplit.length > 3) {\n        setBack(urlSplit.slice(0, -1).join(\"/\"));\n      } else {\n        setBack(\"/browse\");\n      }\n    }\n    if (props.topAppBarData && props.topAppBarData.title) {\n      props.topAppBarData.fullVideo = true;\n      if (!props.topAppBarData.id) {\n        setId(\n          uuidv5(\n            props.topAppBarData.title + Math.random(),\n            \"b5d1a120-ad90-52a9-8bfd-9cb55c023f55\"\n          )\n        );\n      } else {\n        setId(props.topAppBarData.id);\n      }\n    }\n\n    if (\n      undefined !== props.topAppBarData &&\n      undefined !== props.topAppBarData.title\n    ) {\n      setTitle(props.topAppBarData.title);\n    }\n  }, [props.topAppBarData]);\n\n  if (props.existsLocalSavedInArray_) {\n    existsLocalSavedInArray2.current = props.existsLocalSavedInArray_;\n  }\n\n  if (process.env.REACT_APP_DEBUG)\n    console.log(\n      \"existsLocalSavedInArray2.current\",\n      existsLocalSavedInArray2.current,\n      id\n    );\n\n  let color = theme.palette.type === \"light\" ? \"black\" : \"white\";\n\n  return (\n    <>\n      {console.log(\n        \"existsLocalSavedInArray2.current\",\n        existsLocalSavedInArray2.current.find((e) => e === id) ? true : false\n      )}\n      <MoveOnScrollTopAppBar whiteForLight={true}>\n        <Toolbar>\n          {back && (\n            <IconButton\n              edge=\"start\"\n              onClick={() => {\n                history.push(back);\n              }}\n            >\n              <ArrowBackIcon />\n            </IconButton>\n          )}\n          <Typography variant=\"h6\" className={classes.title}>\n            <span\n              style={{\n                lineHeight: \"normal\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              {title}\n            </span>\n            {undefined !== props.topAppBarData &&\n              undefined !== props.topAppBarData.title &&\n              ((undefined !== props.topAppBarData.type &&\n                props.topAppBarData.type !== \"kit\" &&\n                props.topAppBarData.type !== \"kitList\") ||\n                undefined === props.topAppBarData.type) && (\n                <CardBottomRight\n                  existsLocal={\n                    existsLocalSavedInArray2.current.find((e) => e === id)\n                      ? true\n                      : false\n                  }\n                  title={title}\n                  card={props.topAppBarData}\n                  newStackOfTitles={\n                    props.urlStackOfTitles\n                      ? props.urlStackOfTitles[props.topAppBarData.url]\n                      : [\"No category\"]\n                  }\n                  stackOfIds={\n                    props.stackOfLocalIds ? props.stackOfLocalIds : [0]\n                  }\n                  cardId={id}\n                  flexGrow={0}\n                  removeExistsLocalInArray={removeExistsLocalInArray}\n                  addExistsLocalInArray={addExistsLocalInArray}\n                  minWidth={735}\n                />\n              )}\n          </Typography>\n\n          <Right />\n        </Toolbar>\n      </MoveOnScrollTopAppBar>\n    </>\n  );\n}\n","import React, { useContext, useReducer } from \"react\";\n\nconst AddCategoryModalContext = React.createContext();\n\nexport const useAddCategoryModal = () => {\n  return useContext(AddCategoryModalContext);\n};\n\nconst SHOW_MODAL = \"show\";\nconst HIDE_MODAL = \"hide\";\nconst RESET = \"reset\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_MODAL: {\n      return {\n        isVisible: true,\n        stackOfIds: action.stackOfIds,\n        horizontal: true,\n      };\n    }\n    case HIDE_MODAL: {\n      return { ...state, isVisible: false };\n    }\n    case RESET: {\n      return {\n        isVisible: false,\n        stackOfIds: [],\n        horizontal: true,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const AddCategoryModalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    isVisible: false,\n    stackOfIds: [],\n    horizontal: true,\n  });\n\n  const show = (stackOfIds, horizontal) =>\n    dispatch({\n      type: SHOW_MODAL,\n      stackOfIds,\n      horizontal,\n    });\n  const hide = () => dispatch({ type: HIDE_MODAL });\n  const reset = () => dispatch({ type: RESET });\n\n  return (\n    <AddCategoryModalContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        stackOfIds: state.stackOfIds,\n        horizontal: state.horizontal,\n        show,\n        hide,\n        reset,\n      }}\n    >\n      {children}\n    </AddCategoryModalContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst AddCategoryContext = React.createContext();\n\nexport const useAddCategory = () => {\n  return useContext(AddCategoryContext);\n};\n\nexport const AddCategoryProvider = ({ children }) => {\n  const [state, setState] = useState({\n    title: \"\",\n    stackOfIds: [],\n    horizontal: true,\n  });\n\n  const add = (title, stackOfIds, horizontal) =>\n    setState({ title, stackOfIds, horizontal });\n\n    const reset = () => {\n      setState({\n        title: \"\",\n        stackOfIds: [],\n        horizontal: true,\n      });\n    };\n  return (\n    <AddCategoryContext.Provider\n      value={{\n        title: state.title,\n        stackOfIds: state.stackOfIds,\n        horizontal: state.horizontal,\n        add: add,\n        reset: reset\n      }}\n    >\n      {children}\n    </AddCategoryContext.Provider>\n  );\n};\n","import React, { useContext, useReducer } from \"react\";\n\nconst DeleteCategoryModalContext = React.createContext();\n\nexport const useDeleteCategoryModal = () => {\n  return useContext(DeleteCategoryModalContext);\n};\n\nconst SHOW_MODAL = \"show\";\nconst HIDE_MODAL = \"hide\";\nconst RESET = \"reset\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_MODAL: {\n      return {\n        isVisible: true,\n        stackOfIds: action.stackOfIds,\n        title: action.title,\n      };\n    }\n    case HIDE_MODAL: {\n      return { ...state, isVisible: false };\n    }\n\n    case RESET: {\n      return {\n        isVisible: false,\n        stackOfIds: [],\n        title: \"\",\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const DeleteCategoryModalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    isVisible: false,\n    stackOfIds: [],\n    title: \"\",\n  });\n\n  const show = (stackOfIds, title) =>\n    dispatch({\n      type: SHOW_MODAL,\n      stackOfIds,\n      title,\n    });\n  const hide = () => dispatch({ type: HIDE_MODAL });\n  const reset = () => dispatch({ type: RESET });\n\n  return (\n    <DeleteCategoryModalContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        stackOfIds: state.stackOfIds,\n        title: state.title,\n        show,\n        hide,\n        reset,\n      }}\n    >\n      {children}\n    </DeleteCategoryModalContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst DeleteCategoryContext = React.createContext();\n\nexport const useDeleteCategory = () => {\n  return useContext(DeleteCategoryContext);\n};\n\nexport const DeleteCategoryProvider = ({ children }) => {\n  const [state, setState] = useState({ stackOfIds: [] });\n\n  const del = (stackOfIds) => setState({ stackOfIds });\n  const reset = () => {\n    setState({ stackOfIds: [] });\n  };\n  return (\n    <DeleteCategoryContext.Provider\n      value={{ stackOfIds: state.stackOfIds, delete: del, reset: reset }}\n    >\n      {children}\n    </DeleteCategoryContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst EditCategoryContext = React.createContext();\n\nexport const useEditCategory = () => {\n  return useContext(EditCategoryContext);\n};\n\nexport const EditCategoryProvider = ({ children }) => {\n  const [state, setState] = useState({\n    stackOfIds: [],\n    newCategoryName: \"\",\n  });\n\n  const edit = (stackOfIds, newCategoryName) =>\n    setState({ stackOfIds, newCategoryName });\n\n  const reset = () => {\n    setState({\n      stackOfIds: [],\n      newCategoryName: \"\",\n    });\n  };\n  return (\n    <EditCategoryContext.Provider\n      value={{\n        stackOfIds: state.stackOfIds,\n        newCategoryName: state.newCategoryName,\n        edit: edit,\n        reset: reset,\n      }}\n    >\n      {children}\n    </EditCategoryContext.Provider>\n  );\n};\n","import React, { useContext, useReducer } from \"react\";\n\nconst EditCategoryModalContext = React.createContext();\n\nexport const useEditCategoryModal = () => {\n  return useContext(EditCategoryModalContext);\n};\n\nconst SHOW_MODAL = \"show\";\nconst HIDE_MODAL = \"hide\";\nconst RESET = \"reset\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_MODAL: {\n      return {\n        isVisible: true,\n        stackOfIds: action.stackOfIds,\n        currentCategoryName: action.currentCategoryName,\n      };\n    }\n    case HIDE_MODAL: {\n      return { ...state, isVisible: false };\n    }\n    case RESET: {\n      return {\n        isVisible: false,\n        stackOfIds: [],\n        currentCategoryName: \"\",\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const EditCategoryModalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    isVisible: false,\n    stackOfIds: [],\n    currentCategoryName: \"\",\n  });\n\n  const show = (stackOfIds, currentCategoryName) =>\n    dispatch({\n      type: SHOW_MODAL,\n      stackOfIds,\n      currentCategoryName,\n    });\n  const hide = () => dispatch({ type: HIDE_MODAL });\n  const reset = () => dispatch({ type: RESET });\n\n  return (\n    <EditCategoryModalContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        stackOfIds: state.stackOfIds,\n        currentCategoryName: state.currentCategoryName,\n        show,\n        hide,\n        reset,\n      }}\n    >\n      {children}\n    </EditCategoryModalContext.Provider>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/core\";\n\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport { useShowSignInBar } from \"../Context/ShowSignInBarContext\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"./TopSignInAppBar.css\";\nimport { StylesProvider } from \"@material-ui/core/styles\";\nimport { useFireBaseAuth } from \"../Autorization/Context/FireBase\";\nimport Link from \"@material-ui/core/Link\";\n\nimport logoFaceBook from \"super-tiny-icons/images/svg/facebook.svg\";\nimport logoGmail from \"super-tiny-icons/images/svg/google.svg\";\nimport logoGithub from \"super-tiny-icons/images/svg/github.svg\";\n\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { useWindowWidth } from \"../Context/WindowWidthContext\";\nimport { useComponentSizes } from \"../Context/ComponentSizesContext\";\nimport { useSignInModal } from \"../Context/SignInModal\";\nimport Terms from \"../Terms\";\nimport { firebaseAndGapiAuth } from \"../Autorization/Service/firebaseAndGapi\";\n\nexport default function TopSignInAppBar() {\n  const showSignInBar = useShowSignInBar();\n  const fireBaseAuth = useFireBaseAuth();\n  const theme = useTheme();\n  const windowWidth = useWindowWidth();\n  const [text, setText] = useState();\n  const [signInPadding, setSignInPadding] = useState(8);\n  const [isShowBigButtons, setIsShowBigButtons] = useState();\n  const componentSizes = useComponentSizes();\n  const modal = useSignInModal();\n\n  const useStyles = makeStyles({\n    root: {\n      color: theme.palette.type === \"light\" ? \"black\" : \"white\",\n    },\n  });\n  const classes = useStyles();\n\n  const [styles, setStyles] = useState({\n    borderBottom: theme.palette.divider + \" 1px solid\",\n    position: \"fixed\",\n    //transform: \"translateY(\" + componentSizes.topSignInAppBarHeight + \"px)\",\n    transition: \"transform 200ms\",\n    zIndex: 1101,\n    top: 0,\n    boxShadow: \"none\",\n    height: componentSizes.topSignInAppBarHeight,\n    backgroundColor: theme.palette.type === \"light\" ? \"white\" : \"black\",\n  });\n\n  useEffect(() => {\n    setStyles((prev) => ({\n      ...prev,\n      height: componentSizes.topSignInAppBarHeight,\n    }));\n  }, [componentSizes.topSignInAppBarHeight]);\n  useEffect(() => {\n    if (\n      showSignInBar.status === true &&\n      fireBaseAuth.loading === false &&\n      fireBaseAuth.isSignIn === false\n    ) {\n      setStyles((prev) => ({ ...prev, transform: \"translateY(0px)\" }));\n    } else {\n      setStyles((prev) => ({\n        ...prev,\n        transform:\n          \"translateY(-\" + componentSizes.topSignInAppBarHeight + \"px)\",\n      }));\n    }\n  }, [\n    fireBaseAuth,\n    showSignInBar.status,\n    componentSizes.topSignInAppBarHeight,\n  ]);\n  useEffect(() => {\n    setStyles((prev) => ({\n      ...prev,\n      borderTop: theme.palette.divider + \" 1px solid\",\n      borderBottom: theme.palette.divider + \" 1px solid\",\n      backgroundColor: theme.palette.type === \"light\" ? \"white\" : \"black\",\n    }));\n  }, [theme]);\n  //const classes = useTabStyles();\n\n  useEffect(() => {\n    if (windowWidth.width >= 1260) {\n      setText({\n        github: \"Sign In with Github\",\n        facebook: \"Sign In with Facebook\",\n        google: \"Sign In with Google\",\n      });\n      setIsShowBigButtons(true);\n    } else if (windowWidth.width >= 970) {\n      setText({\n        github: \"Sign In\",\n        facebook: \"Sign In\",\n        google: \"Sign In\",\n      });\n      setIsShowBigButtons(true);\n    } else if (windowWidth.width >= 600) {\n      setText({\n        github: \"\",\n        facebook: \"\",\n        google: \"\",\n      });\n      setIsShowBigButtons(false);\n      setSignInPadding(\"8px 16px\");\n    } else if (windowWidth.width >= 500) {\n      setText({\n        github: \"\",\n        facebook: \"\",\n        google: \"\",\n        general: \"Sign&nbsp;in\",\n      });\n      setIsShowBigButtons(false);\n      setSignInPadding(4);\n    } else {\n      setText({\n        github: \"\",\n        facebook: \"\",\n        google: \"\",\n        general: \"Sign&nbsp;in\",\n      });\n      setIsShowBigButtons(false);\n      setSignInPadding(0);\n    }\n  }, [windowWidth]);\n\n  return (\n    <div id=\"TopSignInAppBar\">\n      <AppBar position=\"fixed\" style={styles} color=\"inherit\">\n        <Toolbar>\n          <Typography variant=\"h5\">\n            Register to save your collection in the cloud. Free, no credit card\n            required.\n            <br />\n            {isShowBigButtons === true && (\n              <span style={{ fontSize: 12 }}>\n                <Terms />\n              </span>\n            )}\n          </Typography>\n\n          {isShowBigButtons !== undefined && (\n            <>\n              {isShowBigButtons === true ? (\n                <>\n                  <List style={{ padding: 8 }}>\n                    <ListItem\n                      style={{ height: 48 }}\n                      button\n                      key=\"GoogleAuthProvider\"\n                      onClick={() => {\n                        setTimeout(() => {\n                          try {\n                            firebaseAndGapiAuth();\n                          } catch (err) {\n                            console.log(\"Error11... Please try again.\", err);\n                          }\n                        }, 50);\n                      }}\n                    >\n                      <ListItemIcon style={{ minWidth: 35, height: 26 }}>\n                        <img src={logoGmail} style={{ width: 20, margin: 3 }} />\n                      </ListItemIcon>\n                      <ListItemText primary={text.google} />\n                    </ListItem>\n                  </List>\n\n                  <List>\n                    <ListItem\n                      style={{ height: 48 }}\n                      button\n                      key=\"GithubAuthProvider\"\n                      onClick={() => {\n                        setTimeout(() => {\n                          try {\n                            const GithubAuthProvider =\n                              new firebase.auth.GithubAuthProvider();\n                            firebase.auth().signInWithPopup(GithubAuthProvider);\n                          } catch (err) {\n                            alert(\"Error12... Please try again.\");\n                          }\n                        }, 50);\n                      }}\n                    >\n                      <ListItemIcon style={{ minWidth: 35, height: 26 }}>\n                        <img\n                          src={logoGithub}\n                          style={{ width: 20, margin: 3 }}\n                        />\n                      </ListItemIcon>\n                      <ListItemText primary={text.github} />\n                    </ListItem>\n                  </List>\n\n                  <List style={{ padding: 8 }}>\n                    <ListItem\n                      style={{ height: 48 }}\n                      button\n                      key=\"FacebookAuthProvider\"\n                      onClick={() => {\n                        setTimeout(() => {\n                          const FacebookAuthProvider =\n                            new firebase.auth.FacebookAuthProvider();\n                          try {\n                            firebase\n                              .auth()\n                              .signInWithPopup(FacebookAuthProvider);\n                          } catch (err) {\n                            alert(\"Error13... Please try again.\");\n                          }\n                        }, 50);\n                      }}\n                    >\n                      <ListItemIcon style={{ minWidth: 35, height: 26 }}>\n                        <img\n                          src={logoFaceBook}\n                          style={{ width: 20, margin: 3 }}\n                        />\n                      </ListItemIcon>\n                      <ListItemText primary={text.facebook} />\n                    </ListItem>\n                  </List>\n                </>\n              ) : (\n                <List>\n                  <ListItem\n                    style={{\n                      flexDirection: \"row\",\n                      padding: signInPadding,\n                      marginLeft: 6,\n                      height: 48,\n                    }}\n                    button\n                    key=\"open-auth-providers\"\n                    onClick={() => {\n                      modal.show();\n                    }}\n                    onTouchStart={() => {\n                      modal.show();\n                    }}\n                  >\n                    <ListItemText\n                      primary=\"Sign&nbsp;in&nbsp;with\"\n                      style={{ marginRight: 5 }}\n                    />\n                    <div id=\"open-auth-providers\">\n                      <ListItemIcon style={{ minWidth: 35, height: 24 }}>\n                        <img src={logoGmail} style={{ width: 15, margin: 3 }} />\n                        <img\n                          src={logoGithub}\n                          style={{ width: 15, margin: 3 }}\n                        />\n                        <img\n                          src={logoFaceBook}\n                          style={{ width: 15, margin: 3 }}\n                        />\n                      </ListItemIcon>\n                    </div>\n                  </ListItem>\n                </List>\n              )}\n            </>\n          )}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React, { useContext, useReducer } from \"react\";\n\nconst DrawerContext = React.createContext();\n\nexport const useDrawer = () => {\n  return useContext(DrawerContext);\n};\n\nconst SHOW_DRAWER = \"show\";\nconst HIDE_DRAWER = \"hide\";\nconst RESET = \"reset\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_DRAWER: {\n      return { isVisible: true };\n    }\n    case HIDE_DRAWER: {\n      return { ...state, isVisible: false };\n    }\n\n    case RESET: {\n      return { isVisible: false };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const DrawerProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    isVisible: false,\n  });\n\n  const show = () =>\n    dispatch({\n      type: SHOW_DRAWER,\n    });\n  const hide = () => dispatch({ type: HIDE_DRAWER });\n  const reset = () => dispatch({ type: RESET });\n\n  return (\n    <DrawerContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        show,\n        hide,\n        reset,\n      }}\n    >\n      {children}\n    </DrawerContext.Provider>\n  );\n};\n","import { useEffect, useRef } from \"react\";\n\nexport function usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n","import { useState, useEffect } from \"react\";\nimport { bookmarksInterface } from \"../Awesome/bookmarksInterface\";\nimport { useLocalForage } from \"./localForageContext\";\n\ntype MyType = {\n  name: string;\n};\n\ntype MyGroupType = {\n  [key: string]: bookmarksInterface;\n};\nexport const useGetDocFromLocalForage = (\n  key: any\n): [MyGroupType | undefined, any] => {\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(true);\n  const store = useLocalForage();\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        \n        const response = await store.bookmarks.getItem(key);\n        \n        setData(response);\n        setLoading(false);\n      } catch (error) {\n        \n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, [key, store.bookmarks]);\n\n  return [data, loading];\n};\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useFireBaseAuth } from \"../General/Autorization/Context/FireBase\";\nimport firebase from \"firebase/app\";\nimport { useStoreBookmarksToServer } from \"./Context/StoreBookmarksToServer\";\nimport { useStoreBookmarksStateToServer } from \"./Context/StoreBookmarksStatToServer\";\n\nexport const useGetRemoteBookmarksStat = (): any => {\n  const [data, setData] = useState<any>();\n  const [loading, setLoading] = useState(true);\n  const fireBaseAuth = useFireBaseAuth();\n  const storeBookmarksStateToServer = useStoreBookmarksStateToServer() \n\n  const fetchData = useCallback(async () => {\n    //if (fireBaseAuth.isSignIn) {\n      const doc = await firebase\n        .firestore()\n        .collection(\"bookmarks\")\n        .doc(\"stat\")\n        .get();\n        \n      setData(doc.data());\n      setLoading(false);\n    //} else {\n    //  setData(undefined);\n    //  setLoading(false);\n   // }\n  }, [storeBookmarksStateToServer]);\n\n  useEffect(() => {\n    if (fireBaseAuth.loading === true) {\n      return;\n    }\n    fetchData();\n  }, [fetchData, fireBaseAuth]);\n  return [data, loading];\n};\n","import React, { useContext, useState } from \"react\";\n\nconst StoreBookmarksStateToServerContext = React.createContext();\n\nexport const useStoreBookmarksStateToServer = () => {\n  return useContext(StoreBookmarksStateToServerContext);\n};\n\nexport const StoreBookmarksStateToServerProvider = ({ children }) => {\n  const [update, setUpdate] = useState();\n\n  const store = () => {\n    setUpdate({ true: true });\n  };\n\n  return (\n    <StoreBookmarksStateToServerContext.Provider value={{ store }}>\n      {children}\n    </StoreBookmarksStateToServerContext.Provider>\n  );\n};\n","export const CARDS_NUMBER_WHEN_SHOW_SIGN_IN_BAR = 2;","import React, { useContext, useState } from \"react\";\n\nconst MoveCardContext = React.createContext();\n\nexport const useMoveCard = () => {\n  return useContext(MoveCardContext);\n};\nexport const MoveCardProvider = ({ children }) => {\n  const [state, setState] = useState({\n    card: {},\n    fromStackOfIds: [],\n    toStackOfIds: [],\n    toCategoryTitle: \"\",\n  });\n\n  const move = (card, fromStackOfIds, toStackOfIds, toCategoryTitle) =>\n    setState({\n      card,\n      fromStackOfIds,\n      toStackOfIds,\n      toCategoryTitle\n    });\n  const reset = () => {\n    setState({\n      card: {},\n      fromStackOfIds: [],\n      toStackOfIds: [],\n      toCategoryTitle: \"\",\n    });\n  };\n  return (\n    <MoveCardContext.Provider\n      value={{\n        card: state.card,\n        fromStackOfIds: state.fromStackOfIds,\n        toStackOfIds: state.toStackOfIds,\n        toCategoryTitle: state.toCategoryTitle,\n        move: move,\n        reset: reset,\n      }}\n    >\n      {children}\n    </MoveCardContext.Provider>\n  );\n};\n","import React, { useContext, useReducer } from \"react\";\n\nconst MoveCardModalContext = React.createContext();\n\nexport const useMoveCardModal = () => {\n  return useContext(MoveCardModalContext);\n};\n\nconst SHOW_MODAL = \"show\";\nconst HIDE_MODAL = \"hide\";\nconst RESET = \"reset\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_MODAL: {\n      return {\n        isVisible: true,\n        card: action.card,\n        cardId: action.cardId,\n        stackOfIds: action.stackOfIds,\n        categoryTitle: action.categoryTitle,\n        cats: action.cats,\n      };\n    }\n    case HIDE_MODAL: {\n      return { ...state, isVisible: false };\n    }\n\n    case RESET: {\n      return {\n        isVisible: false,\n        card: {},\n        cardId: 0,\n        stackOfIds: [],\n        categoryTitle: [],\n        cats: [],\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const MoveCardModalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    isVisible: false,\n    card: {},\n    cardId: 0,\n    stackOfIds: [],\n    categoryTitle: [],\n    cats: [],\n  });\n\n  const show = (card, cardId, stackOfIds, categoryTitle, cats) =>\n    dispatch({\n      type: SHOW_MODAL,\n      card,\n      cardId,\n      stackOfIds,\n      categoryTitle,\n      cats,\n    });\n  const hide = () => dispatch({ type: HIDE_MODAL });\n  const reset = () => dispatch({ type: RESET });\n\n  return (\n    <MoveCardModalContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        card: state.card,\n        cardId: state.cardId,\n        stackOfIds: state.stackOfIds,\n        categoryTitle: state.categoryTitle,\n        cats: state.cats,\n        show,\n        hide,\n        reset\n      }}\n    >\n      {children}\n    </MoveCardModalContext.Provider>\n  );\n};\n","import React, { useContext, useReducer } from \"react\";\n\nconst EditCardModalContext = React.createContext();\n\nexport const useEditCardModal = () => {\n  return useContext(EditCardModalContext);\n};\n\nconst SHOW_MODAL = \"show\";\nconst HIDE_MODAL = \"hide\";\nconst RESET = \"reset\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_MODAL: {\n      return {\n        isVisible: true,\n        card: action.card,\n        cardId: action.cardId,\n        stackOfIds: action.stackOfIds,\n      };\n    }\n    case HIDE_MODAL: {\n      return { ...state, isVisible: false };\n    }\n\n    case RESET: {\n      return {\n        isVisible: false,\n        card: {},\n        cardId: 0,\n        stackOfIds: [],\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const EditCardModalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    isVisible: false,\n    card: {},\n    cardId: 0,\n    stackOfIds: [],\n  });\n\n  const show = (card, stackOfIds) =>\n    dispatch({\n      type: SHOW_MODAL,\n      card,\n      stackOfIds,\n    });\n  const hide = () => dispatch({ type: HIDE_MODAL });\n  const reset = () => dispatch({ type: RESET });\n\n  return (\n    <EditCardModalContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        card: state.card,\n        cardId: state.cardId,\n        stackOfIds: state.stackOfIds,\n        show,\n        hide,\n        reset\n      }}\n    >\n      {children}\n    </EditCardModalContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst SaveCardContext = React.createContext();\n\nexport const useSaveCard = () => {\n  return useContext(SaveCardContext);\n};\n\nexport const SaveCardProvider = ({ children }) => {\n  const [state, setState] = useState({ card: {}, stackOfIds: [] });\n\n  const save = (card, stackOfIds) => setState({ card, stackOfIds });\n\n  const reset = () => {\n    setState({ card: {}, stackOfIds: [] });\n  };\n\n  return (\n    <SaveCardContext.Provider\n      value={{ card: state.card, stackOfIds: state.stackOfIds, save: save, reset: reset }}\n    >\n      {children}\n    </SaveCardContext.Provider>\n  );\n};\n","import React, { useContext, useReducer } from \"react\";\n\nconst AddCardModalContext = React.createContext();\n\nexport const useAddCardModal = () => {\n  return useContext(AddCardModalContext);\n};\n\nconst SHOW_MODAL = \"show\";\nconst HIDE_MODAL = \"hide\";\nconst RESET = \"reset\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_MODAL: {\n      return {\n        isVisible: true,\n        stackOfIds: action.stackOfIds,\n      };\n    }\n    case HIDE_MODAL: {\n      return { ...state, isVisible: false };\n    }\n    case RESET: {\n      return {\n        isVisible: false,\n        stackOfIds: [],\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const AddCardModalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    isVisible: false,\n    stackOfIds: [],\n  });\n\n  const show = (stackOfIds) =>\n    dispatch({\n      type: SHOW_MODAL,\n      stackOfIds,\n    });\n\n  const hide = () => dispatch({ type: HIDE_MODAL });\n\n  const reset = () => dispatch({ type: RESET });\n\n  return (\n    <AddCardModalContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        stackOfIds: state.stackOfIds,\n        show,\n        hide,\n        reset,\n      }}\n    >\n      {children}\n    </AddCardModalContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst AddCardContext = React.createContext();\n\nexport const useAddCard = () => {\n  return useContext(AddCardContext);\n};\n\nexport const AddCardProvider = ({ children }) => {\n  const [state, setState] = useState({ card: {}, stackOfIds: [] });\n\n  const add = (card, stackOfIds) => setState({ card, stackOfIds });\n\n  const reset = () => {\n    setState({ card: {}, stackOfIds: [] });\n  };\n\n  return (\n    <AddCardContext.Provider\n      value={{ card: state.card, stackOfIds: state.stackOfIds, add: add, reset: reset }}\n    >\n      {children}\n    </AddCardContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst DeleteCardContext = React.createContext();\n\nexport const useDeleteCard = () => {\n  return useContext(DeleteCardContext);\n};\n\nexport const DeleteCardProvider = ({ children }) => {\n  const [state, setState] = useState({ stackOfIds: [], cardId: undefined });\n\n  const del = (stackOfIds, cardId) => {\n    setState({ stackOfIds, cardId });\n  };\n\n  const reset = () => {\n    setState({ stackOfIds: [], cardId: undefined });\n  };\n\n  return (\n    <DeleteCardContext.Provider\n      value={{\n        stackOfIds: state.stackOfIds,\n        cardId: state.cardId,\n        delete: del,\n        reset: reset,\n      }}\n    >\n      {children}\n    </DeleteCardContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst MergeCollectionsContext = React.createContext();\n\nexport const useMergeCollections = () => {\n  return useContext(MergeCollectionsContext);\n};\n\nexport const MergeCollectionsProvider = ({ children }) => {\n  const [counter, setCounter] = useState(0);\n\n  const update = () => {\n    \n    setCounter(counter + 1);\n  };\n\n  return (\n    <MergeCollectionsContext.Provider value={{ counter, update }}>\n      {children}\n    </MergeCollectionsContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst VideoProgressBarContext = React.createContext();\n\nexport const useVideoProgressBar = () => {\n  return useContext(VideoProgressBarContext);\n};\n\nexport const VideoProgressBarProvider = ({ children }) => {\n  const [progress, setProgress] = useState(0);\n\n  const set = (progress) => setProgress(progress);\n\n  return (\n    <VideoProgressBarContext.Provider value={{ progress, set }}>\n      {children}\n    </VideoProgressBarContext.Provider>\n  );\n};\n","import IDataJson from \"../../General/Interfaces/IDataJson\";\n\nexport const getLocalIds = (\n    localData: IDataJson[],\n    listOfSavedIds: any[],\n    listOfSeenIds: any[]\n  ) => {\n    Object.entries(localData).forEach(([k, v]) => {\n      if (v && v.children) {\n        getLocalIds(v.children, listOfSavedIds, listOfSeenIds);\n      } else {\n        if (v.saved) listOfSavedIds.push(v.id);\n        if (v.seen) listOfSeenIds.push(v.id);\n      }\n    });\n  };","import ICollectionNavigation from \"../Interface/ICollectionNavigation\";\n\nexport const navigationToUrlStackOfTitles = (\n  arr: ICollectionNavigation[],\n  stackOfTitles: any[],\n  urlStackOfTitles: any\n) => {\n  Object.entries(arr).forEach(([k, v]) => {\n    if (v.title) {\n      let newstackOfTitles: any[] = [];\n      Array.prototype.push.apply(newstackOfTitles, stackOfTitles);\n      Array.prototype.push.apply(newstackOfTitles, [v.title]);\n      urlStackOfTitles[v.url] = newstackOfTitles;\n      if (v.children) {\n        navigationToUrlStackOfTitles(\n          v.children,\n          newstackOfTitles,\n          urlStackOfTitles\n        );\n      }\n    }\n  });\n};\n","import React, { useContext, useState } from \"react\";\n\nconst GithubStarsContext = React.createContext();\n\nexport const useGithubStars = () => {\n  return useContext(GithubStarsContext);\n};\n\nexport const GithubStarsProvider = ({ children }) => {\n  const [stars, setStars] = useState(0);\n\n  const set = (stars) => setStars(stars);\n\n  return (\n    <GithubStarsContext.Provider value={{ stars, set }}>\n      {children}\n    </GithubStarsContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst ProductHuntVotesContext = React.createContext();\n\nexport const useProductHuntVotes = () => {\n  return useContext(ProductHuntVotesContext);\n};\n\nexport const ProductHuntVotesProvider = ({ children }) => {\n  const [votes, setVotes] = useState(0);\n\n  const set = (votes) => setVotes(votes);\n\n  return (\n    <ProductHuntVotesContext.Provider value={{ votes, set }}>\n      {children}\n    </ProductHuntVotesContext.Provider>\n  );\n};","import { useTheme } from \"@material-ui/core\";\n\nexport const CardsSkeleton = () => {\n  const theme = useTheme();\n  let items = [];\n  for (let i = 0; i < 10; i++) {\n    items.push(\n      <div id=\"skeleton\" key={i}>\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"card-avatar\"></div>\n            <div className=\"header-texts\">\n              <div className=\"header-text-line1\"></div>\n              <div className=\"header-text-line2\"></div>\n            </div>\n          </div>\n          <div>\n            <div className=\"content-line1\"></div>\n            <div className=\"content-line2\"></div>\n            <div className=\"bottom\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  /* for (let i = 0; i < 10; i++) {\n    items.push(\n      <div id=\"skeleton\" key={i}>\n        <div\n          className=\"card\"\n          style={{ height: 174, border: \"1px solid \" + theme.palette.divider }}\n        >\n          <div className=\"xanimate\" style={{ width: \"40%\" }}></div>\n          <br></br>\n          <div className=\"xanimate\"></div>\n          <br></br>\n          <div className=\"xanimate\"></div>\n        </div>\n      </div>\n    );\n  } */\n  return <>{items}</>;\n};\n","export const deleteCardService = (arr, stack, id) => {\n  let newArr = arr[stack[0]];\n  if (undefined !== newArr && undefined !== newArr.children) {\n    let newStack = stack.slice(1);\n    if (undefined !== newStack) {\n      if (stack.length === 1) {\n        const index = newArr.children.findIndex((o) => o && id && o.id === id);\n        //delete newArr.children[index];\n        if (process.env.REACT_APP_DEBUG) console.log('index', index, newArr.children);\n        newArr.children[index].saved = false;\n        newArr.children = newArr.children.filter(function (el) {\n          return el != null;\n        });\n        console.log(\"deleteCardService\", newArr.children[index], stack);\n      } else {\n        deleteCardService(newArr.children, stack.slice(1), id);\n      }\n    }\n  }\n};\n","import React, { useContext, useState } from \"react\";\n\nconst VideoPlayerContext = React.createContext();\n\nexport const useVideoPlayer = () => {\n  return useContext(VideoPlayerContext);\n};\n\nexport const VideoPlayerProvider = ({ children }) => {\n  const [player, setPlayer] = useState();\n\n  const set = (player) => setPlayer(player);\n\n  return (\n    <VideoPlayerContext.Provider value={{ player, set }}>\n      {children}\n    </VideoPlayerContext.Provider>\n  );\n};\n","import { bookmarksInterface } from \"./bookmarksInterface\";\n\nexport const addLocalBokmarks = (\n  localData: any,\n  collection: bookmarksInterface\n) => {\n  if (localData && Object.keys(localData!).length > 0) {\n    Object.entries(collection).forEach(([k, v]) => {\n      if (undefined !== v.url) {\n        if (undefined !== localData[v.url!]) {\n          collection[k].local = true;\n        }\n      }\n    });\n  }\n};\n","const createFullPath = (path, card) => {\n  if (path.length > 0) {\n    return {\n      title: path[0],\n      children: [createFullPath(path.slice(1, path.length), card)],\n    };\n  } else {\n    return card;\n  }\n};\n\nexport const addCard = (\n  path,\n  arr,\n  card,\n  stackOfLocalIds_,\n  setStackOfLocalIds,\n  stackOfLocalIdsFromStorage\n) => {\n  if (process.env.REACT_APP_DEBUG)\n    console.log(\"addCard\", path, arr, stackOfLocalIds_);\n\n  if (undefined !== path[0]) {\n    let found;\n    Object.entries(arr).forEach(([k, v]) => {\n      if (undefined !== v && null !== v && v.title === path[0]) {\n        found = k;\n      }\n    });\n\n    if (found !== undefined) {\n      if (process.env.REACT_APP_DEBUG) console.log('addCard found', found);\n      let newStackOfLocalIds = [];\n      Array.prototype.push.apply(newStackOfLocalIds, stackOfLocalIds_);\n      Array.prototype.push.apply(newStackOfLocalIds, [found]);\n\n      const indx = arr[found].children.findIndex(\n        (el) => undefined !== el.title && undefined === el.id\n      );\n      if (process.env.REACT_APP_DEBUG) console.log('addCard indx', indx);\n\n      if (undefined !== arr[found].children && indx !== -1 && path.length !== 1) {\n        if (process.env.REACT_APP_DEBUG) console.log('addCard arr[found].children', arr[found].children);\n\n        addCard(\n          path.slice(1, path.length),\n          arr[found].children,\n          card,\n          newStackOfLocalIds,\n          (ids) => setStackOfLocalIds(ids),\n          stackOfLocalIdsFromStorage\n        );\n      } else if (path.length === 1) {\n        let contains = Object.values(arr[found].children).some((elem) => {\n          return card.id === elem.id;\n        });\n\n        if (!contains) {\n          let nextId = 0;\n          if (Object.keys(arr[found].children).length > 0) {\n            const lastId = parseInt(\n              Object.keys(arr[found].children)[\n                Object.keys(arr[found].children).length - 1\n              ]\n            );\n            nextId = lastId + 1;\n          }\n\n          arr[found].children[nextId] = card;\n\n          if (process.env.REACT_APP_DEBUG)\n            console.log(\"addCard stackOfLocalIds:::SET\", newStackOfLocalIds);\n          setStackOfLocalIds(newStackOfLocalIds);\n        } else {\n          Object.entries(arr[found].children).forEach(([k, value]) => {\n            if (card.id === value.id) {\n              arr[found].children[k] = card;\n            }\n          });\n          if (process.env.REACT_APP_DEBUG)\n            console.log(\"addCard stackOfLocalIds:::SET\", newStackOfLocalIds);\n          setStackOfLocalIds(newStackOfLocalIds);\n        }\n      } else {\n        arr[found].children.push(createFullPath(path.slice(1), card));\n        if (process.env.REACT_APP_DEBUG)\n          console.log(\"addCard stackOfLocalIds:::SET\", newStackOfLocalIds);\n        setStackOfLocalIds(newStackOfLocalIds);\n      }\n    } else {\n      let nextId = 0;\n      if (Object.keys(arr).length > 0) {\n        const lastId = parseInt(Object.keys(arr)[Object.keys(arr).length - 1]);\n        nextId = lastId + 1;\n      }\n\n      arr[nextId] = createFullPath(path, card);\n\n      let newStackOfLocalIds__ = [];\n      Array.prototype.push.apply(newStackOfLocalIds__, stackOfLocalIds_);\n      newStackOfLocalIds__.push(nextId.toString());\n\n      for (let i = 0; i < path.length; i++) {\n        newStackOfLocalIds__.push(\"0\");\n      }\n\n      if (process.env.REACT_APP_DEBUG)\n        console.log(\"addCard stackOfLocalIds:::SET\", newStackOfLocalIds__);\n      setStackOfLocalIds(newStackOfLocalIds__);\n    }\n  }\n};\n","import { addCard } from \"./addCard\";\nimport { CARDS_NUMBER_WHEN_SHOW_SIGN_IN_BAR } from \"../../../consts\";\n\nexport const handleAddCard = (\n  stackOfLocalIdsFromStorage,\n  setExistsLocal,\n  store,\n  cardData,\n  title,\n  newStackOfTitles,\n  setStackOfLocalIds,\n  showSignInBar,\n  storeUserCollectionToServer,\n  cardsNumberInUserCollection,\n  fireBaseAuth\n) => {\n  if (process.env.REACT_APP_DEBUG)\n    console.log(\"handleAddCard\", stackOfLocalIdsFromStorage, cardData);\n  //enqueueSnackbar(\"Saved. You have 13 cards in your collection\", {\n  //  variant: \"success\",\n  //});\n\n  setExistsLocal(true);\n  //setAnchorEl(null);\n\n  store.userCollection.getItem(\"doc\").then(function (results) {\n    let userCollection = [];\n    if (results) {\n      userCollection = results;\n    }\n    const card = {\n      id: cardData.id,\n      saved: cardData.saved,\n      title: cardData.title,\n      url: cardData.url,\n      avatar: cardData.avatar,\n      license: cardData.license,\n      description: cardData.description,\n      hideDescription: cardData.hideDescription,\n      hideTitleAndDescription: cardData.hideTitleAndDescription,\n      stars: cardData.stars,\n      updatedAt: cardData.updatedAt,\n      createdAt: cardData.createdAt,\n      youtubeId: cardData.youtubeId,\n      start: cardData.start,\n      stop: cardData.stop,\n      gistId: cardData.gistId,\n      gistFile: cardData.gistFile,\n      documentation: cardData.documentation,\n      laboratory: cardData.laboratory,\n      seen: cardData.seen,\n      fullVideo: cardData.fullVideo,\n      source: cardData.source, \n    };\n    let path = [...newStackOfTitles];\n    //path.unshift(props.collectionName);\n\n    if (process.env.REACT_APP_DEBUG) console.log('card:::', card);\n    addCard(\n      path,\n      userCollection,\n      card,\n      [],\n      setStackOfLocalIds,\n      stackOfLocalIdsFromStorage\n    );\n\n    /*   const getCardsNumber = (a, number = 0) => {\n        \n        if (typeof a === \"object\" && a !== null) {\n          for (const [, value] of Object.entries(a)) {\n            if (undefined !== value) {\n              if (undefined !== value.children) {\n                number = getCardsNumber(value.c, number);\n              }\n              if (undefined !== value.title) {\n                number++;\n              }\n            }\n          }\n          return number\n        }\n      }; */\n\n    /* alert.show(\n        \"Saved. You have \" +\n          (cardsNumberInUserCollection.number + 1) +\n          \" cards.\"\n      ); */\n    store.settings.getItem(\"cardsNumberTotal\").then(function (cardsNumber) {\n      if (\n        cardsNumber > CARDS_NUMBER_WHEN_SHOW_SIGN_IN_BAR - 1 &&\n        showSignInBar.status === false &&\n        fireBaseAuth.loading === false &&\n        fireBaseAuth.isSignIn === false\n      ) {\n        showSignInBar.show();\n      }\n      store.settings.setItem(\"cardsNumberTotal\", cardsNumber + 1);\n    });\n\n    store.settings.getItem(\"cardsNumberCurrent\").then(function (cardsNumber) {\n      store.settings.setItem(\"cardsNumberCurrent\", cardsNumber + 1).then(() => {\n        cardsNumberInUserCollection.update();\n      });\n    });\n\n    store.userCollection\n      .setItem(\"doc\", userCollection)\n      .then(() => {\n        //doc.set({ data: JSON.stringify(val) }).then(() => {});\n        storeUserCollectionToServer.store();\n      })\n      .catch(function (err) {});\n  });\n};\n","import React from \"react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MoveOnScrollTopAppBar } from \"../../General/Navigation/MoveOnScrollTopAppBar\";\nimport { Right } from \"../../General/Navigation/TopAppBar/Right\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport function TopAppBar(props) {\n  const classes = useStyles();\n\n\n  return (\n    <MoveOnScrollTopAppBar>\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          Shared\n        </Typography>\n\n        <Right/>\n      </Toolbar>\n    </MoveOnScrollTopAppBar>\n  );\n}\n","import { useState, useEffect, useRef } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { Tabs } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport { useWheelDirection } from \"../Context/WheelDirectionContext\";\nimport { useLocation } from \"react-router-dom\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { TopTabsMenuSkeleton } from \"../TopTabsMenuSkeleton\";\nimport { usePrevious } from \"../usePrevious\";\nimport { useComponentSizes } from \"../Context/ComponentSizesContext\";\nimport { useShowSignInBar } from \"../Context/ShowSignInBarContext\";\nimport { useHashInInitialUrl } from \"../Context/HashInInitialUrlContext\";\nimport { useHashChange } from \"../Context/HashChangeContext\";\nconst pages = [\"/\", \"/browse\", \"/bookmarks\"];\n\nexport function MoveOnScrollTopTabsMenu(props) {\n  const wheelDirection = useWheelDirection();\n  const location = useLocation();\n  const prevScrollTrigger = useRef(true);\n\n  const showSignInBar = useShowSignInBar();\n  const componentSizes = useComponentSizes();\n\n  const hashInInitialUrl = useHashInInitialUrl();\n  const hashChange = useHashChange();\n  const [active, setActive] = useState(location.pathname);\n\n  const history = useHistory();\n\n  const prev = usePrevious({\n    active,\n  });\n\n  const useTabStyles = makeStyles({\n    root: {\n      justifyContent: \"center\",\n    },\n    scroller: {\n      flexGrow: \"0\",\n    },\n  });\n  const handleChange = (newValue) => {\n    \n\n    setActive(newValue);\n\n    history.push(newValue);\n  };\n\n  useEffect(() => {\n    hashChange.setHash(\"\");\n    hashInInitialUrl.reset();\n\n    if (prev) {\n      return;\n    }\n    \n\n    if (undefined !== pages.find((element) => element === active)) {\n      return;\n    } else if (active === \"/backups\") {\n      \n\n      setActive(false);\n    } else {\n      setActive(\"/browse\");\n    }\n  }, [active]);\n\n  useEffect(() => {\n    prevScrollTrigger.current = wheelDirection.direction;\n  }, [wheelDirection.direction]);\n\n  const theme = useTheme();\n\n  const themeNew = createMuiTheme({\n    palette: theme.palette,\n    overrides: {\n      // Style sheet name ⚛️\n      MuiPaper: {\n        // Name of the rule\n        elevation4: {\n          // Some CSS\n          boxShadow: \"\",\n          clipPath: \"inset(0px 0px -10px)\",\n        },\n      },\n    },\n  });\n  \n\n  const [Styles, setStyles] = useState({\n    position: \"sticky\",\n    transform: \"translateY(0px)\",\n  });\n\n  const classes = useTabStyles();\n  const useStyles = makeStyles({\n    colorPrimary: {\n      backgroundColor: theme.palette.background.default,\n    },\n  });\n\n  useEffect(() => {\n    setStyles((prev) => ({\n      ...prev,\n      transform:\n        \"translateY\" +\n        (showSignInBar.status === false\n          ? 0\n          : componentSizes.topSignInAppBarHeight) +\n        \"px)\",\n    }));\n  }, [componentSizes.topSignInAppBarHeight, showSignInBar.status]);\n\n  const classes0 = useStyles();\n\n  if (\n    undefined === pages.find((element) => element === active) &&\n    active !== false\n  ) {\n    \n\n    return <TopTabsMenuSkeleton />;\n  }\n\n  return (\n    <>\n      <div>\n        <ThemeProvider theme={themeNew}>\n          <AppBar\n            style={Styles}\n            color=\"inherit\"\n            className={classes0.colorPrimary}\n          >\n            <Tabs\n              classes={{ root: classes.root, scroller: classes.scroller }}\n              onChange={(event, newValue) => {\n                handleChange(newValue);\n              }}\n              value={active}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              variant={\"scrollable\"}\n              scrollButtons={\"on\"}\n            >\n              {props.children}\n            </Tabs>\n          </AppBar>\n        </ThemeProvider>\n        <div style={{ display: \"none\" }}></div>\n      </div>\n    </>\n  );\n}\n","import { makeStyles, Tab } from \"@material-ui/core\";\nimport { MoveOnScrollTopTabsMenu } from \"./MoveOnScrollTopTabsMenu\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useLocalForage } from \"../../DataSource/localForageContext\";\nimport { useCardsNumberInUserCollection } from \"../Context/CardsNumberInUserCollectionContext\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: \"6px 13px\",\n  },\n}));\nexport const TopTabsMenu = () => {\n  const store = useLocalForage();\n  const [cardsNumberCurrent, setCardsNumberCurrent] = useState(0);\n  const cardsNumberInUserCollection = useCardsNumberInUserCollection();\n\n  const classes = useStyles();\n  const anchorOrigin = { vertical: \"top\", horizontal: \"left\" };\n\n  useEffect(() => {\n    store.settings.getItem(\"cardsNumberCurrent\").then(function (cardsNumber) {\n      setCardsNumberCurrent(cardsNumber);\n    });\n  }, [cardsNumberInUserCollection]);\n\n  return useMemo(() => {\n    return (\n      <>\n        {console.log(\"Tab\")}\n        <MoveOnScrollTopTabsMenu>\n          <Tab\n            id=\"my-collection-tab\"\n            className={classes.root}\n            label={\n              <Badge\n                badgeContent={cardsNumberCurrent}\n                color=\"secondary\"\n                anchorOrigin={anchorOrigin}\n              >\n                Saved\n              </Badge>\n            }\n            value=\"/\"\n          />\n\n          <Tab id=\"awesome-tab\" label=\"Browse\" value=\"/browse\" />\n          <Tab id=\"bookmarks-tab\" label=\"Bookmarks\" value=\"/bookmarks\" />\n        </MoveOnScrollTopTabsMenu>\n      </>\n    );\n  }, [cardsNumberCurrent]);\n};\n","import { useRef, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport firebase from 'firebase/app';\nimport 'firebase/auth'; \nimport Paper from \"@material-ui/core/Paper\";\nimport { TopAppBar } from \"./Navigation/TopAppBar\";\nimport { TopTabsMenu } from \"../General/Navigation/TopTabsMenu\";\nimport Box from \"@material-ui/core/Box\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { useLocalForage } from \"../DataSource/localForageContext\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport BookmarkBorderIcon from \"@material-ui/icons/BookmarkBorder\";\nimport { useHistory } from \"react-router-dom\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { HorizontalCenterIconAndText } from \"../General/Cards/HorizontalCenterIconAndText\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport moment from \"moment\";\nimport Container from \"@material-ui/core/Container\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\n\nexport default function Shared() {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const store = useLocalForage();\n  const [, setBookmarks] = useState({});\n\n  const [listOfShared, setList] = useState([]);\n  const titleRef = useRef();\n  const urlRef = useRef();\n  const descriptionRef = useRef();\n\n  const doc = firebase\n    .firestore()\n    .collection(\"users\")\n    .doc(\"MdkMWbddc5hyTD6s29AByBzgDTx2\");\n  const history = useHistory();\n\n  const useStyles = makeStyles((theme) => ({\n    action: {\n      marginRight: 0,\n      color: theme.palette.text.secondary,\n    },\n    root: {\n      padding: 16,\n    },\n  }));\n\n  const useStyles2 = makeStyles((theme) => ({\n    root: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n  }));\n  const classes = useStyles();\n  const classes2 = useStyles2();\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleClick = () => {\n    doc.get().then((data) => {\n      const newSharedId = data.data().last_shared_id + 1;\n      \n      doc.collection(\"shared\").doc(newSharedId.toString()).set({\n        title: titleRef.current.value,\n        url: urlRef.current.value,\n        description: descriptionRef.current.value,\n      });\n      doc.update({\n        last_shared_id: newSharedId,\n      });\n    });\n  };\n  \n\n  const handleDeleteCard = (url) => {\n    setAnchorEl(null);\n\n    store.bookmarks.getItem(\"doc\").then(function (bookmarks) {\n      //bookmarks = bookmarks.filter((key) => key !== url);\n      delete bookmarks[url];\n      setBookmarks(bookmarks);\n      store.bookmarks.setItem(\"doc\", bookmarks).then(() => {});\n    });\n  };\n  useEffect(() => {\n    doc\n      .collection(\"shared\")\n      .get()\n      .then((docs) => {\n        let list = [];\n        docs.forEach((singleDoc) => {\n          list.push({\n            id: singleDoc.id,\n            url: singleDoc.data().url,\n            title: singleDoc.data().title,\n            logo: singleDoc.data().logo,\n            source: singleDoc.data().source,\n            author: singleDoc.data().author,\n            bookmarks: singleDoc.data().bookmarks,\n            cards: singleDoc.data().cards,\n            description: singleDoc.data().description,\n            upd: singleDoc.data().upd,\n          });\n        });\n        setList(list);\n      });\n  }, [doc]);\n\n  return (\n    <>\n      <TopAppBar />\n      <TopTabsMenu />\n      <Container\n        maxWidth=\"sm\"\n        style={{\n          paddingLeft: 8,\n          paddingRight: 8,\n          display: \"flex\",\n          flexDirection: \"column\",\n        }}\n      >\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"flex-start\"\n          alignItems=\"stretch\"\n          spacing={1}\n        >\n          {listOfShared && (\n            <>\n              {listOfShared.map((v) => (\n                <>\n                  <Grid item>\n                    <Card className=\"card\" id={\"card\"} variant=\"outlined\">\n                      <Box lineHeight=\"normal\">\n                        <CardHeader\n                          classes={{ action: classes.action }}\n                          titleTypographyProps={{ variant: \"h6\" }}\n                          avatar={\n                            undefined !== v.logo && (\n                              <Avatar\n                                style={{ cursor: \"pointer\" }}\n                                src={v.logo}\n                                onClick={() => history.push(v.source)}\n                              ></Avatar>\n                            )\n                          }\n                          action={\n                            undefined !== v.author && (\n                              <HorizontalCenterIconAndText>\n                                <>\n                                  <span\n                                    onClick={() =>\n                                      window.open(v.source, \"_blank\")\n                                    }\n                                  >\n                                    {v.author}\n                                  </span>\n                                </>\n                              </HorizontalCenterIconAndText>\n                            )\n                          }\n                          title={\n                            <>\n                              <HorizontalCenterIconAndText>\n                                <span onClick={() => history.push(v.url)}>\n                                  {v.title}\n                                </span>\n                              </HorizontalCenterIconAndText>\n                            </>\n                          }\n                          subheader={\n                            undefined !== v.upd && (\n                              <span>\n                                {moment(\n                                  v.upd,\n                                  \"YYYY-MM-DDTHH:mm:ssZ\"\n                                ).fromNow()}\n                              </span>\n                            )\n                          }\n                        />\n                      </Box>\n                      <CardContent classes={{ root: classes2.root }}>\n                        <>{v.description}</>\n                      </CardContent>\n                      <CardActions classes={{ root: classes.root }}>\n                        <>\n                          <Grid\n                            container\n                            justify=\"space-between\"\n                            style={{\n                              justifyContent: \"space-between\",\n                              alignItems: \"flex-end\",\n                            }}\n                          >\n                            <>\n                              <Grid item>\n                                <Grid\n                                  container\n                                  classes={{ container: classes.container }}\n                                >\n                                  {undefined !== v.bookmarks && (\n                                    <HorizontalCenterIconAndText>\n                                      <BookmarkBorderIcon\n                                        style={{\n                                          fontSize: 24,\n                                          paddingRight: 5,\n                                        }}\n                                      />{\" \"}\n                                      {v.bookmarks}\n                                    </HorizontalCenterIconAndText>\n                                  )}\n                                  {undefined !== v.cards && (\n                                    <HorizontalCenterIconAndText>\n                                      <StorageIcon\n                                        style={{\n                                          fontSize: 25,\n                                          paddingRight: 5,\n                                          marginLeft: 10,\n                                        }}\n                                      />\n                                      {v.cards}\n                                    </HorizontalCenterIconAndText>\n                                  )}\n                                  {undefined !== v.url && (\n                                    <HorizontalCenterIconAndText>\n                                      <span\n                                        style={{\n                                          marginLeft: 20,\n                                        }}\n                                      >\n                                        http://knogl.github.io/alex/{v.url}\n                                      </span>\n                                    </HorizontalCenterIconAndText>\n                                  )}\n                                </Grid>\n                              </Grid>\n                              <Grid item>\n                                <Grid container item xs={12} justify=\"flex-end\">\n                                  <VisibilityIcon style={{marginRight:10}}/>\n                                  <MoreVertIcon\n                                    aria-owns={\n                                      Boolean(anchorEl) ? \"menu-appbar\" : null\n                                    }\n                                    aria-haspopup=\"true\"\n                                    onClick={handleMenu}\n                                    color=\"contrast\"\n                                  />\n                                  <Menu\n                                    id=\"menu-appbar\"\n                                    anchorEl={anchorEl}\n                                    anchorOrigin={{\n                                      vertical: \"top\",\n                                      horizontal: \"right\",\n                                    }}\n                                    transformOrigin={{\n                                      vertical: \"top\",\n                                      horizontal: \"right\",\n                                    }}\n                                    open={Boolean(anchorEl)}\n                                    onClose={handleClose}\n                                  >\n                                    <MenuItem\n                                      onClick={() => handleDeleteCard(v.u)}\n                                    >\n                                      Hide\n                                    </MenuItem>\n\n                                    <MenuItem\n                                      onClick={() => handleDeleteCard(v.u)}\n                                    >\n                                      Edit\n                                    </MenuItem>\n                                    <MenuItem\n                                      onClick={() => handleDeleteCard(v.u)}\n                                    >\n                                      Delete\n                                    </MenuItem>\n                                  </Menu>\n                                </Grid>\n                              </Grid>\n                            </>\n                          </Grid>\n                        </>\n                      </CardActions>\n                    </Card>\n                  </Grid>\n                </>\n              ))}\n            </>\n          )}\n          <Paper className={classes.paper}>\n            <form className={classes.root} noValidate autoComplete=\"off\">\n              <div className={classes.root}>\n                <Grid container spacing={3}>\n                  <Grid item xs={12}>\n                    <TextField\n                      inputRef={titleRef}\n                      id=\"standard-basic\"\n                      label=\"Title\"\n                    />\n                  </Grid>\n                  <Grid item xs={12}>\n                    <TextField\n                      inputRef={urlRef}\n                      id=\"standard-basic\"\n                      label=\"Short title\"\n                    />\n                  </Grid>\n                  <Grid item xs={12}>\n                    <TextField\n                      inputRef={descriptionRef}\n                      id=\"standard-basic\"\n                      label=\"Description\"\n                      multiline\n                      rows={4}\n                      variant=\"outlined\"\n                    />\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={handleClick}\n                    >\n                      Primary\n                    </Button>\n                  </Grid>\n                </Grid>\n              </div>\n            </form>\n          </Paper>\n        </Grid>\n      </Container>\n    </>\n  );\n}\n","import React, { useContext, useReducer } from \"react\";\n\nconst AlertContext = React.createContext();\n\nexport const useAlert = () => {\n  return useContext(AlertContext);\n};\n\nconst SHOW_ALERT = \"show\";\nconst HIDE_ALERT = \"hide\";\n\nconst reducer = (state, action) => {\n\n  switch (action.type) {\n    case SHOW_ALERT: {\n      return { ...state, isVisible: true, text: action.text };\n    }\n    case HIDE_ALERT:{\n      return { ...state, isVisible: false };\n    }\n      \n    default:\n      return state;\n  }\n};\n\nexport const AlertProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    isVisible: false,\n    text: \"\",\n  });\n\n  const show = (text) => dispatch({ type: SHOW_ALERT, text });\n  const hide = () => dispatch({ type: HIDE_ALERT });\n\n  return (\n    <AlertContext.Provider\n      value={{\n        isVisible: state.isVisible,\n        text: state.text,\n        show,\n        hide,\n      }}\n    >\n      {children}\n    </AlertContext.Provider>\n  );\n};\n","import  { useState, useEffect } from \"react\";\nimport { useAlert } from \"./AlertContext\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\n\nexport function Alert() {\n  const alert = useAlert();\n  const [open, setOpen] = useState(alert.isVisible);\n  useEffect(() => {\n    setOpen(alert.isVisible);\n  }, [alert]);\n\n  return (\n    <div>\n      <Snackbar\n        id=\"snackRoot\"\n        onWheel={() => {\n          setOpen(false);\n          document.body.scrollTop += 20;\n\n          //scrollTo(document.body, document.body.scrollTop+20, 1)\n          //window.scrollTo({top: document.body.scrollTop+20, behavior: 'smooth'});\n        }}\n        onTouchMove={() => {\n          setOpen(false);\n          document.body.scrollTop += 20;\n          //window.scrollTo({\n          //  top: document.body.scrollTop + 20,\n          //  behavior: \"smooth\",\n          //});\n        }}\n        onTouchCancel={() => {}}\n        onTouchEnd={() => {}}\n        onTouchStart={() => {}}\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n        onClose={() => {\n          setOpen(false);\n        }}\n        open={open}\n        autoHideDuration={5000}\n        message=\"Note archived\"\n      >\n        <MuiAlert elevation={6} variant=\"filled\" severity=\"success\">\n          {alert.text}\n        </MuiAlert>\n      </Snackbar>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MoveOnScrollTopAppBar } from \"../../General/Navigation/MoveOnScrollTopAppBar\";\nimport { Right } from \"../../General/Navigation/TopAppBar/Right\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport function TopAppBar(props) {\n  const classes = useStyles();\n\n\n  return (\n    <MoveOnScrollTopAppBar>\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          Bookmarks\n        </Typography>\n\n        <Right/>\n      </Toolbar>\n    </MoveOnScrollTopAppBar>\n  );\n}\n","import { useState } from \"react\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { IconButton, MenuItem } from \"@material-ui/core\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\n\nexport const MenuButton = ({ id, handleDeleteCard }) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const deleteCard = () => {\n    setAnchorEl(null);\n    handleDeleteCard(id);\n  };\n\n  return (\n    <div>\n      <IconButton onClick={handleMenu}>\n        <MoreVertIcon\n          id={\"open-card-menu-\" + id}\n          aria-owns={Boolean(anchorEl) ? \"menu-appbar\" : null}\n          aria-haspopup=\"true\"\n          color=\"contrast\"\n        />\n      </IconButton>\n      <Menu\n        id=\"menu-appbar\"\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <MenuItem id={\"delete-card-\" + id} onClick={deleteCard}>\n          Delete\n        </MenuItem>\n      </Menu>\n    </div>\n  );\n};\n","import { useEffect, useLayoutEffect, useRef, useState } from \"react\";\nimport BookmarkBorderIcon from \"@material-ui/icons/BookmarkBorder\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\n//const worker = new Worker(\"/thread.worker.js\");\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport { bookmarksInterface } from \"../../Awesome/bookmarksInterface\";\nimport { MenuButton } from \"../../Bookmarks/Cards/CardBottom/MenuButton\";\nimport { CardBottomRight } from \"../../Awesome/Cards/CardBottom/CardBottomRight\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { HorizontalCenterIconAndText } from \"../Cards/HorizontalCenterIconAndText\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLink } from \"@fortawesome/free-solid-svg-icons\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport moment from \"moment\";\nimport Container from \"@material-ui/core/Container\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport { BookmarkButton } from \"../../Awesome/BookmarkButton\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport StarIcon from \"@material-ui/icons/Star\";\nimport { useWindowWidth } from \"../Context/WindowWidthContext\";\nimport { useFireBaseAuth } from \"../Autorization/Context/FireBase\";\nimport { useSignInModal } from \"../Context/SignInModal\";\nimport { v5 as uuidv5 } from \"uuid\";\n\nfunction nFormatter(num: any, digits: any) {\n  var si = [\n    { value: 1, symbol: \"\" },\n    { value: 1e3, symbol: \"k\" },\n    { value: 1e6, symbol: \"M\" },\n    { value: 1e9, symbol: \"G\" },\n    { value: 1e12, symbol: \"T\" },\n    { value: 1e15, symbol: \"P\" },\n    { value: 1e18, symbol: \"E\" },\n  ];\n  var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n  var i;\n  for (i = si.length - 1; i > 0; i--) {\n    if (num >= si[i].value) {\n      break;\n    }\n  }\n  return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\n}\n\ninterface Props {\n  cards: bookmarksInterface;\n  handleDeleteCard?: any;\n  existsLocalSavedInArray_: any;\n  urlStackOfTitles: any;\n  stacksOfLocalIds: any;\n}\nexport const CardsList: React.FC<Props> = ({\n  cards,\n  handleDeleteCard,\n  existsLocalSavedInArray_,\n  urlStackOfTitles,\n  stacksOfLocalIds,\n}) => {\n  const history = useHistory();\n  const windowWidth = useWindowWidth();\n  const theme = useTheme();\n  const fireBaseAuth = useFireBaseAuth();\n  const modal = useSignInModal();\n  const existsLocalSavedInArray = useRef<any[]>([]);\n\n  existsLocalSavedInArray.current = existsLocalSavedInArray_;\n\n  const removeExistsLocalInArray = (cardId: any) => {\n    let clone = existsLocalSavedInArray.current;\n    let index = clone.findIndex((e) => e === cardId);\n    if (index > -1) clone.splice(index, 1);\n    existsLocalSavedInArray.current = clone;\n  };\n\n  const addExistsLocalInArray = (cardId: any) => {\n    let clone = [...existsLocalSavedInArray.current, cardId];\n    existsLocalSavedInArray.current = clone;\n  };\n\n  const useStyles = makeStyles((theme) => ({\n    action: {\n      marginRight: 0,\n      marginLeft: 16,\n      marginTop: 4,\n      color: theme.palette.text.secondary,\n    },\n    root: {\n      padding: 16,\n    },\n    root2: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n    avatar: {\n      alignSelf: \"start\",\n    },\n    media: {\n      height: 155,\n      backgroundColor:\n        theme.palette.type === \"dark\"\n          ? theme.palette.background.default\n          : theme.palette.primary.main,\n      paddingTop: \"56.25%\", // 16:9\n    },\n    card: {\n      position: \"relative\",\n    },\n    overlay: {\n      position: \"absolute\",\n      bottom: \"20px\",\n      left: \"20px\",\n      right: \"20px\",\n      color: \"white\",\n      fontSize: 22,\n    },\n  }));\n\n  const classes = useStyles();\n\n  if (process.env.REACT_APP_DEBUG) console.log('cards', cards); \n  return (\n    <Container\n      maxWidth=\"sm\"\n      style={{\n        paddingLeft: 8,\n        paddingRight: 8,\n        display: \"flex\",\n        flexDirection: \"row\",\n        marginTop: 10,\n        alignItems: \"stretch\",\n      }}\n    >\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"stretch\"\n        spacing={1}\n      > \n        {cards && Object.entries(cards).map(\n          ([k, v]): JSX.Element => (\n            <Grid\n              key={k}\n              item\n              style={{\n                maxWidth: windowWidth.width >= 600 ? 295 : 590,\n                flex: \"100%\",\n              }}\n            >\n              <Card\n                id={\"card-\" + k}\n                variant=\"outlined\"\n                className={classes.card}\n              >\n                <CardActionArea>\n                  <CardMedia\n                    className={classes.media}\n                    image={\n                      v.youtubeId && !v.useTitle\n                        ? \"https://i.ytimg.com/vi/\" +\n                          v.youtubeId +\n                          \"/maxresdefault.jpg\"\n                        : \"\"\n                    }\n                    title={v.title}\n                    onClick={() => history.push(v.url!)}\n                  />\n                  {(!v.youtubeId || v.useTitle) && (\n                    <div\n                      className={classes.overlay}\n                      onClick={() => history.push(v.url!)}\n                    >\n                      {v.title}\n                    </div>\n                  )}\n                </CardActionArea>\n                <CardActions classes={{ root: classes.root }}>\n                  <Grid container>\n                    <Grid item style={{ display: \"flex\", flex: \"100%\" }}>\n                      <Grid\n                        container\n                        justify=\"space-between\"\n                        style={{\n                          justifyContent: \"space-between\",\n                          alignItems: \"flex-end\",\n                          flex: \"100%\",\n                        }}\n                      >\n                        <Grid item>\n                          <Grid container>\n                            <span\n                              style={{\n                                cursor: \"pointer\",\n                                color: theme.palette.text.hint,\n                              }}\n                              onClick={() => history.push(v.url!)}\n                            >\n                              {moment.unix(v.createdAt).fromNow()}\n                            </span>\n                          </Grid>\n                        </Grid>\n                        <Grid item>\n                          <Grid container item xs={12}>\n                            <HorizontalCenterIconAndText>\n                              <span>\n                                <span\n                                  style={{\n                                    cursor: \"pointer\",\n                                    color: theme.palette.text.hint,\n                                  }}\n                                  onClick={() =>\n                                    window.open(v.source, \"_blank\")\n                                  }\n                                >\n                                  {v.author}\n                                </span>\n                              </span>\n                            </HorizontalCenterIconAndText>\n                          </Grid>\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                    <Grid item style={{ display: \"flex\", flex: \"100%\" }}>\n                      <Grid\n                        container\n                        justify=\"space-between\"\n                        style={{\n                          justifyContent: \"space-between\",\n                          alignItems: \"flex-end\",\n                        }}\n                      >\n                        <>\n                          <Grid item>\n                            <Grid container>\n                              {undefined !== v.youtubeLikes &&\n                                !handleDeleteCard && (\n                                  <HorizontalCenterIconAndText\n                                    alignItems={\"flex-end\"}\n                                  >\n                                    <ThumbUpIcon\n                                      style={{\n                                        fontSize: 25,\n                                        paddingRight: 5,\n                                        height: 20,\n                                      }}\n                                    />\n                                    {nFormatter(v.youtubeLikes, 0)}\n                                  </HorizontalCenterIconAndText>\n                                )}\n                              {undefined !== v.githubStars &&\n                                !handleDeleteCard && (\n                                  <HorizontalCenterIconAndText\n                                    alignItems={\"flex-end\"}\n                                  >\n                                    <StarIcon\n                                      style={{\n                                        fontSize: 25,\n                                        paddingRight: 5,\n                                        height: 20,\n                                      }}\n                                    />\n                                    {nFormatter(v.githubStars, 0)}\n                                  </HorizontalCenterIconAndText>\n                                )}\n                              {undefined !== v.cards && (\n                                <HorizontalCenterIconAndText\n                                  alignItems={\"flex-end\"}\n                                >\n                                  <StorageIcon\n                                    style={{\n                                      fontSize: 25,\n                                      paddingRight: 5,\n                                      marginLeft: handleDeleteCard ? 0 : 20,\n                                      height: 20,\n                                    }}\n                                  />\n                                  {v.cards}\n                                </HorizontalCenterIconAndText>\n                              )}\n                            </Grid>\n                          </Grid>\n                          <Grid item>\n                            <Grid container item xs={12}>\n                              <HorizontalCenterIconAndText\n                                marginRight={-12}\n                                marginBottom={-12}\n                              >\n                                {handleDeleteCard ? (\n                                  <MenuButton\n                                    id={k}\n                                    handleDeleteCard={handleDeleteCard}\n                                  />\n                                ) : (\n                                  <CardBottomRight\n                                    existsLocal={\n                                      existsLocalSavedInArray.current.find(\n                                        (e) => e === cards[k].id\n                                      )\n                                        ? true\n                                        : false\n                                    }\n                                    title={cards[k].title}\n                                    card={cards[k]}\n                                    cardsCollection={true}\n                                    newStackOfTitles={\n                                      urlStackOfTitles[cards[k].url!]\n                                    }\n                                    stackOfIds={stacksOfLocalIds[cards[k].id]}\n                                    cardId={cards[k].id}\n                                    flexGrow={0}\n                                    removeExistsLocalInArray={\n                                      removeExistsLocalInArray\n                                    }\n                                    addExistsLocalInArray={\n                                      addExistsLocalInArray\n                                    }\n                                    minWidth={735}\n                                  />\n                                )}\n                              </HorizontalCenterIconAndText>\n                            </Grid>\n                          </Grid>\n                        </>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                </CardActions>\n              </Card>\n            </Grid>\n          )\n        )}\n      </Grid>\n    </Container>\n  );\n};\n","import { useEffect, useLayoutEffect, useState } from \"react\";\nimport BookmarkBorderIcon from \"@material-ui/icons/BookmarkBorder\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Menu from \"@material-ui/core/Menu\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { TopAppBar } from \"./Navigation/TopAppBar\";\nimport { TopTabsMenu } from \"../General/Navigation/TopTabsMenu\";\n//const worker = new Worker(\"/thread.worker.js\");\nimport { useLocalForage } from \"../DataSource/localForageContext\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { HorizontalCenterIconAndText } from \"../General/Cards/HorizontalCenterIconAndText\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLink } from \"@fortawesome/free-solid-svg-icons\";\n\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport moment from \"moment\";\nimport Container from \"@material-ui/core/Container\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport { useTopTranformerTrigger } from \"../General/Context/TopTranformerTriggerContext\";\nimport { useWheelDirection } from \"../General/Context/WheelDirectionContext\";\nimport { useGetDocFromLocalForage } from \"../DataSource/getLocalBookmarks\";\nimport { TopTabsMenuSkeleton } from \"../General/TopTabsMenuSkeleton\";\nimport { CollectionLoader } from \"../Loader/collection\";\nimport { useGetRemoteBookmarks } from \"../DataSource/getRemoteBookmarks\";\nimport { useStoreBookmarksToServer } from \"../DataSource/Context/StoreBookmarksToServer\";\nimport { MenuButton } from \"./Cards/CardBottom/MenuButton\";\nimport { useGetRemoteBookmarksStat } from \"../DataSource/getRemoteBookmarksStat\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport {CardsList} from \"../General/Cards/CardsList\";\n\nexport function Bookmarks() {\n  const [setedUp, setup] = useState(false);\n  const store = useLocalForage();\n  const [bookmarks, setBookmarks] = useState({});\n  const [setedUpBookmarks, setUpBookmarks] = useState(false);\n  const history = useHistory();\n  const wheelDirection = useWheelDirection();\n  const [remoteData, remoteLoading] = useGetRemoteBookmarks(\"doc\");\n  const [localData, localLoading] = useGetDocFromLocalForage(\"doc\");\n  const [\n    remoteBookmarksStat,\n    remoteBookmarksStatLoading,\n  ] = useGetRemoteBookmarksStat();\n  const storeBookmarksToServer = useStoreBookmarksToServer();\n\n  const topTranformerTrigger = useTopTranformerTrigger();\n  const useStyles = makeStyles((theme) => ({\n    action: {\n      marginRight: 0,\n      marginLeft: 16,\n      marginTop: 4,\n      color: theme.palette.text.secondary,\n    },\n    root: {\n      padding: 16,\n    },\n    root2: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n    avatar: {\n      alignSelf: \"start\",\n    },\n  }));\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (localLoading || remoteLoading) {\n      return;\n    }\n    setup(true);\n    if (localData === null || Object.keys(localData).length === 0) {\n      if (remoteData) {\n        \n        setBookmarks(remoteData);\n        setUpBookmarks(true);\n        store.bookmarks.setItem(\"doc\", remoteData);\n      }\n    } else {\n      \n      setBookmarks(localData);\n      setUpBookmarks(true);\n    }\n  }, [store.bookmarks, localLoading, remoteLoading]);\n\n  useEffect(() => {\n    if (\n      !remoteBookmarksStat ||\n      bookmarks === null ||\n      Object.keys(bookmarks).length === 0\n    ) {\n      return;\n    }\n    let clone = { ...bookmarks };\n    Object.entries(clone).map(([k, v]) => {\n      const key = k;\n      const url = key.replace(/[~\\*\\/\\[\\]]/g, \"#\");\n      v.b = remoteBookmarksStat[url] ?? 0;\n    });\n    \n    setBookmarks(clone);\n  }, [\n    remoteBookmarksStat,\n    localData,\n    setedUpBookmarks,\n    storeBookmarksToServer,\n  ]);\n\n  useLayoutEffect(() => {\n    topTranformerTrigger.reset();\n    wheelDirection.setDirection(\"down\");\n  }, []);\n\n  const handleDeleteCard = (url) => {\n    \n    store.bookmarks.getItem(\"doc\").then(function (bookmarks) {\n      let clone = { ...bookmarks };\n      \n      //bookmarks = bookmarks.filter((key) => key !== url);\n      delete clone[url];\n      \n      setBookmarks(clone);\n      \n\n      store.bookmarks.setItem(\"doc\", clone).then(() => {\n        storeBookmarksToServer.remove(url);\n      });\n    });\n  };\n\n  \n\n  \n  if (localLoading || remoteLoading || !setedUp) {\n    return (\n      <>\n        <TopAppBar />\n        <TopTabsMenuSkeleton />\n        <CollectionLoader />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <TopAppBar />\n      <TopTabsMenu />\n      <CardsList cards={bookmarks} handleDeleteCard={handleDeleteCard}/>\n    </>\n  );\n}\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useFireBaseAuth } from \"../General/Autorization/Context/FireBase\";\nimport firebase from 'firebase/app';\n\nexport const useGetRemoteBookmarks = (key) => {\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(true);\n  const fireBaseAuth = useFireBaseAuth();\n\n  const fetchData = useCallback(async () => {\n    if (fireBaseAuth.isSignIn) {\n      const doc = await firebase\n        .firestore()\n        .collection(\"users\")\n        .doc(fireBaseAuth.uid)\n        .collection(\"bookmarks\")\n        .doc(\"doc\")\n        .get();\n\n      setData(JSON.parse(doc.data().data));\n      setLoading(false);\n    } else {\n      setData(undefined);\n      setLoading(false);\n    }\n  }, [fireBaseAuth]);\n\n  useEffect(() => {\n    if (fireBaseAuth.loading === true) {\n      return;\n    }\n    fetchData();\n  }, [fetchData, fireBaseAuth]);\n  return [data, loading];\n};\n","import { useRef } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    margin: \"auto\",\n    maxWidth: 500,\n  },\n  image: {\n    width: 128,\n    height: 128,\n  },\n  img: {\n    margin: \"auto\",\n    display: \"block\",\n    maxWidth: \"100%\",\n    maxHeight: \"100%\",\n  },\n}));\nexport default function SharedCards() {\n  const titleRef = useRef();\n  const classes = useStyles();\n  const handleClick = () => {};\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <form className={classes.root} noValidate autoComplete=\"off\">\n          <div className={classes.root}>\n            <Grid container spacing={3}>\n              <Grid item xs={12}>\n                <TextField\n                  inputRef={titleRef}\n                  id=\"standard-basic\"\n                  label=\"Title\"\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleClick}\n                >\n                  Primary\n                </Button>\n              </Grid>\n            </Grid>\n          </div>\n        </form>\n      </Paper>\n    </div>\n  );\n}\n","export default `\n\nhtml, body {width: auto!important; } \n\n.sticky {\n  position: sticky;\n  top: 150px;\n}\n\n.sticky-container {\n}\n\n.first-sticky-container-margin-top {\n  margin-top: 150px;\n}\n\n.hiddenTitle, .hiddenIds{\n  visibility: hidden;\n  display: none;\n}\n\n.navbar {\n  background-color: #fff;\n  height: 50px;\n  display: none\n}\n.ava{\n  border-radius: 50%;\n  width: 35px;\n  height: 35px;\n  margin-right:10px;\n}\n.ava-container {\n  display: flex;\n  align-items: center;\n  justify-content: left;\n  height: 35px;\n}\n\n.cardBottom ul {\n  padding: 0;\n}\n.cardBottom li {\n  display: flex; align-items: center;\n  float: left;\n  padding-left:15px;\n}\n.cardBottom a {\n  margin-top: 2px;\n  float: left;\n}\n.cardBottom svg {\n  padding-right:3px;\n}\n.logo{\n  font-size: 28px;\n  border-radius: 5px 15px 5px;\n  background: #5576da;\n  width: 36px;\n  padding: 3px 9px 0px 9px;\n}\n\n`;\n","import { useEffect } from \"react\";\nimport { useGetDocFromLocalForage } from \"../DataSource/getLocalCollection\";\nimport { useCardsNumberInUserCollection } from \"./Context/CardsNumberInUserCollectionContext\";\nimport { useShowSignInBar } from \"./Context/ShowSignInBarContext\";\nimport { CARDS_NUMBER_WHEN_SHOW_SIGN_IN_BAR } from \"../consts\";\nimport { useFireBaseAuth } from \"./Autorization/Context/FireBase\";\nimport { useLocalForage } from \"../DataSource/localForageContext\";\n\n/* const getCardsNumber = (a, number = 0) => {\n  if (typeof a === \"object\" && a !== null) {\n    for (const [, value] of Object.entries(a)) {\n      if (undefined !== value && null !== value) {\n        if (undefined !== value.children && null !== value.children) {\n          number = getCardsNumber(value.children, number);\n        }\n        if (undefined !== value.id) {\n          number++;\n        }\n      }\n    }\n    return number;\n  }\n}; */\n\nexport function UpdateInterfaceBasedOnLocalData() {\n  //const cardsNumberInUserCollection = useCardsNumberInUserCollection();\n  const showSignInBar = useShowSignInBar();\n  const fireBaseAuth = useFireBaseAuth();\n  const store = useLocalForage();\n\n  useEffect(() => {\n    if (showSignInBar.status === true) return;\n    /*     let cardsNumber = 0;\n    if (localData) {\n      cardsNumber = getCardsNumber(localData);\n    } */\n\n    //cardsNumberInUserCollection.set(cardsNumber);\n    store.settings.getItem(\"cardsNumberTotal\").then(function (cardsNumber) {\n      \n      if (\n        cardsNumber > CARDS_NUMBER_WHEN_SHOW_SIGN_IN_BAR - 1 &&\n        fireBaseAuth.loading === false &&\n        fireBaseAuth.isSignIn === false\n      ) {\n        showSignInBar.show();\n      }\n    });\n  }, [fireBaseAuth, showSignInBar]);\n\n  return <></>;\n}\n","import React from \"react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { useMoveCard } from \"./Context/MoveCard\";\n\nexport function SelectCategory(props) {\n  \n  const moveCard = useMoveCard();\n  const handleChange = (e) => {\n    let data = e.target.value.split(\"/\");\n    let toStackOfIds = data[0].split(\"-\");\n    let toCategoryTitle;\n    if (toStackOfIds.length > 1) {\n      toCategoryTitle = data[1];\n    }\n    \n\n    \n\n    if (toStackOfIds.length > props.fromStackOfIds.length) {\n      let partForCompare = toStackOfIds.slice(0, props.fromStackOfIds.length);\n\n      const eq = partForCompare.every(\n        (value, index) => Number(value) === Number(props.fromStackOfIds[index])\n      );\n      if (eq) {\n        toStackOfIds[props.fromStackOfIds.length] =\n          Number(toStackOfIds[props.fromStackOfIds.length]) - 1;\n      }\n\n      \n      data[0] = toStackOfIds.join(\"-\");\n    }\n\n    moveCard.move(props.card, props.fromStackOfIds, data[0], toCategoryTitle);\n    props.closeModal();\n    /* props.moveCardHandler(\n      props.card,\n      props.cardId,\n      props.fromStackOfIds,\n      e.target.value\n    );\n    props.closeModal(); */\n    //props.delCardHandler(e.target.value.cardId, e.target.value.fromStackOfIds);\n  };\n\n  return (\n    <FormControl style={{ width: \"100%\" }}>\n      <Select\n        id={\"move-card-select-\" + props.fromStackOfIds.join(\"-\")}\n        value={props.fromStackOfIds.join(\"-\") + \"/\" + props.categoryTitle}\n        onChange={handleChange}\n        style={{ position: \"static\" }}\n      >\n        {props.cats.map((cat) => {\n          return (\n            <MenuItem\n              id={\"move-card-option-\" + cat.stack.join(\"-\")}\n              style={{\n                paddingLeft: cat.spaces * 10 + 10 + \"px\",\n              }}\n              value={cat.stack.join(\"-\") + \"/\" + cat.text.trim()}\n            >\n              {cat.text}\n            </MenuItem>\n          );\n        })}\n      </Select>\n    </FormControl>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { SelectCategory } from \"../SelectCategory\";\nimport { useMoveCardModal } from \"../Context/MoveCardModal\";\n\nexport default function MoveCardModal() {\n  const modal = useMoveCardModal();\n  const [open, setOpen] = useState(modal.isVisible);\n  useEffect(() => {\n    setOpen(modal.isVisible);\n  }, [modal]);\n\n  const handleClose = () => {\n    setOpen(false)\n    modal.reset()\n  };\n\n  return (\n      <Dialog\n        id={\"move-card-modal\"}\n        open={open}\n        onClose={handleClose}\n        disableBackdropClick={true}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Move Card</DialogTitle>\n        <DialogContent>\n          <SelectCategory\n            fromStackOfIds={modal.stackOfIds}\n            card={modal.card}\n            cardId={modal.cardId}\n            categoryTitle={modal.categoryTitle}\n            cats={modal.cats}\n            //moveCardHandler={props.moveCardHandler}\n            closeModal={handleClose}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useEditCardModal } from \"../Context/EditCardModal\";\nimport { useSaveCard } from \"../Context/SaveCard\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\n\nexport default function EditCardModal() {\n  const modal = useEditCardModal();\n  const saveCard = useSaveCard();\n  const [open, setOpen] = useState(false);\n  const [inputValue, setInputValue] = useState(\"\");\n  useEffect(() => {\n    setOpen(modal.isVisible);\n  }, [modal]);\n\n  useEffect(() => {\n    setInputValue(modal.card);\n  }, [modal]);\n\n  const handleClose = () => {\n    setOpen(false);\n    modal.reset() \n    //props.setOpenEditCardModal(false);\n  };\n  const handleSave = () => {\n    const card = {\n      id: modal.card.id,\n      title: titleRef.current.value,\n      description: descriptionRef.current.value,\n      url: urlRef.current.value,\n      ava: avaRef.current.value,\n      license: licenseRef.current.value,\n      upd: updRef.current.value,\n      created: createdRef.current.value,\n      stars: starsRef.current.value,\n    };\n    /* props.editCardHandler(\n      card,\n      props.openEditCardModalParams.cardId,\n      props.openEditCardModalParams.StackOfIds\n    ); */\n\n    saveCard.save(card, modal.stackOfIds);\n    setOpen(false);\n    modal.reset()\n    //props.setOpenEditCardModal(false);\n  };\n\n  const avaRef = useRef();\n  const titleRef = useRef();\n  const descriptionRef = useRef();\n  const urlRef = useRef();\n  const fullDescriptionRef = useRef();\n  const licenseRef = useRef();\n  const updRef = useRef();\n  const createdRef = useRef();\n  const starsRef = useRef();\n\n  const onChangeHandler = (event) => {\n    setInputValue(event.target.value);\n  };\n  /* useEffect(() => {\n    if (props.open === true) {\n      setOpen(true);\n    } else if (props.open === false) {\n      setOpen(false);\n    }\n  }, [props.open]); */\n\n  return (\n      <Dialog\n        id={\"edit-card-modal\"}\n        open={open}\n        onClose={handleClose}\n        disableBackdropClick={true}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Edit Card</DialogTitle>\n        <DialogContent>\n            <TextField\n              required\n              autoFocus\n              id=\"stars\"\n              label=\"stars\"\n              fullWidth\n              inputRef={starsRef}\n              onChange={onChangeHandler}\n              value={undefined !== inputValue ? inputValue.stars : \"\"}\n            />\n            <TextField\n              required\n              autoFocus\n              id=\"upd\"\n              label=\"upd\"\n              fullWidth\n              inputRef={updRef}\n              onChange={onChangeHandler}\n              value={undefined !== inputValue ? inputValue.upd : \"\"}\n            />\n          <TextField\n            required\n            autoFocus\n            id=\"created\"\n            label=\"created\"\n            fullWidth\n            inputRef={createdRef}\n            onChange={onChangeHandler}\n            value={undefined !== inputValue ? inputValue.created : \"\"}\n          />\n          <TextField\n            required\n            autoFocus\n            id=\"license\"\n            label=\"license\"\n            fullWidth\n            inputRef={licenseRef}\n            onChange={onChangeHandler}\n            value={undefined !== inputValue ? inputValue.license : \"\"}\n          />\n          <TextField\n            required\n            autoFocus\n            id=\"ava\"\n            label=\"Ava\"\n            fullWidth\n            inputRef={avaRef}\n            onChange={onChangeHandler}\n            value={undefined !== inputValue ? inputValue.ava : \"\"}\n          />\n          <TextField\n            required\n            autoFocus\n            id=\"name\"\n            label=\"Title\"\n            fullWidth\n            inputRef={titleRef}\n            onChange={onChangeHandler}\n            value={undefined !== inputValue ? inputValue.t : \"\"}\n          />\n          <TextField\n            required\n            autoFocus\n            multiline\n            rows={4}\n            id=\"name\"\n            label=\"Description\"\n            fullWidth\n            inputRef={descriptionRef}\n            onChange={onChangeHandler}\n            value={undefined !== inputValue ? inputValue.description : \"\"}\n          />\n          <TextField\n            required\n            autoFocus\n            id=\"name\"\n            label=\"Url\"\n            fullWidth\n            inputRef={urlRef}\n            onChange={onChangeHandler}\n            value={undefined !== inputValue ? inputValue.url : \"\"}\n          />\n          <TextField\n            required\n            autoFocus\n            multiline\n            rows={4}\n            id=\"name\"\n            label=\"Full Description\"\n            fullWidth\n            inputRef={fullDescriptionRef}\n            onChange={onChangeHandler}\n            value={undefined !== inputValue ? inputValue.fullDescription : \"\"}\n          />\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button id=\"save-card-button\" onClick={handleSave} color=\"primary\">\n              save\n            </Button>\n          </DialogActions>\n        </DialogContent>\n      </Dialog>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useAddCardModal } from \"../Context/AddCardModal\";\nimport { useAddCard } from \"../Context/AddCard\";\nimport { v5 as uuidv5 } from \"uuid\";\n\nexport function AddCardModal() {\n  const modal = useAddCardModal();\n  const addCard = useAddCard();\n  const [open, setOpen] = useState(false);\n  useEffect(() => {\n    setOpen(modal.isVisible);\n  }, [modal]);\n\n  const handleClose = () => {\n    setOpen(false);\n    modal.reset();\n  };\n  const handleCreate = () => {\n    const card = {\n      id: uuidv5(\n        titleRef.current.value + Math.random(),\n        \"51949bf6-e543-411c-a608-30fc1055feec\"\n      ),\n      title: titleRef.current.value,\n      description: descriptionRef.current.value,\n      url: urlRef.current.value,\n    };\n    setOpen(false);\n    addCard.add(card, modal.stackOfIds);\n    modal.reset();\n  };\n\n  const titleRef = useRef();\n  const descriptionRef = useRef();\n  const urlRef = useRef();\n  const fullDescriptionRef = useRef();\n\n  return (\n    <Dialog\n      id={\"add-card-modal\"}\n      open={open}\n      onClose={handleClose}\n      disableBackdropClick={true}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">Add new card</DialogTitle>\n      <DialogContent>\n        <TextField\n          required\n          autoFocus\n          id=\"name\"\n          label=\"Title\"\n          fullWidth\n          inputRef={titleRef}\n        />\n\n        <TextField\n          required\n          autoFocus\n          id=\"name\"\n          multiline\n          label=\"Description\"\n          rows={4}\n          fullWidth\n          inputRef={descriptionRef}\n        />\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          id=\"name\"\n          label=\"Url\"\n          fullWidth\n          inputRef={urlRef}\n        />\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          id=\"name\"\n          label=\"Full description\"\n          rows={7}\n          multiline\n          fullWidth\n          inputRef={fullDescriptionRef}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Cancel\n        </Button>\n        <Button\n          onClick={handleCreate}\n          id={\"create-card-button\"}\n          color=\"primary\"\n        >\n          Create\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\n//import \"localforage-getitems\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useAddCategoryModal } from \"../Context/AddCategoryModal\";\nimport { useAddCategory } from \"../Context/AddCategory\";\n\nexport const AddCategoryModal = () => {\n  const modal = useAddCategoryModal();\n  const addCategory = useAddCategory();\n  const [open, setOpen] = useState(false);\n  useEffect(() => {\n    setOpen(modal.isVisible);\n  }, [modal]);\n\n  const handleClose = () => {\n    setOpen(false);\n    modal.reset()\n  };\n  const handleCreate = () => {\n\n    addCategory.add(titleRef.current.value, modal.stackOfIds, modal.horizontal);\n    /* store.getItem(\"doc\").then(function (value) {\n      let val = value;\n      \n      let to = props.stackId;\n      AddCard(to, val, card);\n      \n      });\n    }); */\n/*     if (props.openAddCategoryModalParams !== false) {\n\n      props.handleAddCategory(\n        props.generalTitleIds.slice(\n          0,\n          parseInt(props.openAddCategoryModalParams)\n        ),\n        titleRef.current.value\n      );\n    } else {\n      props.handleAddCategory(\n        props.generalTitleIds,\n        titleRef.current.value,\n        false\n      );\n    } */\n    setOpen(false);\n    modal.reset()\n    //props.setOpenAddCategoryModal(false);\n  };\n\n  const titleRef = useRef();\n/* \n  useEffect(() => {\n    if (props.open === true) {\n      setOpen(true);\n    } else if (props.open === false) {\n      setOpen(false);\n    }\n  }, [props.open]); */\n\n  return (\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        disableBackdropClick={true}\n        aria-labelledby=\"form-dialog-title\"\n        id={\"add-category-modal\"}\n      >\n        <DialogTitle id=\"form-dialog-title\">\n           Add new category.\n        </DialogTitle>\n        <DialogContent>\n          <TextField\n            required\n            autoFocus\n            id=\"name\"\n            label=\"Title\"\n            fullWidth\n            inputRef={titleRef}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button\n            onClick={handleCreate}\n            color=\"primary\"\n            id=\"create-category-button\"\n          >\n            Create\n          </Button>\n        </DialogActions>\n      </Dialog>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useDeleteCategoryModal } from \"../Context/DeleteCategoryModal\";\nimport { useDeleteCategory } from \"../Context/DeleteCategory\";\n\nexport const DeleteCategoryModal = () => {\n  const modal = useDeleteCategoryModal();\n  const deleteCategory = useDeleteCategory();\n  const [open, setOpen] = useState(false);\n  useEffect(() => {\n    setOpen(modal.isVisible);\n  }, [modal]);\n\n  const [inputValue, setInputValue] = useState(\"\");\n\n  useEffect(() => {\n    setInputValue(modal.title);\n  }, [modal]);\n\n  const handleClose = () => {\n    setOpen(false);\n    modal.reset()\n    //props.setOpenDelCategoryModal(false);\n  };\n  const handleDelete = () => {\n    deleteCategory.delete(modal.stackOfIds);\n    setOpen(false);\n    modal.reset()\n    //props.setOpenDelCategoryModal(false);\n  };\n\n  return (\n      <Dialog\n        id={\"delete-category-modal\"}\n        open={open}\n        onClose={handleClose}\n        disableBackdropClick={true}\n      >\n        <DialogTitle>Delete category</DialogTitle>\n        <DialogContent>\n          <p>{inputValue}</p>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button\n            id=\"delete-category-button\"\n            onClick={handleDelete}\n            color=\"primary\"\n          >\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n  );\n};\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useEditCategoryModal } from \"../Context/EditCategoryModal\";\nimport { useEditCategory } from \"../Context/EditCategory\";\n\nexport const EditCategoryModal = () => {\n  const modal = useEditCategoryModal();\n  const editCategory = useEditCategory();\n  const [open, setOpen] = useState(false);\n  useEffect(() => {\n    setOpen(modal.isVisible);\n  }, [modal]);\n\n  const [inputValue, setInputValue] = useState(\"\");\n\n  useEffect(() => {\n    setInputValue(modal.currentCategoryName);\n  }, [modal]);\n\n  const handleClose = () => {\n    setOpen(false);\n    modal.reset()\n    //props.setOpenEditCategoryModal(false);\n  };\n  const handleCreate = () => {\n\n    /* store.getItem(\"doc\").then(function (value) {\n      let val = value;\n      \n      let to = props.stackId;\n      AddCard(to, val, card);\n      \n      });\n    }); */\n\n\n    editCategory.edit(modal.stackOfIds, titleRef.current.value)\n\n    setOpen(false);\n    modal.reset()\n    //props.setOpenEditCategoryModal(false);\n  };\n\n  const titleRef = useRef();\n  const onChangeHandler = (event) => {\n    setInputValue(event.target.value);\n  };\n\n  return (\n      <Dialog\n        id={\"edit-category-modal\"}\n        open={open}\n        onClose={handleClose}\n        disableBackdropClick={true}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Edit category</DialogTitle>\n        <DialogContent>\n          <TextField\n            required\n            autoFocus\n            id=\"name\"\n            label=\"Title\"\n            fullWidth\n            inputRef={titleRef}\n            onChange={onChangeHandler}\n            value={inputValue}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button\n            id=\"save-category-button\"\n            onClick={handleCreate}\n            color=\"primary\"\n          >\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport logoFaceBook from \"super-tiny-icons/images/svg/facebook.svg\";\nimport logoGmail from \"super-tiny-icons/images/svg/google.svg\";\nimport logoGithub from \"super-tiny-icons/images/svg/github.svg\";\nimport Link from \"@material-ui/core/Link\";\n\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\nimport { useFireBaseAuth } from \"../Autorization/Context/FireBase\";\nimport { makeStyles } from \"@material-ui/core\";\nimport BackupIcon from \"@material-ui/icons/Backup\";\nimport { useHistory } from \"react-router-dom\";\nimport Terms from \"../Terms\";\nimport { firebaseAndGapiAuth } from \"../Autorization/Service/firebaseAndGapi\";\nfunction deleteAllCookies() {\n  var cookies = document.cookie.split(\";\");\n\n  for (var i = 0; i < cookies.length; i++) {\n    var cookie = cookies[i];\n    var eqPos = cookie.indexOf(\"=\");\n    var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n    document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n  }\n}\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: 48,\n  },\n  link: { color: theme.palette.type === \"light\" ? \"black\" : \"white\" },\n}));\n/* global gapi */\n\nexport function General({\n  setOpenBackdrop,\n  setOpen,\n  toggleDarkTheme,\n  theme,\n  modal,\n  showBackups,\n}) {\n  const fireBaseAuth = useFireBaseAuth();\n  const history = useHistory();\n  const classes = useStyles();\n  return (\n    <>\n      <List>\n        <ListItem\n          className={classes.root}\n          button\n          key=\"toggleBrightness\"\n          onClick={() => {\n            setOpenBackdrop(true);\n            setOpen(false);\n            setTimeout(() => {\n              toggleDarkTheme();\n              modal.reset();\n              setOpenBackdrop(false);\n            }, 50);\n          }}\n        >\n          <ListItemIcon>\n            <Brightness4Icon />\n          </ListItemIcon>\n          <ListItemText\n            primary={theme.palette.type === \"light\" ? \"Dark\" : \"Light\"}\n          />\n        </ListItem>\n      </List>\n\n      {fireBaseAuth.isSignIn === true && showBackups ? (\n        <List>\n          <ListItem\n            className={classes.root}\n            button\n            onClick={() => {\n              setOpen(false);\n              setTimeout(() => {\n                history.push(\"/backups\");\n                modal.reset();\n              }, 50);\n            }}\n          >\n            <ListItemIcon>\n              <BackupIcon />\n            </ListItemIcon>\n            <ListItemText primary={\"Backups\"} />\n          </ListItem>\n        </List>\n      ) : (\n        \"\"\n      )}\n\n      <Divider />\n\n      {fireBaseAuth.isSignIn === true ? (\n        <List style={{ paddingTop: 0 }}>\n          <ListItem\n            className={classes.root}\n            button\n            key=\"signOut\"\n            onClick={() => {\n              setOpen(false);\n              setTimeout(() => {\n                try {\n                  //firebase.auth().signOut();\n                  const auth2 = gapi.auth2.getAuthInstance();\n                  auth2.signOut().then(() => {\n                    return firebase.auth().signOut();\n                  });\n                } catch (err) {\n                  alert(\"Error3... Please try again.\");\n                }\n                deleteAllCookies();\n                modal.reset();\n              }, 50);\n            }}\n          >\n            <ListItemIcon>\n              <ExitToAppIcon />\n            </ListItemIcon>\n            <div id=\"drawer-sign-out\">\n              <ListItemText primary=\"Sign out\" />\n            </div>\n          </ListItem>\n        </List>\n      ) : (\n        <>\n          {/* <GoogleLoginButton/>\n              <GithubLoginButton/>\n              <FacebookLoginButton/> */}\n          <List>\n            <ListItem\n              //style={{paddingTop:8, paddingBottom:8}}\n              style={{ height: 48 }}\n              button\n              key=\"GoogleAuthProvider\"\n              onClick={() => {\n                setOpen(false);\n                setTimeout(() => {\n                  try {\n                    firebaseAndGapiAuth();\n                    //const GoogleAuthProvider =\n                    // new firebase.auth.GoogleAuthProvider();\n\n                    //GoogleAuthProvider.addScope(\"profile\");\n                    //GoogleAuthProvider.addScope(\"email\");\n                    //GoogleAuthProvider.addScope(\"https://www.googleapis.com/auth/youtube.readonly\");\n                    ///firebase.auth().signInWithPopup(GoogleAuthProvider);\n                  } catch (err) {\n                    console.log(\"Error4... Please try again.\", err);\n                  }\n                  modal.reset();\n                }, 50);\n              }}\n            >\n              <ListItemIcon style={{ minWidth: 35 }}>\n                <img src={logoGmail} style={{ width: 20, margin: 3 }} />\n              </ListItemIcon>\n              <div id=\"drawer-sign-in-with-google\">\n                <ListItemText primary=\"Sign In with Google\" />\n              </div>\n            </ListItem>\n          </List>\n          <Divider />\n          <List>\n            <ListItem\n              style={{ height: 48 }}\n              button\n              key=\"GithubAuthProvider\"\n              onClick={() => {\n                setOpen(false);\n                setTimeout(() => {\n                  try {\n                    const GithubAuthProvider =\n                      new firebase.auth.GithubAuthProvider();\n                    firebase.auth().signInWithPopup(GithubAuthProvider);\n                  } catch (err) {\n                    alert(\"Error5... Please try again.\");\n                  }\n                  modal.reset();\n                }, 50);\n              }}\n            >\n              <ListItemIcon style={{ minWidth: 35 }}>\n                <img src={logoGithub} style={{ width: 20, margin: 3 }} />\n              </ListItemIcon>\n              <div id=\"drawer-sign-in-with-github\">\n                <ListItemText primary=\"Sign In with Github\" />\n              </div>\n            </ListItem>\n          </List>\n          <Divider />\n          <List>\n            <ListItem\n              style={{ height: 48 }}\n              button\n              key=\"FacebookAuthProvider\"\n              onClick={() => {\n                setOpen(false);\n                setTimeout(() => {\n                  try {\n                    const FacebookAuthProvider =\n                      new firebase.auth.FacebookAuthProvider();\n                    firebase.auth().signInWithPopup(FacebookAuthProvider);\n                  } catch (err) {\n                    alert(\"Error6... Please try again.\");\n                  }\n                  modal.reset();\n                }, 50);\n              }}\n            >\n              <ListItemIcon style={{ minWidth: 35 }}>\n                <img src={logoFaceBook} style={{ width: 20, margin: 3 }} />\n              </ListItemIcon>\n              <div id=\"drawer-sign-in-with-facebook\">\n                <ListItemText primary=\"Sign In with Facebook\" />\n              </div>\n            </ListItem>\n          </List>\n          <Divider />\n          <div style={{ fontSize: 12, padding: \"8px 16px\" }}>\n            <Terms />\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { useDrawer } from \"../Context/Drawer\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\nimport { useFireBaseAuth } from \"../../Autorization/Context/FireBase\";\nimport {\n  Avatar,\n  Backdrop,\n  CircularProgress,\n  Drawer,\n  makeStyles,\n} from \"@material-ui/core\";\nimport BackupIcon from \"@material-ui/icons/Backup\";\nimport { useHistory } from \"react-router-dom\";\nimport { General } from \"../../DrawersGeneral/General\";\nimport { useLocalForage } from \"../../../DataSource/localForageContext\";\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n}));\nexport function MyDrawer(props) {\n  const modal = useDrawer();\n  const [open, setOpen] = useState(false);\n  const fireBaseAuth = useFireBaseAuth();\n  const history = useHistory();\n  const [openBackdrop, setOpenBackdrop] = useState(false);\n  const classes = useStyles();\n  const store = useLocalForage()\n\n  useEffect(() => {\n    setOpen(modal.isVisible);\n  }, [modal]);\n\n  const handleClose = () => {\n    modal.reset();\n  };\n\n  \n\n  return (\n    <>\n      <Drawer anchor=\"right\" open={open} onClose={handleClose}>\n        <div style={{ width: 250 }} role=\"presentation\">\n        </div>{\" \"}\n      </Drawer>\n\n      <Backdrop\n        open={openBackdrop}\n        className={classes.backdrop}\n        style={{\n          backgroundColor:\n            props.theme.palette.type === \"light\" ? \"#000\" : \"#fff\",\n        }}\n      >\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    </>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { useDrawerWithMenu } from \"../Context/Drawer\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\nimport { useFireBaseAuth } from \"../../Autorization/Context/FireBase\";\nimport BookmarkBorderIcon from \"@material-ui/icons/BookmarkBorder\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport FreeBreakfastIcon from \"@material-ui/icons/FreeBreakfast\";\nimport { useHistory } from \"react-router-dom\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { HorizontalCenterIconAndText } from \"../../Cards/HorizontalCenterIconAndText\";\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\nimport { Avatar, Drawer } from \"@material-ui/core\";\nimport { Backdrop, CircularProgress, makeStyles } from \"@material-ui/core\";\nimport BackupIcon from \"@material-ui/icons/Backup\";\nimport { General } from \"../../DrawersGeneral/General\";\nimport { useLocalForage } from \"../../../DataSource/localForageContext\";\nimport { useHashInInitialUrl } from \"../../Context/HashInInitialUrlContext\";\nimport { useHashChange } from \"../../Context/HashChangeContext\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\nimport SettingsIcon from '@material-ui/icons/Settings';\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n}));\nexport function DrawerWithMenu(props) {\n  const modal = useDrawerWithMenu();\n  const store = useLocalForage();\n  const [open, setOpen] = useState(false);\n  const fireBaseAuth = useFireBaseAuth();\n  const history = useHistory();\n  const [openBackdrop, setOpenBackdrop] = useState(false);\n  const [cardsNumberCurrent, setCardsNumberCurrent] = useState(0);\n  const classes = useStyles();\n  const hashInInitialUrl = useHashInInitialUrl();\n  const hashChange = useHashChange();\n  useEffect(() => {\n    setOpen(modal.isVisible);\n  }, [modal]);\n\n  const handleClose = () => {\n    modal.reset();\n  };\n\n  const resetHashes = () => {\n    hashChange.setHash(\"\");\n    hashInInitialUrl.reset();\n  };\n\n  useEffect(() => {\n    store.settings.getItem(\"cardsNumberCurrent\").then(function (cardsNumber) {\n      setCardsNumberCurrent(cardsNumber);\n    });\n  });\n\n  return (\n    <>\n      <Drawer anchor=\"right\" open={open} onClose={handleClose}>\n        <div style={{ width: 250 }} role=\"presentation\">\n          {fireBaseAuth.isSignIn === true && (\n            <div style={{ margin: 16 }}>\n              <Avatar\n                src={fireBaseAuth.userData.photoURL}\n                style={{ marginBottom: 8, width: 45, height: 45 }}\n              />\n              {fireBaseAuth.userData.displayName ?? fireBaseAuth.userData.email}\n            </div>\n          )}\n          <List>\n            <ListItem\n              button\n              onClick={() => {\n                setOpen(false);\n                resetHashes();\n\n                setTimeout(() => {\n                  history.push(\"/\");\n                  modal.reset();\n                }, 50);\n              }}\n            >\n              <ListItemIcon>\n                <div id=\"drawer-with-menu-badge\">\n                  <HomeIcon />\n                </div>\n              </ListItemIcon>\n              <div id=\"drawer-with-menu-my-collection\">\n                <ListItemText primary={\"Home\"} />\n              </div>\n            </ListItem>\n          </List>\n          <List>\n            <ListItem\n              button\n              onClick={() => {\n                setOpen(false);\n                resetHashes();\n\n                setTimeout(() => {\n                  history.push(\"/saved\");\n                  modal.reset();\n                }, 50);\n              }}\n            >\n              <ListItemIcon>\n                <div id=\"drawer-with-menu-badge\">\n                  <Badge badgeContent={cardsNumberCurrent} color=\"secondary\">\n                    <BookmarkIcon />\n                  </Badge>\n                </div>\n              </ListItemIcon>\n              <div id=\"drawer-with-menu-my-collection\">\n                <ListItemText primary={\"Saved\"} />\n              </div>\n            </ListItem>\n          </List>\n\n          <List>\n            <ListItem\n              button\n              onClick={() => {\n                setOpen(false);\n                resetHashes();\n\n                setTimeout(() => {\n                  history.push(\"/browse\");\n                  modal.reset();\n                }, 50);\n              }}\n            >\n              <ListItemIcon>\n                <StorageIcon />\n              </ListItemIcon>\n              <div id=\"drawer-with-menu-browse\">\n                <ListItemText primary={\"Browse\"} />\n              </div>\n            </ListItem>\n          </List>\n\n          <List>\n            <ListItem\n              button\n              onClick={() => {\n                setOpen(false);\n                resetHashes();\n\n                setTimeout(() => {\n                  history.push(\"/settings\");\n                  modal.reset();\n                }, 50);\n              }}\n            >\n              <ListItemIcon>\n                <SettingsIcon />\n              </ListItemIcon>\n              <div id=\"drawer-with-menu-settings\">\n                <ListItemText primary={\"Settings\"} />\n              </div>\n            </ListItem>\n          </List>\n\n          {fireBaseAuth.isSignIn === true ? (\n            <List>\n              <ListItem\n                button\n                onClick={() => {\n                  setOpen(false);\n                  resetHashes();\n                  setTimeout(() => {\n                    history.push(\"/backups\");\n                    modal.reset();\n                  }, 50);\n                }}\n              >\n                <ListItemIcon>\n                  <BackupIcon />\n                </ListItemIcon>\n                <ListItemText primary={\"Backups\"} />\n              </ListItem>\n            </List>\n          ) : (\n            \"\"\n          )}\n\n          <Divider />\n          <General\n            setOpenBackdrop={setOpenBackdrop}\n            setOpen={setOpen}\n            toggleDarkTheme={props.toggleDarkTheme}\n            theme={props.theme}\n            modal={modal}\n            showBackups={false}\n          />\n        </div>\n      </Drawer>\n      <Backdrop\n        open={openBackdrop}\n        className={classes.backdrop}\n        style={{\n          backgroundColor:\n            props.theme.palette.type === \"light\" ? \"#000\" : \"#fff\",\n        }}\n      >\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    </>\n  );\n}\n","import { useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nfunction ScrollToTop({ history, children }) {\n  useEffect(() => {\n    \n    const unlisten = history.listen((location, action) => {\n      \n      if (location.hash === \"\") {\n        window.scrollTo(0, 0);\n      }\n    });\n    return () => {\n      unlisten();\n    };\n  }, [history]);\n\n  return <>{children}</>;\n}\n\nexport default withRouter(ScrollToTop);\n","import { useEffect } from \"react\";\nimport { useFireBaseAuth } from \"../General/Autorization/Context/FireBase\";\nimport { useLocalForage } from \"./localForageContext\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport { useStoreUserCollectionToServer } from \"./Context/StoreUserCollectionToServer\";\nimport { useMergeCollections } from \"./Context/MergeCollectionsContext\";\nimport { useStoreBookmarksToServer } from \"./Context/StoreBookmarksToServer\";\nimport { usePrevious } from \"../General/usePrevious\";\nimport moment from \"moment\";\nimport pako from \"pako\";\nimport { useStoreBookmarksStateToServer } from \"./Context/StoreBookmarksStatToServer\";\n\nconst addIntersectionsWithLocal = (collection, localUserCollection) => {\n  \n  \n  if (undefined !== collection && localUserCollection) {\n    Object.entries(collection).forEach(([k, collectionValue]) => {\n      Object.entries(localUserCollection).forEach(\n        ([k, localUserCollectionValue]) => {\n          \n          \n\n          if (\n            null !== localUserCollectionValue &&\n            null !== collectionValue &&\n            undefined !== collectionValue.title &&\n            collectionValue.title === localUserCollectionValue.title &&\n            undefined === collectionValue.id\n          ) {\n            addIntersectionsWithLocal(\n              collectionValue.children,\n              localUserCollectionValue.children\n            );\n          } else if (\n            null !== collectionValue &&\n            null !== localUserCollectionValue &&\n            undefined !== collectionValue.title &&\n            undefined !== localUserCollectionValue.id\n          ) {\n            const found = collection.find(\n              (card) => card.id === localUserCollectionValue.id\n            );\n            \n            if (undefined === found) {\n              collection.push(localUserCollectionValue);\n            }\n          }\n        }\n      );\n    });\n  }\n};\n\nfunction Uint8ToString(u8a) {\n  var CHUNK_SZ = 0x8000;\n  var c = [];\n  for (var i = 0; i < u8a.length; i += CHUNK_SZ) {\n    c.push(String.fromCharCode.apply(null, u8a.subarray(i, i + CHUNK_SZ)));\n  }\n  return c.join(\"\");\n}\n\nexport const RemoteStorage = () => {\n  \n  const fireBaseAuth = useFireBaseAuth();\n  const storeUserCollectionToServer = useStoreUserCollectionToServer();\n  const storeBookmarksToServer = useStoreBookmarksToServer();\n  const storeBookmarksStateToServer = useStoreBookmarksStateToServer() \n\n  const store = useLocalForage();\n  const mergeCollections = useMergeCollections();\n  const prev = usePrevious({\n    storeUserCollectionToServer,\n    storeBookmarksToServer,\n    fireBaseAuthIsSignIn: fireBaseAuth.isSignIn,\n    fireBaseAuthUid: fireBaseAuth.uid,\n    storeUserCollection: store.userCollection,\n  });\n\n  useEffect(() => {\n    if (!fireBaseAuth.isSignIn || !prev) {\n      return;\n    }\n\n    const db = firebase.firestore();\n    const remoteUserCollection = db\n      .collection(\"users\")\n      .doc(fireBaseAuth.uid)\n      .collection(\"collection\")\n      .doc(\"doc\");\n\n    const remoteBookmarks = db\n      .collection(\"users\")\n      .doc(fireBaseAuth.uid)\n      .collection(\"bookmarks\")\n      .doc(\"doc\");\n\n    const remoteBackups = db\n      .collection(\"users\")\n      .doc(fireBaseAuth.uid)\n      .collection(\"backups\");\n\n    const increment = firebase.firestore.FieldValue.increment(1);\n    const decrement = firebase.firestore.FieldValue.increment(-1);\n\n    const remoteBookmarksStat = db.collection(\"bookmarks\").doc(\"stat\");\n\n    const batch = db.batch();\n\n    if (storeUserCollectionToServer !== prev.storeUserCollectionToServer) {\n      \n\n      store.userCollection.getItem(\"doc\").then(function (result) {\n        if (result) {\n          //\n          //\n          //\n\n          try {\n            \n            remoteUserCollection\n              .set({\n                data: Uint8ToString(pako.deflate(JSON.stringify(result))),\n              })\n              .then(() => {\n                \n              });\n          } catch (e) {\n            \n          }\n        }\n      });\n    } else if (fireBaseAuth.isSignIn !== prev.fireBaseAuthIsSignIn) {\n      \n\n      store.userCollection.getItem(\"doc\").then(function (result) {\n        if (!result) {\n          result = []\n        }\n        remoteUserCollection.get().then((data) => {\n          let returnedTarget;\n          let remoteData = [];\n          try {\n            remoteData = JSON.parse(\n              pako.inflate(\n                Uint8Array.from(\n                  [...data.data().data].map((ch) => ch.charCodeAt())\n                ),\n                { to: \"string\" }\n              )\n            );\n          } catch (error) {\n            \n          }\n\n          let clone = [...result];\n          if (result) {\n            returnedTarget = Object.assign(result, remoteData);\n          } else {\n            returnedTarget = remoteData;\n          }\n\n          \n          addIntersectionsWithLocal(returnedTarget, clone);\n\n          \n\n          try {\n            \n            remoteUserCollection\n              .set({\n                data: Uint8ToString(\n                  pako.deflate(JSON.stringify(returnedTarget))\n                ),\n              })\n              .then(() => {\n                \n              });\n          } catch (e) {\n            \n          }\n\n          remoteBackups\n            .doc(\"list\")\n            .get()\n            .then((list) => {\n              let data = list.data();\n\n              let currentTime = new Date();\n              let dateTimeUnix = moment(currentTime).unix();\n              let dateUnix = moment(currentTime.toDateString()).unix();\n\n              \n\n              if (!data || !(dateUnix in data)) {\n                remoteBackups.doc(dateUnix.toString()).set({\n                  data: Uint8ToString(pako.deflate(JSON.stringify(result))),\n                });\n\n                let newObj = Object.assign(\n                  {\n                    [dateUnix]: { time: dateTimeUnix },\n                  },\n                  data\n                );\n                \n                remoteBackups.doc(\"list\").set(newObj);\n              }\n            });\n\n          \n          store.userCollection.setItem(\"doc\", returnedTarget).then(function () {\n            mergeCollections.update();\n          });\n        });\n      });\n    }\n\n    if (\n      storeBookmarksToServer !== prev.storeBookmarksToServer &&\n      storeBookmarksToServer.collection !== null\n    ) {\n      \n      store.bookmarks.getItem(\"doc\").then(function (result) {\n        \n\n        if (result) {\n\n           db.runTransaction(async (t) => {\n            t.set(remoteBookmarks, { data: JSON.stringify(result) });\n            \n            const collectionName = storeBookmarksToServer.collection.replace(\n            /[~\\*\\/\\[\\]]/g,\n            \"#\"\n            );\n            if (storeBookmarksToServer.action === \"store\") {\n              \n              t.update(remoteBookmarksStat, { [collectionName]: increment });\n            } else if (storeBookmarksToServer.action === \"remove\") {\n              \n              t.update(remoteBookmarksStat, { [collectionName]: decrement });\n            }\n          }).then(()=>{\n            storeBookmarksStateToServer.store() \n          });\n\n          //batch.set(remoteBookmarks, { data: JSON.stringify(result) });\n          //remoteBookmarks.set({ data: JSON.stringify(result) });\n\n/*           if (storeBookmarksToServer.action === \"store\") {\n            \n            batch.update(remoteBookmarksStat, { [collectionName]: increment });\n          } else if (storeBookmarksToServer.action === \"remove\") {\n            \n            batch.update(remoteBookmarksStat, { [collectionName]: decrement });\n          } */\n          //batch.commit();\n        }\n      });\n    } else if (fireBaseAuth.isSignIn !== prev.fireBaseAuthIsSignIn) {\n      store.bookmarks.getItem(\"doc\").then(function (result) {\n        \n        remoteBookmarks.get().then((data) => {\n          let remoteData = [];\n          if (data.data() !== undefined) {\n            remoteData = JSON.parse(data.data().data);\n          }\n\n          let returnedTarget;\n          if (result) {\n            returnedTarget = Object.assign(result, remoteData);\n          } else {\n            returnedTarget = remoteData;\n          }\n\n          remoteBookmarks.set({ data: JSON.stringify(returnedTarget) });\n\n          store.bookmarks.setItem(\"doc\", returnedTarget).then(function () {\n            mergeCollections.update();\n          });\n        });\n      });\n    }\n  }, [\n    storeUserCollectionToServer,\n    storeBookmarksToServer,\n    fireBaseAuth.isSignIn,\n    fireBaseAuth.uid,\n    store.userCollection,\n    store.bookmarks,\n  ]);\n\n  return <></>;\n};\n","import Toolbar from \"@material-ui/core/Toolbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MoveOnScrollTopAppBar } from \"../../General/Navigation/MoveOnScrollTopAppBar\";\nimport { Right } from \"../../General/Navigation/TopAppBar/Right\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport function TopAppBar(props) {\n  const classes = useStyles();\n\n\n  return (\n    <MoveOnScrollTopAppBar>\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          Backups\n        </Typography>\n\n        <Right/>\n      </Toolbar>\n    </MoveOnScrollTopAppBar>\n  );\n}\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useFireBaseAuth } from \"../General/Autorization/Context/FireBase\";\nimport firebase from 'firebase/app';\n\nexport const useGetRemoteBackups = () => {\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(true);\n  const fireBaseAuth = useFireBaseAuth();\n\n  const fetchData = useCallback(async () => {\n    if (fireBaseAuth.isSignIn) {\n      const doc = await firebase\n        .firestore()\n        .collection(\"users\")\n        .doc(fireBaseAuth.uid)\n        .collection(\"backups\")\n        .doc(\"list\")\n        .get();\n\n      setData((doc.data()));\n      \n      setLoading(false);\n    } else {\n      setData(undefined);\n      setLoading(false);\n    }\n  }, [fireBaseAuth]);\n\n  useEffect(() => {\n    if (fireBaseAuth.loading === true) {\n      return;\n    }\n    fetchData();\n  }, [fetchData, fireBaseAuth]);\n  return [data, loading];\n};\n","import { useEffect, useLayoutEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SettingsBackupRestoreIcon from \"@material-ui/icons/SettingsBackupRestore\";\nimport { TopAppBar } from \"./Navigation/TopAppBar\";\nimport { TopTabsMenu } from \"../General/Navigation/TopTabsMenu\";\n//const worker = new Worker(\"/thread.worker.js\");\nimport { useLocalForage } from \"../DataSource/localForageContext\";\nimport moment from \"moment\";\nimport Container from \"@material-ui/core/Container\";\nimport { useTopTranformerTrigger } from \"../General/Context/TopTranformerTriggerContext\";\nimport { useWheelDirection } from \"../General/Context/WheelDirectionContext\";\nimport { TopTabsMenuSkeleton } from \"../General/TopTabsMenuSkeleton\";\nimport { CollectionLoader } from \"../Loader/collection\";\nimport { useGetRemoteBackups } from \"../DataSource/getRemoteBackups\";\nimport { useFireBaseAuth } from \"../General/Autorization/Context/FireBase\";\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\nimport fileSaver from \"file-saver\";\nimport pako from \"pako\";\nimport { Paper } from \"@material-ui/core\";\nimport { config } from \"../firebase.config\";\n\nexport function Backups() {\n  const [setedUp, setup] = useState(false);\n  const store = useLocalForage();\n  const [backups, setBackups] = useState([]);\n  const [setedUpBookmarks, setUpBookmarks] = useState(false);\n  const history = useHistory();\n  const wheelDirection = useWheelDirection();\n  const [remoteData, remoteLoading] = useGetRemoteBackups();\n  const fireBaseAuth = useFireBaseAuth();\n  const topTranformerTrigger = useTopTranformerTrigger();\n\n  useEffect(() => {\n    if (remoteLoading) {\n      return;\n    } else {\n      \n      const ordered = Object.entries(remoteData).sort().reverse();\n      \n\n      setBackups(ordered);\n    }\n  }, [remoteLoading]);\n\n  useLayoutEffect(() => {\n    topTranformerTrigger.reset();\n    wheelDirection.setDirection(\"down\");\n  }, []);\n\n  \n\n  if (remoteLoading) {\n    return (\n      <>\n        <TopAppBar />\n        <CollectionLoader />\n      </>\n    );\n  }\n\n  const restore = (k) => {\n    if (!firebase.apps.length) {\n      firebase.initializeApp({ ...config });\n    }\n    const db = firebase.firestore();\n    const remoteBackups = db\n      .collection(\"users\")\n      .doc(fireBaseAuth.uid)\n      .collection(\"backups\");\n    \n    remoteBackups\n      .doc(k.toString())\n      .get()\n      .then((data) => {\n        let remoteData = JSON.parse(\n          pako.inflate(\n            Uint8Array.from([...data.data().data].map((ch) => ch.charCodeAt())),\n            { to: \"string\" }\n          )\n        );\n\n        store.userCollection.setItem(\"doc\", remoteData).then(function () {\n          history.push(\"/\");\n        });\n      });\n  };\n\n  const download = (k, time) => {\n    if (!firebase.apps.length) {\n      firebase.initializeApp({ ...config });\n    }\n    const db = firebase.firestore();\n    const remoteBackups = db\n      .collection(\"users\")\n      .doc(fireBaseAuth.uid)\n      .collection(\"backups\");\n    \n    remoteBackups\n      .doc(k.toString())\n      .get()\n      .then((data) => {\n        let remoteData = JSON.parse(\n          pako.inflate(\n            Uint8Array.from([...data.data().data].map((ch) => ch.charCodeAt())),\n            { to: \"string\" }\n          )\n        );\n\n        var blob = new Blob([JSON.stringify(remoteData, null, 2)], {\n          type: \"text/plain;charset=utf-8\",\n        });\n        fileSaver.saveAs(blob, time + \"-collection.json\");\n      });\n  };\n\n  return (\n    <>\n      <TopAppBar />\n      <Container\n        maxWidth=\"sm\"\n        style={{\n          paddingLeft: 8,\n          paddingRight: 8,\n          display: \"flex\",\n          flexDirection: \"column\",\n          marginTop: 10,\n        }}\n      >\n        <Paper variant=\"outlined\">\n          <List>\n            {backups.map((k, v) => (\n              <ListItem>\n                <ListItemText\n                  primary={moment.unix(k[1].time).format(\"YYYY-MM-DD HH:mm:ss\")}\n                />\n                <ListItemSecondaryAction>\n                  <IconButton edge=\"end\" onClick={() => restore(k[0])}>\n                    <SettingsBackupRestoreIcon />\n                  </IconButton>\n                  <IconButton\n                    edge=\"end\"\n                    onClick={() =>\n                      download(\n                        k[0],\n                        moment.unix(k[1].time).format(\"YYYY-MM-DD-HH-mm\")\n                      )\n                    }\n                  >\n                    <GetAppIcon />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n            ))}\n          </List>\n        </Paper>\n      </Container>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useSignInModal } from \"../Context/SignInModal\";\nimport firebase from \"firebase/app\";\nimport {\n  FacebookLoginButton,\n  GoogleLoginButton,\n  GithubLoginButton,\n  createButton,\n} from \"react-social-login-buttons\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Link from \"@material-ui/core/Link\";\nimport Terms from \"../Terms\";\n\nexport default function SignInModal() {\n  const modal = useSignInModal();\n  const theme = useTheme();\n  const [open, setOpen] = useState(modal.isVisible);\n  useEffect(() => {\n    \n    setOpen(modal.isVisible);\n  }, [modal]);\n  const useStyles = makeStyles({\n    root: {\n      color: theme.palette.type === \"light\" ? \"black\" : \"white\",\n    },\n  });\n  const classes = useStyles();\n  const handleClose = () => {\n    setOpen(false);\n    modal.reset();\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      disableBackdropClick={true}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogContent>\n        <div>\n          <div id=\"sign-in-with-google\">\n            <GoogleLoginButton\n              style={{ fontSize: 15 }}\n              iconSize={22}\n              text=\"Sign in with Google\"\n              size={40}\n              onClick={() => {\n                setOpen(false);\n                setTimeout(() => {\n                  try {\n                    try {\n                      const GoogleAuthProvider =\n                        new firebase.auth.GoogleAuthProvider();\n                      firebase.auth().signInWithPopup(GoogleAuthProvider);\n                    } catch (err) {\n                      alert(\"Error7... Please try again.\");\n                    }\n                  } catch (err) {\n                    alert(\"Error8... Please try again.\");\n                  }\n                  modal.reset();\n                }, 50);\n              }}\n            />\n          </div>\n          <div id=\"sign-in-with-github\">\n            <GithubLoginButton\n              style={{ fontSize: 15 }}\n              iconSize={22}\n              text=\"Sign in with Github\"\n              size={40}\n              onClick={() => {\n                setOpen(false);\n                setTimeout(() => {\n                  try {\n                    const GithubAuthProvider =\n                      new firebase.auth.GithubAuthProvider();\n                    firebase.auth().signInWithPopup(GithubAuthProvider);\n                  } catch (err) {\n                    alert(\"Error9... Please try again.\");\n                  }\n                  modal.reset();\n                }, 50);\n              }}\n            />\n          </div>\n          <div id=\"sign-in-with-facebook\">\n            <FacebookLoginButton\n              style={{ fontSize: 15 }}\n              iconSize={22}\n              text=\"Sign in with Facebook\"\n              size={40}\n              onClick={() => {\n                setOpen(false);\n                setTimeout(() => {\n                  try {\n                    const FacebookAuthProvider =\n                      new firebase.auth.FacebookAuthProvider();\n                    firebase.auth().signInWithPopup(FacebookAuthProvider);\n                  } catch (err) {\n                    alert(\"Error10... Please try again.\");\n                  }\n                  modal.reset();\n                }, 50);\n              }}\n            />\n          </div>\n          <div style={{ maxWidth: 200, fontSize: 10, padding: \"0px 5px\" }}>\n            <Terms />\n          </div>\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} classes={classes}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useContext, useState } from \"react\";\n\nconst StoreVotingStatsToServerContext = React.createContext();\n\nexport const useStoreVotingStatsToServer = () => {\n  return useContext(StoreVotingStatsToServerContext);\n};\n\nexport const StoreVotingStatsToServerProvider = ({ children }) => {\n  const [update, setUpdate] = useState();\n\n  const store = () => {\n    setUpdate({ true: true });\n  };\n\n  return (\n    <StoreVotingStatsToServerContext.Provider value={{ store }}>\n      {children}\n    </StoreVotingStatsToServerContext.Provider>\n  );\n};\n","import IDataJson from \"../Interfaces/IDataJson\";\n\nexport const findStacksOfIdsForCardsCollections = (\n    localData: IDataJson[],\n    stackOfLocalIds: any[],\n    stacksOfLocalIds: any\n  ): any => {\n    if (process.env.REACT_APP_DEBUG)\n      console.log(\"findStackOfIdsForCardsCollection\", localData, stackOfLocalIds);\n    Object.entries(localData).forEach(([k, v]) => {\n      //Object.entries(localData).forEach(([k, v]) => {\n      if (process.env.REACT_APP_DEBUG) console.log(\"k,v\", k, v);\n      let newLocalStackOfIds: any[] = [];\n      Array.prototype.push.apply(newLocalStackOfIds, stackOfLocalIds);\n      Array.prototype.push.apply(newLocalStackOfIds, [k]);\n  \n      if (v.id) {\n        stacksOfLocalIds[v.id] = newLocalStackOfIds.slice(0, -1);\n      } else if (v.children) {\n        findStacksOfIdsForCardsCollections(\n          v.children,\n          newLocalStackOfIds,\n          stacksOfLocalIds\n        );\n      }\n    });\n  };\n  ","import { useTheme } from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\nimport Card from \"@material-ui/core/Card\";\nimport Container from \"@material-ui/core/Container\";\nimport Link from \"@material-ui/core/Link\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useEffect, useLayoutEffect, useRef, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useStoreBookmarksToServer } from \"../DataSource/Context/StoreBookmarksToServer\";\nimport { useGetDocFromLocalForage } from \"../DataSource/getLocalCollection\";\nimport { useGetRemoteBookmarksStat } from \"../DataSource/getRemoteBookmarksStat\";\n//const worker = new Worker(\"/thread.worker.js\");\nimport { useLocalForage } from \"../DataSource/localForageContext\";\nimport { useFetch } from \"../DataSource/useFetch\";\nimport { useFireBaseAuth } from \"../General/Autorization/Context/FireBase\";\nimport { CardsList } from \"../General/Cards/CardsList\";\nimport { useSignInModal } from \"../General/Context/SignInModal\";\nimport { useTopTranformerTrigger } from \"../General/Context/TopTranformerTriggerContext\";\nimport { useWheelDirection } from \"../General/Context/WheelDirectionContext\";\nimport { useWindowWidth } from \"../General/Context/WindowWidthContext\";\nimport { findStacksOfIdsForCardsCollections } from \"../General/Service/findStacksOfIdsForCardsCollections\";\nimport { TopTabsMenuSkeleton } from \"../General/TopTabsMenuSkeleton\";\nimport { CollectionLoader } from \"../Loader/collection\";\nimport { addLocalBokmarks } from \"./addLocalBokmarks\";\nimport { bookmarksInterface } from \"./bookmarksInterface\";\nimport { TopAppBar } from \"./Navigation/TopAppBar\";\nimport { getLocalIds } from \"./Service/getLocalIds\";\nimport { navigationToUrlStackOfTitles } from \"./Service/navigationToUrlStackOfTitles\";\n \nfunction nFormatter(num: any, digits: any) {\n  var si = [\n    { value: 1, symbol: \"\" },\n    { value: 1e3, symbol: \"k\" },\n    { value: 1e6, symbol: \"M\" },\n    { value: 1e9, symbol: \"G\" },\n    { value: 1e12, symbol: \"T\" },\n    { value: 1e15, symbol: \"P\" },\n    { value: 1e18, symbol: \"E\" },\n  ];\n  var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n  var i;\n  for (i = si.length - 1; i > 0; i--) {\n    if (num >= si[i].value) {\n      break;\n    }\n  }\n  return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\n}\n\ninterface localBookmarksInterface {\n  [key: string]: {\n    b?: string;\n  };\n}\n\nexport default function CollectionList() {\n  let { user, kit } = useParams<Record<string, string | undefined>>();\n\n  const wheelDirection = useWheelDirection();\n  const topTranformerTrigger = useTopTranformerTrigger();\n  const store = useLocalForage();\n  const [awesome, setAwesome] = useState<bookmarksInterface>({});\n  const awesomeRef = useRef<bookmarksInterface>({});\n  const history = useHistory();\n  const [localData, localLoading] = useGetDocFromLocalForage(\"doc\");\n  const [data, loading] = useFetch(\"/\" + user + \"-\" + kit + \".json\");\n  const [setedUpBookmarks, setUpBookmarks] = useState(false);\n  const storeBookmarksToServer = useStoreBookmarksToServer();\n  const modal = useSignInModal();\n  const fireBaseAuth = useFireBaseAuth();\n  const [topAppBarData, setTopAppBarData] = useState({});\n  const [stacksOfLocalIds, setStacksOfLocalIds] = useState({});\n\n  const windowWidth = useWindowWidth();\n  const theme = useTheme();\n  const existsLocalSavedInArray_ = useRef([]);\n  const [urlStackOfTitles, setUrlStackOfTitles] = useState({});\n  const [remoteBookmarksStat, remoteBookmarksStatLoading] =\n    useGetRemoteBookmarksStat();\n\n  const useStyles = makeStyles((theme) => ({\n    action: {\n      marginRight: 0,\n      marginLeft: 16,\n      marginTop: 4,\n      color: theme.palette.text.secondary,\n    },\n    root: {\n      padding: 16,\n    },\n    root2: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n    avatar: {\n      alignSelf: \"start\",\n    },\n    media: {\n      height: 155,\n      backgroundColor:\n        theme.palette.type === \"dark\"\n          ? theme.palette.background.default\n          : theme.palette.primary.main,\n      paddingTop: \"56.25%\", // 16:9\n    },\n    card: {\n      position: \"relative\",\n    },\n    overlay: {\n      position: \"absolute\",\n      bottom: \"20px\",\n      left: \"20px\",\n      right: \"20px\",\n      color: \"white\",\n      fontSize: 22,\n    },\n  }));\n\n  const classes = useStyles();\n\n  useLayoutEffect(() => {\n    topTranformerTrigger.reset();\n    wheelDirection.setDirection(\"down\");\n  }, []);\n\n  useEffect(() => {\n    if (localLoading) {\n      return;\n    }\n\n    let stackOfLocalIds_: any = {};\n    if (localData && Object.keys(localData).length > 0) {\n      findStacksOfIdsForCardsCollections(localData, [], stackOfLocalIds_);\n      if (process.env.REACT_APP_DEBUG)\n        console.log(\"stacksOfLocalIds:::\", stackOfLocalIds_);\n      setStacksOfLocalIds(stackOfLocalIds_);\n    }\n\n    let collection: bookmarksInterface = {};\n    if (Object.keys(data).length > 0) {\n      let urlStackOfTitles = {};\n      let stackOfTitles: any;\n      navigationToUrlStackOfTitles(\n        data.navigation,\n        stackOfTitles,\n        urlStackOfTitles\n      );\n      if (process.env.REACT_APP_DEBUG)\n        console.log(\"nav urlStackOfTitles\", urlStackOfTitles);\n      setUrlStackOfTitles(urlStackOfTitles);\n\n      collection = data.collections;\n      addLocalBokmarks(localData, collection);\n      setAwesome(collection);\n      awesomeRef.current = collection;\n\n      setTopAppBarData({\n        title: data.title,\n        url: data.url,\n        type: data.type,\n      });\n    }\n  }, [data, store.bookmarks, localLoading]);\n\n  useEffect(() => {\n    if (\n      !remoteBookmarksStat ||\n      awesome === null ||\n      Object.keys(awesome).length === 0\n    ) {\n      return;\n    }\n    let clone = { ...awesome };\n\n    Object.entries(clone).map(([k, v]) => {\n      let url = v.url;\n      url = url?.replace(/[~\\*\\/\\[\\]]/g, \"#\");\n\n      v.bookmarks = remoteBookmarksStat[url!] ?? 0;\n    });\n\n    setAwesome(clone);\n  }, [remoteBookmarksStat, localData, setedUpBookmarks, awesomeRef.current]);\n\n  let listOfSeenIds_: any[] = [];\n  useEffect(() => {\n    if (localData) {\n      getLocalIds(localData, existsLocalSavedInArray_.current, listOfSeenIds_);\n      if (process.env.REACT_APP_DEBUG) console.log(\"localData::::\", localData);\n    }\n  }, [localData, loading]);\n\n  if (loading) {\n    return (\n      <>\n        <TopAppBar />\n        <TopTabsMenuSkeleton />\n        <CollectionLoader />\n      </>\n    );\n  }\n\n  if (process.env.REACT_APP_DEBUG)\n    console.log(\"urlStackOfTitles\", urlStackOfTitles);\n  return (\n    <>\n      <TopAppBar topAppBarData={topAppBarData} />\n      <CardsList\n        cards={awesome}\n        existsLocalSavedInArray_={existsLocalSavedInArray_.current}\n        urlStackOfTitles={urlStackOfTitles}\n        stacksOfLocalIds={stacksOfLocalIds}\n      />\n      <Container\n        maxWidth=\"sm\"\n        style={{\n          paddingLeft: 8,\n          paddingRight: 8,\n          display: \"flex\",\n          flexDirection: \"row\",\n          marginTop: 10,\n          alignItems: \"stretch\",\n        }}\n      >\n        <Card\n          className=\"card\"\n          id={\"card-\"}\n          variant=\"outlined\"\n          style={{ maxWidth: 590 }}\n        >\n          <Box\n            lineHeight=\"normal\"\n            style={{\n              padding: 16,\n              height: 100,\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n            }}\n          >\n            <Typography variant=\"h6\">\n              New collections coming soon.{\" \"}\n              {fireBaseAuth.isSignIn === false && (\n                <>\n                  {\" \"}\n                  <Link\n                    style={{ cursor: \"pointer\" }}\n                    onClick={() => {\n                      modal.show();\n                    }}\n                    onTouchStart={() => {\n                      modal.show();\n                    }}\n                  >\n                    Sign in\n                  </Link>{\" \"}\n                  so you don't miss them!\n                </>\n              )}\n            </Typography>\n          </Box>\n        </Card>\n      </Container>\n    </>\n  );\n}\n","import React from \"react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MoveOnScrollTopAppBar } from \"../../General/Navigation/MoveOnScrollTopAppBar\";\nimport { Right } from \"../../General/Navigation/TopAppBar/Right\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport function TopAppBar(props) {\n  const classes = useStyles();\n\n\n  return (\n    <MoveOnScrollTopAppBar>\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          Kilteron\n        </Typography>\n\n        <Right/>\n      </Toolbar>\n    </MoveOnScrollTopAppBar>\n  );\n}\n","import {\n  Button,\n  Container,\n  Grid,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { gapi, loadAuth2 } from \"gapi-script\";\nimport { useEffect, useRef, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport { useHistory } from \"react-router-dom\";\nimport { useFetch } from \"../DataSource/useFetch\";\nimport { useGoogleApiAuth } from \"../General/Autorization/Context/GoogleApi\";\nimport { firebaseAndGapiAuth } from \"../General/Autorization/Service/firebaseAndGapi\";\nimport { TopAppBar } from \"./Navigation/TopAppBar\";\nimport { CardsList } from \"../General/Cards/CardsList\";\nimport { useGetDocFromLocalForage } from \"../DataSource/getLocalCollection\";\nimport { findStacksOfIdsForCardsCollections } from \"../General/Service/findStacksOfIdsForCardsCollections\";\nimport { getLocalIds } from \"../Awesome/Service/getLocalIds\";\n\n//declare var gapi: any;\n\ninterface likedVideoListInterface {\n  id: any;\n}\nexport function Home() {\n  const history = useHistory();\n  const [youtubeUrl, setYoutubeUrl] = useState(\"\");\n  const [myGAPI, setGAPI] = useState<any>();\n  const handleGoToYoutubeConverter = () => {\n    history.push(\"/y/\" + youtubeUrl);\n  };\n  const googleApiAuth = useGoogleApiAuth();\n  const [stacksOfLocalIds, setStacksOfLocalIds] = useState({});\n  const [urlStackOfTitles, setUrlStackOfTitles] = useState({});\n  const [likedVideo, setLikedVideo] = useState<likedVideoListInterface[]>([]);\n  const [data, loading] = useFetch(\"/new.json\");\n  const [news, setNews] = useState<any>();\n  const [localData, localLoading] = useGetDocFromLocalForage(\"doc\");\n  const existsLocalSavedInArray_ = useRef([]);\n\n  useEffect(() => {\n    if (loading || localLoading) {\n      return;\n    }\n\n    let stackOfLocalIds_: any = {};\n    if (localData && Object.keys(localData).length > 0) {\n      findStacksOfIdsForCardsCollections(localData, [], stackOfLocalIds_);\n      if (process.env.REACT_APP_DEBUG)\n        console.log(\"stacksOfLocalIds:::\", stackOfLocalIds_);\n      setStacksOfLocalIds(stackOfLocalIds_);\n    }\n\n    if (Object.keys(data).length > 0) {\n      setNews(data.collections);\n    }\n  }, [data, loading, localLoading, localData]);\n  if (process.env.REACT_APP_DEBUG) console.log(\"news\", news);\n\n  /*   useEffect(() => {\n    if (process.env.REACT_APP_DEBUG) console.log(\"useEffect\");\n    if (!myGAPI.auth2 || !myGAPI.auth2.getAuthInstance()) {\n      if (process.env.REACT_APP_DEBUG) console.log(\"return\");\n      return;\n    }\n    if (process.env.REACT_APP_DEBUG) console.log(myGAPI.auth2);\n    if (process.env.REACT_APP_DEBUG)\n      console.log(myGAPI.auth2.getAuthInstance());\n\n    const googleAuth = myGAPI.auth2\n      .getAuthInstance()\n      .then(() => {\n        if (process.env.REACT_APP_DEBUG) console.log(\"youtube v3\");\n        return myGAPI.client.load(\"youtube\", \"v3\");\n      })\n      .then(() => {\n        if (process.env.REACT_APP_DEBUG) console.log(\"youtube videos\");\n\n        myGAPI.client.youtube.videos\n          .list({\n            myRating: \"like\",\n            prettyPrint: true,\n          })\n          .then((resp: any) => {\n            console.log(\">>>>>>>>>>>>>\", resp.result.items);\n            setLikedVideo(resp.result.items);\n          });\n      });\n  }, [myGAPI, googleApiAuth]); \n\n  if (gapi && !myGAPI) {\n    setGAPI(gapi);\n  } */\n\n  useEffect(() => {\n    const setAuth2 = async () => {\n      const auth2 = await loadAuth2(\n        gapi,\n        process.env.REACT_APP_CLIENT_ID!,\n        process.env.REACT_APP_SCOPE!\n      );\n      gapi.load(\"client\", () => {\n        if (auth2.isSignedIn.get()) {\n          gapi.client.init({\n            clientId: process.env.REACT_APP_CLIENT_ID!,\n            discoveryDocs: [\n              \"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\",\n            ],\n            scope: process.env.REACT_APP_SCOPE!,\n          });\n          if (process.env.REACT_APP_DEBUG) console.log(\"OK\", gapi, gapi.client);\n\n          gapi.client.load(\"youtube\", \"v3\").then(() => {\n            (gapi.client as any).youtube.videos\n              .list({\n                myRating: \"like\",\n                prettyPrint: true,\n              })\n              .then((resp: any) => {\n                console.log(\">>>>>>>>>>>>>\", resp.result.items);\n                setLikedVideo(resp.result.items);\n              });\n          });\n\n          //updateUser(auth2.currentUser.get())\n        } else {\n          if (process.env.REACT_APP_DEBUG) console.log(\"FALSE\");\n          //attachSignin(document.getElementById('customBtn'), auth2);\n        }\n      });\n    };\n    setAuth2();\n  }, [googleApiAuth]);\n  let listOfSeenIds_: any[] = [];\n  useEffect(() => {\n    if (localData) {\n      getLocalIds(localData, existsLocalSavedInArray_.current, listOfSeenIds_);\n      if (process.env.REACT_APP_DEBUG) console.log(\"localData::::\", localData);\n    }\n  }, [localData, loading]);\n  const signIn = () => {\n    firebaseAndGapiAuth();\n  };\n\n  return (\n    <>\n      <TopAppBar />\n      <div id=\"main\">\n        <Container\n          maxWidth=\"sm\"\n          style={{\n            paddingLeft: 8,\n            paddingRight: 8,\n            display: \"flex\",\n            flexDirection: \"column\",\n            marginTop: 10,\n            textAlign: \"center\",\n          }}\n        >\n          <div style={{ display: \"inline-flex\" }}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Paste Youtube link here\"\n              variant=\"outlined\"\n              placeholder=\"\"\n              onChange={(e) => {\n                setYoutubeUrl(e.target.value);\n              }}\n              style={{ flexGrow: 1 }}\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              style={{ width: 100, marginLeft: 10 }}\n              onClick={handleGoToYoutubeConverter}\n            >\n              Go\n            </Button>\n          </div>\n          <span style={{ fontSize: 20, padding: 10 }}>or</span>\n          {googleApiAuth.isSignIn ? (\n            likedVideo && (\n              <>\n                <Typography variant=\"h4\" gutterBottom>\n                  Videos that you liked\n                </Typography>\n                {likedVideo.map((item) => {\n                  return (\n                    <>\n                      <ReactPlayer\n                        url={\"https://www.youtube.com/watch?v=\" + item.id}\n                        playing={true}\n                        controls={true}\n                        width=\"400\"\n                        height=\"320px\"\n                        light={true}\n                        onClick={() => history.push(\"/y/\" + item.id)}\n                        style={{marginBottom:30}}\n                      />\n                    </>\n                  );\n                })}\n              </>\n            )\n          ) : (\n            <>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{ width: \"100%\", height: 50 }}\n                onClick={() => {\n                  /* firebaseAndGapiAuth(); */\n                  signIn();\n                }}\n              >\n                Select From My Likes\n              </Button>\n            </>\n          )}\n        </Container>\n        <Grid\n          container\n          spacing={0}\n          direction=\"column\"\n          alignItems=\"center\"\n          justify=\"center\"\n          style={{marginTop:30}}\n        >\n          <Grid item style={{ textAlign: \"center\" }}>\n            <Typography variant=\"h4\" gutterBottom>\n              New with timelines\n            </Typography>\n            <CardsList\n              cards={news}\n              existsLocalSavedInArray_={existsLocalSavedInArray_.current}\n              urlStackOfTitles={urlStackOfTitles}\n              stacksOfLocalIds={stacksOfLocalIds}\n            />\n          </Grid>\n        </Grid>\n      </div>\n    </>\n  );\n}\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useFireBaseAuth } from \"../General/Autorization/Context/FireBase\";\nimport firebase from \"firebase/app\";\nimport { useStoreBookmarksToServer } from \"./Context/StoreBookmarksToServer\";\nimport { useStoreBookmarksStateToServer } from \"./Context/StoreBookmarksStatToServer\";\nimport { useStoreVotingStatsToServer } from \"./Context/StoreVotingStatsToServer\";\n\nexport const useGetRemoteVotingStats = (): any => {\n  const [data, setData] = useState<any>();\n  const [loading, setLoading] = useState(true);\n  const fireBaseAuth = useFireBaseAuth();\n  const storeVotingStatsToServer = useStoreVotingStatsToServer() \n\n  const fetchData = useCallback(async () => {\n    //if (fireBaseAuth.isSignIn) {\n      const doc = await firebase\n        .firestore()\n        .collection(\"voting\")\n        .doc(\"stats\")\n        .get();\n      setData(doc.data());\n      setLoading(false);\n    //} else {\n    //  setData(undefined);\n    //  setLoading(false);\n   // }\n  }, [storeVotingStatsToServer]);\n\n  useEffect(() => {\n    if (fireBaseAuth.loading === true) {\n      return;\n    }\n    fetchData();\n  }, [fetchData, fireBaseAuth]);\n  return [data, loading];\n};\n","import React from \"react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MoveOnScrollTopAppBar } from \"../../General/Navigation/MoveOnScrollTopAppBar\";\nimport { Right } from \"../../General/Navigation/TopAppBar/Right\";\nimport { useHistory } from \"react-router-dom\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    display: \"flex\",\n    overflow: \"hidden\",\n  },\n}));\n\nexport function TopAppBar(props) {\n  const classes = useStyles();\n  const history = useHistory();\n\n  return (\n    <MoveOnScrollTopAppBar>\n      <Toolbar>\n        <IconButton\n          edge=\"start\"\n          onClick={() => {\n            history.push(\"/\");\n          }}\n        >\n          <ArrowBackIcon />\n        </IconButton>\n        <Typography variant=\"h6\" className={classes.title}>\n          {props.youtubeData && (\n            <>\n              <span\n                style={{\n                  lineHeight: \"normal\",\n                  display: \"inline-flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"left\",\n                  whiteSpace: \"nowrap\",\n                  overflow: \"hidden\",\n                }}\n              >\n                {props.youtubeData.title}\n              </span>\n              {props.bookmarkIcon}\n            </>\n          )}\n        </Typography>\n\n        <Right />\n      </Toolbar>\n    </MoveOnScrollTopAppBar>\n  );\n}\n","import {\n  Grid,\n  Link,\n  makeStyles,\n  Typography,\n  useTheme,\n} from \"@material-ui/core\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport { useEffect, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport { useHistory, useParams } from \"react-router\";\nimport { v5 as uuidv5 } from \"uuid\";\nimport { CardBottomRight } from \"../Awesome/Cards/CardBottom/CardBottomRight\";\nimport { useStoreVotingStatsToServer } from \"../DataSource/Context/StoreVotingStatsToServer\";\nimport { useGetRemoteVotingStats } from \"../DataSource/getRemoteVotingStats\";\nimport { useFetch } from \"../DataSource/useFetch\";\nimport { config } from \"../firebase.config\";\nimport { useFireBaseAuth } from \"../General/Autorization/Context/FireBase\";\nimport { useComponentSizes } from \"../General/Context/ComponentSizesContext\";\nimport { useShowSignInBar } from \"../General/Context/ShowSignInBarContext\";\nimport { useSignInModal } from \"../General/Context/SignInModal\";\nimport { useWindowWidth } from \"../General/Context/WindowWidthContext\";\nimport { TopAppBar } from \"./Navigation/TopAppBar\";\n\ninterface youtubeDataInterface {\n  title: any;\n  id: any;\n  duration: any;\n}\n\ninterface ratingInterface {\n  [key: string]: {\n    t: any;\n    c: any;\n  };\n}\nif (!firebase.apps.length) {\n  firebase.initializeApp({ ...config });\n}\nconst db = firebase.firestore();\n\nexport function YoutubeConverter() {\n  let { youtubeId } = useParams<Record<string, string | undefined>>();\n  const windowWidth = useWindowWidth();\n  const theme = useTheme();\n  const componentSizes = useComponentSizes();\n  const showSignInBar = useShowSignInBar();\n  const [currentVotingPosition, setCurrentVotingPosition] = useState(0);\n  const [votingList, setVotingList] = useState<any>();\n  const [remoteVotingStats, remoteVotingStatsLoading] =\n    useGetRemoteVotingStats();\n  const [showVotingMessage, setShowVotingMessage] = useState<any>(true);\n  const [existsLocalSavedInArray, setExistsLocalSavedInArray] = useState<any[]>(\n    []\n  );\n  const history = useHistory();\n  const storeVotingStatsToServer = useStoreVotingStatsToServer();\n  const remoteBookmarksStat = db.collection(\"voting\").doc(\"stats\");\n  const increment = firebase.firestore.FieldValue.increment(1);\n  const fireBaseAuth = useFireBaseAuth();\n  const signInModal = useSignInModal();\n  const [voted, setVoted] = useState(false);\n\n  const useStyles = makeStyles((theme) => ({\n    link: {\n      textDecoration: \"underline\",\n      color:\n        windowWidth.width > 1024 && theme.palette.type === \"light\"\n          ? \"white\"\n          : theme.palette.text.primary,\n    },\n  }));\n  const classes = useStyles();\n\n  if (process.env.REACT_APP_DEBUG) console.log(\"theme\", theme);\n  const removeExistsLocalInArray = (cardId: any) => {\n    setExistsLocalSavedInArray((prev) => {\n      let clone = [...prev];\n      let index = clone.findIndex((e) => e === cardId);\n      if (index > -1) clone.splice(index, 1);\n\n      return clone;\n    });\n  };\n\n  const addExistsLocalInArray = (cardId: any) => {\n    setExistsLocalSavedInArray((prev) => {\n      let clone = [...prev, cardId];\n\n      return clone;\n    });\n  };\n  let leftBlockSize = windowWidth.width > 1024 ? 350 : 0;\n  let playerMaxWidth = 800 + 16;\n  let playerHeight = (800 - 16) * 0.5625;\n  //if (windowWidth.width < 800) {\n  playerHeight = (windowWidth.width - leftBlockSize) * 0.5625;\n  //}\n  const [data, loading] = useFetch(\n    \"https://kymano-86800.appspot.com/?id=\" + youtubeId\n  );\n  const [youtubeData, setYoutubeData] = useState<youtubeDataInterface>();\n  useEffect(() => {\n    if (loading) {\n      return;\n    }\n\n    if (process.env.REACT_APP_DEBUG) console.log(\"data\", data);\n\n    if (!data.title) {\n      history.push(\"/\");\n      return;\n    }\n    data.id = uuidv5(data.title, \"b5d1a120-ad90-52a9-8bfd-9cb55c023f55\");\n    data.youtubeId = youtubeId;\n    data.fullVideo = true;\n    data.url = \"/y/\" + youtubeId;\n    data.start = 0;\n    let match = data.duration.match(\n      /PT(?:([0-9]+)H)?(?:([0-9]+)M)?(?:([0-9]+)S)?/\n    );\n    let endTime = 0;\n    if (match[1]) {\n      endTime += parseInt(match[1]) * 3600;\n    }\n    if (match[2]) {\n      endTime += parseInt(match[2]) * 60;\n    }\n    if (match[3]) {\n      endTime += parseInt(match[3]);\n    }\n    data.stop = endTime;\n    setYoutubeData(data);\n  }, [data, loading]);\n\n  let navigationBbColor =\n    theme.palette.type === \"dark\" ? theme.palette.background.paper : \"#3a3a3a\";\n\n  useEffect(() => {\n    if (remoteVotingStatsLoading || !remoteVotingStats) return;\n\n    let list: ratingInterface = remoteVotingStats ?? {};\n    let keysSorted = Object.entries(list!).sort(([, a], [, b]) => b.c - a.c);\n    setCurrentVotingPosition(\n      keysSorted.findIndex((e) => e[0] === youtubeId) + 1\n    );\n\n    setVotingList(keysSorted);\n  }, [remoteVotingStats, remoteVotingStatsLoading]);\n\n  const text = (\n    <>\n      We haven't created an awesome timeline like{\" \"}\n      <Link\n        href=\"#\"\n        onClick={() =>\n          history.push(\"/alex-braine/javascript/full-course-for-beginners\")\n        }\n        className={classes.link}\n      >\n        here\n      </Link>{\" \"}\n      for this video yet 🙄 It is number {currentVotingPosition} on the{\" \"}\n      <Link\n        href=\"#\"\n        onClick={() => setShowVotingMessage(false)}\n        className={classes.link}\n      >\n        waiting list\n      </Link>{\" \"}\n      .{\" \"}\n      {voted === false ? (\n        <>\n          Please{\" \"}\n          <Link\n            href=\"#\"\n            onClick={() => {\n              if (fireBaseAuth.isSignIn === true) {\n                db.runTransaction(async (t) => {\n                  const collectionName: any = youtubeId;\n                  t.update(remoteBookmarksStat, {\n                    [collectionName + \".c\"]: increment,\n                    [collectionName + \".t\"]: youtubeData!.title,\n                  });\n                });\n                storeVotingStatsToServer.store();\n                setVoted(true);\n              } else {\n                signInModal.show();\n              }\n            }}\n            className={classes.link}\n          >\n            vote\n          </Link>{\" \"}\n          to raise it 😎\n        </>\n      ) : (\n        <>You've voted. Thank you!</>\n      )}\n    </>\n  );\n\n  return (\n    <>\n      <TopAppBar\n        youtubeData={youtubeData}\n        bookmarkIcon={\n          <>\n            {youtubeData && (\n              <CardBottomRight\n                existsLocal={\n                  existsLocalSavedInArray.find((e) => e === youtubeData.id)\n                    ? true\n                    : false\n                }\n                title={youtubeData.title}\n                card={youtubeData}\n                newStackOfTitles={[\"No category\"]}\n                stackOfIds={[0]}\n                cardId={youtubeData.id}\n                flexGrow={0}\n                removeExistsLocalInArray={removeExistsLocalInArray}\n                addExistsLocalInArray={addExistsLocalInArray}\n                minWidth={735}\n              />\n            )}\n          </>\n        }\n      />\n      <div\n        id=\"main\"\n        style={{\n          display: \"flex\",\n          flexDirection: windowWidth.width > 1024 ? \"row\" : \"column\",\n          height:\n            \"calc(100% - \" +\n            (componentSizes.topAppBarHeight +\n              (showSignInBar.status === true\n                ? componentSizes.topSignInAppBarHeight\n                : 0)) +\n            \"px)\",\n        }}\n      >\n        {currentVotingPosition !== 1 && (\n          <>\n            {windowWidth.width > 1024 ? (\n              <div\n                style={{\n                  flexGrow: 0,\n                  minWidth: 350,\n                  backgroundColor: navigationBbColor,\n                  display: \"flex\",\n                }}\n              >\n                {showVotingMessage ? (\n                  <span\n                    style={{\n                      maxWidth: 350,\n                      padding: 16,\n                      fontSize: \"1rem\",\n                      color: \"white\",\n                    }}\n                  >\n                    {currentVotingPosition !== 1 && <>{text}</>}\n                  </span>\n                ) : (\n                  <div\n                    style={{\n                      maxWidth: 350,\n                      padding: 16,\n                      fontSize: \"1rem\",\n                      color: \"white\",\n                    }}\n                  >\n                    <ol>\n                      {votingList.map((data: any, i: any) => {\n                        return (\n                          <li>\n                            <Link\n                              href=\"#\"\n                              onClick={() => history.push(\"/y/\" + data[0])}\n                            >\n                              {data[1].t}\n                            </Link>\n                          </li>\n                        );\n                      })}\n                    </ol>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <>\n                <Typography variant=\"body1\" style={{ padding: 8 }}>\n                  {currentVotingPosition !== 1 && <>{text}</>}\n                </Typography>\n              </>\n            )}\n          </>\n        )}\n        <div\n          style={{\n            flexGrow: 1,\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n          }}\n        >\n          <Grid\n            container\n            justify=\"space-between\"\n            style={{\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              flexWrap: \"unset\",\n              height: playerHeight,\n              maxWidth: \"100%\",\n            }}\n          >\n            <ReactPlayer\n              url={\"https://www.youtube.com/watch?v=\" + youtubeId}\n              playing={true}\n              controls={true}\n              width=\"100%\"\n              height=\"100%\"\n            />\n          </Grid>{\" \"}\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MoveOnScrollTopAppBar } from \"../../General/Navigation/MoveOnScrollTopAppBar\";\nimport { Right } from \"../../General/Navigation/TopAppBar/Right\";\nimport { useHistory } from \"react-router-dom\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    display: \"flex\",\n    overflow: \"hidden\",\n  },\n}));\n\nexport function TopAppBar(props) {\n  const classes = useStyles();\n  const history = useHistory();\n\n  return (\n    <MoveOnScrollTopAppBar>\n      <Toolbar>\n        <IconButton\n          edge=\"start\"\n          onClick={() => {\n            history.push(\"/\");\n          }}\n        >\n          <ArrowBackIcon />\n        </IconButton>\n        <Typography variant=\"h6\" className={classes.title}>\n          Settings\n        </Typography>\n        <Right />\n      </Toolbar>\n    </MoveOnScrollTopAppBar>\n  );\n}\n","import { Container } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\nimport { TopAppBar } from \"./Navigation/TopAppBar\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport { config } from \"../firebase.config\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Paper } from \"@material-ui/core\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { useLocalForage } from \"../DataSource/localForageContext\";\n\nif (!firebase.apps.length) {\n  firebase.initializeApp({ ...config });\n}\n\nconst db = firebase.firestore();\n\nexport function MySettings() {\n  const [showLoop, setShowLoop] = useState<any>(false);\n  const store = useLocalForage();\n\n  useEffect(() => {\n    store.settings.getItem(\"loopVideo\").then(function (status: boolean) {\n      if (process.env.REACT_APP_DEBUG) console.log(\"status\", status);\n      setShowLoop(status);\n    });\n  }, []);\n\n  const updShowLoop = (status: boolean) => {\n    setShowLoop(status);\n    store.settings.setItem(\"loopVideo\", status).then(() => {\n\n    });\n  };\n\n  if (process.env.REACT_APP_DEBUG) console.log('showLoop>>>>', showLoop);\n\n  return (\n    <>\n      <TopAppBar />\n\n      <Container\n        maxWidth=\"sm\"\n        style={{\n          paddingLeft: 8,\n          paddingRight: 8,\n          display: \"flex\", \n          flexDirection: \"column\",\n          marginTop: 10,\n        }}\n      >\n        <Paper variant=\"outlined\">\n          <List>\n            <ListItem>\n              <ListItemText primary=\"Loop\" />\n              <ListItemSecondaryAction>\n                  <Switch \n                    checked={showLoop}\n                    onChange={() => updShowLoop(!showLoop)}\n                    name=\"checkedA\"\n                    inputProps={{ \"aria-label\": \"secondary checkbox\" }}\n                  />\n              </ListItemSecondaryAction>\n            </ListItem>\n          </List>\n        </Paper>\n      </Container>\n    </>\n  );\n}\n","import { useEffect, useState, lazy } from \"react\";\nimport \"./index.css\";\nimport Shared from \"./Shared/Index\";\nimport { AlertProvider } from \"./General/AlertContext\";\nimport { Alert } from \"./General/Alert\";\nimport { Bookmarks } from \"./Bookmarks\";\nimport SharedCard from \"./sharedCards\";\nimport styles2 from \"./styles2\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { useLocalForage } from \"./DataSource/localForageContext\";\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport { UpdateInterfaceBasedOnLocalData } from \"./General/UpdateInterfaceBasedOnLocalData\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport MoveCardModal from \"./MyCollection/Cards/Modals/MoveCard\";\nimport EditCardModal from \"./MyCollection/Cards/Modals/EditCard\";\nimport { AddCardModal } from \"./MyCollection/Cards/Modals/AddCard\";\nimport { AddCardModalProvider } from \"./MyCollection/Cards/Context/AddCardModal\";\nimport { MoveCardModalProvider } from \"./MyCollection/Cards/Context/MoveCardModal\";\nimport { MoveCardProvider } from \"./MyCollection/Cards/Context/MoveCard\";\nimport { DeleteCardProvider } from \"./MyCollection/Cards/Context/DeleteCard\";\nimport { EditCardModalProvider } from \"./MyCollection/Cards/Context/EditCardModal\";\nimport { SaveCardProvider } from \"./MyCollection/Cards/Context/SaveCard\";\nimport { AddCardProvider } from \"./MyCollection/Cards/Context/AddCard\";\nimport { AddCategoryModalProvider } from \"./MyCollection/Categories/Context/AddCategoryModal\";\nimport { AddCategoryProvider } from \"./MyCollection/Categories/Context/AddCategory\";\nimport { AddCategoryModal } from \"./MyCollection/Categories/Modals/AddCategory\";\nimport { DeleteCategoryModal } from \"./MyCollection/Categories/Modals/DeleteCategory\";\nimport { DeleteCategoryProvider } from \"./MyCollection/Categories/Context/DeleteCategory\";\nimport { DeleteCategoryModalProvider } from \"./MyCollection/Categories/Context/DeleteCategoryModal\";\nimport { EditCategoryProvider } from \"./MyCollection/Categories/Context/EditCategory\";\nimport { EditCategoryModalProvider } from \"./MyCollection/Categories/Context/EditCategoryModal\";\nimport { EditCategoryModal } from \"./MyCollection/Categories/Modals/EditCategory\";\nimport { DrawerProvider } from \"./General/Drawer/Context/Drawer\";\nimport { Drawer, MyDrawer } from \"./General/Drawer/Modal/Drawer\";\nimport { DrawerWithMenu } from \"./General/DrawerWithMenu/Modal/DrawerWithMenu\";\nimport { DrawerWithMenuProvider } from \"./General/DrawerWithMenu/Context/Drawer\";\nimport ScrollToTop from \"./General/Navigation/ScrollToTop\";\nimport { RemoteStorage } from \"./DataSource/RemoteStorage\";\nimport { StoreUserCollectionToServerProvider } from \"./DataSource/Context/StoreUserCollectionToServer\";\nimport { MergeCollectionsProvider } from \"./DataSource/Context/MergeCollectionsContext\";\nimport { NUMBER_OF_LOADED_COMPONENTS } from \"./General/Loader\";\nimport { VideoPlayerProvider } from \"./General/Cards/Context/VideoPlayerContext\";\nimport { SkeletonLoaderForHashNavigationProvider } from \"./General/Navigation/Context/SkeletonLoaderForHashNavigationContext\";\nimport { StoreBookmarksToServerProvider } from \"./DataSource/Context/StoreBookmarksToServer\";\nimport { Backups } from \"./Backups\";\nimport { GithubStarsProvider } from \"./General/Context/GithubStarsContext\";\nimport { ProductHuntVotesProvider } from \"./General/Context/ProductHuntVotesContext\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport TopSignInAppBar from \"./General/Navigation/TopSignInAppBar\";\nimport { ShowSignInBarProvider } from \"./General/Context/ShowSignInBarContext\";\nimport { SignInModalProvider } from \"./General/Context/SignInModal\";\nimport SignInModal from \"./General/Modal/SignIn\";\nimport AfterUpdate from \"./General/AfterUpdate\";\nimport { StoreBookmarksStateToServerProvider } from \"./DataSource/Context/StoreBookmarksStatToServer\";\nimport { StoreVotingStatsToServerProvider } from \"./DataSource/Context/StoreVotingStatsToServer\";\nimport { VideoProgressBarProvider } from \"./Awesome/Context/VideoProgressBarContext\";\nimport CollectionList from \"./Awesome/CollectionsList\";\nimport { IsPageInTopProvider } from \"./General/Context/IsPageInTopContext\";\nimport { Home } from \"./Home\";\nimport { YoutubeConverter } from \"./YoutubeConverter\";\nimport {MySettings} from \"./Settings/index\";\n\nconst MyCollection = lazy(\n  () =>\n    new Promise(async (resolve) => {\n      const module = await import(\"./MyCollection\");\n      NUMBER_OF_LOADED_COMPONENTS.inc();\n      resolve(module);\n    })\n);\nconst KitsList = lazy(\n  () =>\n    new Promise(async (resolve) => {\n      const module = await import(\"./Awesome/KitsList\");\n      NUMBER_OF_LOADED_COMPONENTS.inc();\n      resolve(module);\n    })\n);\nconst AwesomeSelector = lazy(\n  () =>\n    new Promise(async (resolve) => {\n      const module = await import(\"./Awesome/Selector\");\n      NUMBER_OF_LOADED_COMPONENTS.inc();\n      resolve(module);\n    })\n);\n\nconst disableRipple = {\n  // Name of the component\n  MuiButtonBase: {\n    // The properties to apply\n    disableRipple: true, // No more ripple, on the whole application!\n  },\n};\n\nconst MuiFormLabel = {\n  MuiFormLabel: {\n    asterisk: {\n      color: \"#db3131\",\n      \"&$error\": {\n        color: \"#db3131\",\n      },\n    },\n  },\n};\n\nconst themeTypographyH5 = {\n  fontSize: \"0.6rem\",\n\n  \"@media (min-width:420px)\": {\n    fontSize: \"0.7rem\",\n  },\n  \"@media (min-width:445px)\": {\n    fontSize: \"0.8rem\",\n  },\n  \"@media (min-width:500px)\": {\n    fontSize: \"1rem\",\n  },\n};\n\nconst themeLight = {\n  overrides: MuiFormLabel,\n  palette: {\n    background: {\n      default: \"#fff\",\n      paper: \"#fff\",\n    },\n    primary: {\n      contrastText: \"#000\",\n      main: \"#fff\",\n    },\n    type: \"light\",\n  },\n  props: disableRipple,\n  typography: { h5: themeTypographyH5 },\n};\n\nconst themeDark = {\n  overrides: MuiFormLabel,\n  palette: {\n    background: {\n      default: \"#12100e\",\n      paper: \"#1c1a18\",\n    },\n    type: \"dark\",\n    primary: {\n      contrastText: \"#fff\",\n      main: \"#8182bd\",\n    },\n    secondary: {\n      //main: \"#dc834b\",\n      main: \"#cf72e2\",\n    },\n  },\n  props: disableRipple,\n  typography: { h5: themeTypographyH5 },\n};\n\nexport default function Main() {\n  const store = useLocalForage();\n  const [theme, setTheme] = useState(\n    window.matchMedia &&\n      window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n      ? themeDark\n      : themeLight\n  );\n\n  useEffect(() => {\n    store.settings.getItem(\"doc\").then(function (results) {\n      if (!results) {\n        if (\n          window.matchMedia &&\n          window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n        ) {\n          setTheme(themeDark);\n        } else {\n          setTheme(themeLight);\n        }\n      } else {\n        console.log(\"results.theme:\", results.theme);\n        if (results.theme === \"light\") {\n          setTheme(themeLight);\n        } else {\n          setTheme(themeDark);\n        }\n      }\n    });\n  }, [store.settings]);\n\n  const toggleDarkTheme = () => {\n    setTheme((prev) => {\n      if (prev.palette.type === \"light\") {\n        store.settings.setItem(\"doc\", { theme: \"dark\" });\n        return themeDark;\n      }\n      store.settings.setItem(\"doc\", { theme: \"light\" });\n      return themeLight;\n    });\n  };\n  const muiTheme = createMuiTheme(theme);\n\n  return (\n    <MuiThemeProvider theme={muiTheme}>\n      <CssBaseline />\n      <SignInModalProvider>\n        <ShowSignInBarProvider>\n          <MergeCollectionsProvider>\n            <StoreUserCollectionToServerProvider>\n              <DrawerWithMenuProvider>\n                <DrawerProvider>\n                  <AlertProvider>\n                    <EditCategoryProvider>\n                      <EditCategoryModalProvider>\n                        <DeleteCategoryProvider>\n                          <DeleteCategoryModalProvider>\n                            <AddCategoryProvider>\n                              <AddCategoryModalProvider>\n                                <DeleteCardProvider>\n                                  <MoveCardProvider>\n                                    <SaveCardProvider>\n                                      <AddCardProvider>\n                                        <MoveCardModalProvider>\n                                          <EditCardModalProvider>\n                                            <AddCardModalProvider>\n                                              <VideoPlayerProvider>\n                                                <GithubStarsProvider>\n                                                  <ProductHuntVotesProvider>\n                                                    <SkeletonLoaderForHashNavigationProvider>\n                                                      <StoreVotingStatsToServerProvider>\n                                                        <StoreBookmarksToServerProvider>\n                                                          <StoreBookmarksStateToServerProvider>\n                                                            <VideoProgressBarProvider>\n                                                              {/* <FirestoreProvider\n                                          firebase={firebase}\n                                          {...config}\n                                        > */}\n                                                              <style>\n                                                                {styles2}\n                                                              </style>\n\n                                                              <BrowserRouter>\n                                                                <>\n                                                                  <ScrollToTop>\n                                                                    <Switch>\n                                                                      <Route\n                                                                        exact\n                                                                        path=\"/y/:youtubeId\"\n                                                                      >\n                                                                        <YoutubeConverter />\n                                                                      </Route>\n                                                                      <Route\n                                                                        exact\n                                                                        path=\"/:user/:kit\"\n                                                                      >\n                                                                        <CollectionList\n                                                                          theme={\n                                                                            theme\n                                                                          }\n                                                                        />\n                                                                      </Route>\n                                                                      <Route path=\"/:user([\\w\\-]+)/:kitList([\\w\\-\\/]+)?/:kit([\\w\\-]+)/:collectionId([\\w\\-]+)\">\n                                                                        {console.log(\n                                                                          \"Main\",\n                                                                          new Date().toLocaleString()\n                                                                        )}\n                                                                        <AwesomeSelector />\n                                                                      </Route>\n                                                                      <Route\n                                                                        exact\n                                                                        path=\"/\"\n                                                                      >\n                                                                        <Home />\n                                                                      </Route>\n                                                                      <Route\n                                                                        exact\n                                                                        path=\"/saved\"\n                                                                      >\n                                                                        <MyCollection\n                                                                          theme={\n                                                                            theme\n                                                                          }\n                                                                        />\n                                                                      </Route>\n                                                                      <Route\n                                                                        exact\n                                                                        path=\"/browse\"\n                                                                        children={\n                                                                          <KitsList />\n                                                                        }\n                                                                      />\n                                                                      <Route\n                                                                        exact\n                                                                        path=\"/shared\"\n                                                                        children={\n                                                                          <Shared />\n                                                                        }\n                                                                      />\n                                                                      <Route\n                                                                        exact\n                                                                        path=\"/shared/:id\"\n                                                                        children={\n                                                                          <SharedCard />\n                                                                        }\n                                                                      />\n                                                                      <Route\n                                                                        exact\n                                                                        path=\"/bookmarks\"\n                                                                        children={\n                                                                          <Bookmarks />\n                                                                        }\n                                                                      />\n                                                                      <Route\n                                                                        exact\n                                                                        path=\"/backups\"\n                                                                        children={\n                                                                          <Backups />\n                                                                        }\n                                                                      />\n                                                                      <Route\n                                                                        exact\n                                                                        path=\"/settings\"\n                                                                        children={\n                                                                          <MySettings />\n                                                                        }\n                                                                      />\n                                                                    </Switch>\n                                                                  </ScrollToTop>\n                                                                </>\n                                                                <DrawerWithMenu\n                                                                  toggleDarkTheme={\n                                                                    toggleDarkTheme\n                                                                  }\n                                                                  theme={theme}\n                                                                />\n                                                              </BrowserRouter>\n\n                                                              <UpdateInterfaceBasedOnLocalData />\n                                                              {/*  </FirestoreProvider> */}\n\n                                                              <Alert />\n                                                              <MoveCardModal />\n                                                              <EditCardModal />\n                                                              <AddCardModal />\n                                                              <AddCategoryModal />\n                                                              <DeleteCategoryModal />\n                                                              <EditCategoryModal />\n                                                              <SignInModal />\n                                                              <TopSignInAppBar />\n\n                                                              <RemoteStorage />\n                                                              <AfterUpdate />\n                                                            </VideoProgressBarProvider>\n                                                          </StoreBookmarksStateToServerProvider>\n                                                        </StoreBookmarksToServerProvider>\n                                                      </StoreVotingStatsToServerProvider>\n                                                    </SkeletonLoaderForHashNavigationProvider>\n                                                  </ProductHuntVotesProvider>\n                                                </GithubStarsProvider>\n                                              </VideoPlayerProvider>\n                                            </AddCardModalProvider>\n                                          </EditCardModalProvider>\n                                        </MoveCardModalProvider>\n                                      </AddCardProvider>\n                                    </SaveCardProvider>\n                                  </MoveCardProvider>\n                                </DeleteCardProvider>\n                              </AddCategoryModalProvider>\n                            </AddCategoryProvider>\n                          </DeleteCategoryModalProvider>\n                        </DeleteCategoryProvider>\n                      </EditCategoryModalProvider>\n                    </EditCategoryProvider>\n                  </AlertProvider>\n                </DrawerProvider>\n              </DrawerWithMenuProvider>\n            </StoreUserCollectionToServerProvider>\n          </MergeCollectionsProvider>\n        </ShowSignInBarProvider>\n      </SignInModalProvider>\n    </MuiThemeProvider>\n  );\n}\n"],"sourceRoot":""}